<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Linux 下远程 搭建 Jupyter Notebook 服务器配置及无法连接原因</title>
      <link href="/2018/08/linux+jupyter/"/>
      <url>/2018/08/linux+jupyter/</url>
      
        <content type="html"><![CDATA[<p>本身自己机器上安装了太多东西，有点慢，本来也喜欢所有的东西搬到服务上，所以如果能安装一个远程的Jupyter 服务器，用起来就会很方便。</p><p>记录下自己的安装步骤</p><h3 id="1-安装ipython-jupyter"><a href="#1-安装ipython-jupyter" class="headerlink" title="1. 安装ipython, jupyter"></a>1. 安装ipython, jupyter</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install ipython</span><br><span class="line">pip install jupyter</span><br></pre></td></tr></table></figure><h3 id="2-生成配置文件"><a href="#2-生成配置文件" class="headerlink" title="2. 生成配置文件"></a>2. 生成配置文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@50eb5057baac /]# jupyter notebook --generate-config</span><br><span class="line"></span><br><span class="line">Writing default config to: /root/.jupyter/jupyter_notebook_config.py</span><br></pre></td></tr></table></figure><h3 id="3-生成密码"><a href="#3-生成密码" class="headerlink" title="3. 生成密码"></a>3. 生成密码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">root@50eb5057baac /]# ipython</span><br><span class="line"></span><br><span class="line">Python 3.5.1 (default, Oct 21 2016, 21:37:19)</span><br><span class="line"></span><br><span class="line">Type &apos;copyright&apos;, &apos;credits&apos; or &apos;license&apos; for more information</span><br><span class="line"></span><br><span class="line">IPython 6.2.1 -- An enhanced Interactive Python. Type &apos;?&apos; for help.</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">In [1]: from notebook.auth import passwd</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">In [2]: passwd()</span><br><span class="line"></span><br><span class="line">Enter password:</span><br><span class="line"></span><br><span class="line">Verify password:</span><br><span class="line"></span><br><span class="line">Out[2]: &apos;sha1:43b95b731276:5d330ee6f6054613b3ab4cc59c5048ff7c70f549&apos;#复制下来等会用</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">In [3]:</span><br></pre></td></tr></table></figure><h3 id="3-修改默认配置文件"><a href="#3-修改默认配置文件" class="headerlink" title="3. 修改默认配置文件"></a>3. 修改默认配置文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /root/.jupyter/jupyter_notebook_config.py</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.ip=&apos;*&apos; #设置访问notebook的ip，*表示所有IP，这里设置ip为都可访问  </span><br><span class="line">c.NotebookApp.password = u&apos;sha1:5df252f58b7f:bf65d53125bb36c085162b3780377f66d73972d1&apos; #填写刚刚生成的密文  </span><br><span class="line">c.NotebookApp.open_browser = False # 禁止notebook启动时自动打开浏览器(在linux服务器一般都是ssh命令行访问，没有图形界面的。所以，启动也没啥用)  </span><br><span class="line">c.NotebookApp.port =8889 #指定访问的端口，默认是8888。</span><br></pre></td></tr></table></figure><h3 id="4-启动jupyter-notebook"><a href="#4-启动jupyter-notebook" class="headerlink" title="4. 启动jupyter notebook"></a>4. 启动jupyter notebook</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@346086094cbe /]#jupyter notebook --config /root/.jupyter/jupyter_notebook_config.py --allow-root   </span><br><span class="line">[W 17:17:04.106 NotebookApp] WARNING: The notebook server is listening on all IP addresses and not using encryption. This is not recommended.    </span><br><span class="line">[I 17:17:04.111 NotebookApp] Serving notebooks from local directory: /    </span><br><span class="line">[I 17:17:04.112 NotebookApp] 0 active kernels    </span><br><span class="line">[I 17:17:04.112 NotebookApp] The Jupyter Notebook is running at:    </span><br><span class="line">[I 17:17:04.112 NotebookApp] http://[all ip addresses on your system]:8889/    </span><br><span class="line">[I 17:17:04.112 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmatio</span><br></pre></td></tr></table></figure><h3 id="5-然后你就可以在浏览器里敲入你的地址-http-yourip-8889"><a href="#5-然后你就可以在浏览器里敲入你的地址-http-yourip-8889" class="headerlink" title="5. 然后你就可以在浏览器里敲入你的地址 http://yourip:8889/"></a>5. 然后你就可以在浏览器里敲入你的地址 <a href="http://yourip:8889/" target="_blank" rel="noopener">http://yourip:8889/</a></h3><h3 id="7-后台运行"><a href="#7-后台运行" class="headerlink" title="7.后台运行"></a>7.后台运行</h3><p>上面的启动方式，会在当前目录生成一个日志文件，我忘了叫上面名字，总之随着jupyter notebook的运行，日志文件会越来越大，如果不是很重要，可以设置不记录日志，方法是将所有的输出都重定向到/dev/null 2&gt;&amp;1 &amp;<br>此外，上面的启动方式是启动一个前台进程，如果ssh连接断开，jupyter notebook也就失效了，所以需要将jupyter notebook作为一个后台进程启动，在linux中是nohup命令。</p><p>不启动ssl，不记录日志输出，作为后台进程启动jupyter notebook<br>nohup jupyter notebook &gt;/dev/null 2&gt;&amp;1 &amp;</p><p>上边的命令jupyter notebook  改为jupyter notebook –config /root/.jupyter/jupyter_notebook_config.py –allow-root </p><p>变成这样： nohup jupyter notebook –config /root/.jupyter/jupyter_notebook_config.py –allow-root &gt;/dev/null 2&gt;&amp;1 &amp;</p><h3 id="8-停止jupyter-notebook"><a href="#8-停止jupyter-notebook" class="headerlink" title="8.停止jupyter notebook"></a>8.停止jupyter notebook</h3><p>jupyter notebook作为后台进程启动后，如果想要停止它，可以先找到进程ID，然后kill。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 查看进程</span><br><span class="line">ps -ef | grep &apos;jupyter notebook&apos;</span><br><span class="line"># 输出如下，这里的21983即为进程id，</span><br><span class="line"># hadoop    22136  21983  0 09:10 pts/1    00:00:00 grep jupyter notebook</span><br><span class="line"># 杀死进程</span><br><span class="line">kill -9 21983</span><br></pre></td></tr></table></figure><h3 id="远程访问失败原因："><a href="#远程访问失败原因：" class="headerlink" title="远程访问失败原因："></a>远程访问失败原因：</h3><p>1.启动jupyter notebook后，在虚拟机中打开浏览器可以在访问ipython jupyter，但是远程是无法连接的，因为防火墙啊。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 使用root用户</span><br><span class="line">su</span><br><span class="line"># 开放6789端口</span><br><span class="line">/sbin/iptables -I INPUT -p tcp --dport 6789-j ACCEPT</span><br><span class="line">保存</span><br><span class="line">/etc/rc.d/init.d/iptables save</span><br><span class="line">重启服务</span><br><span class="line">service iptables restart</span><br></pre></td></tr></table></figure></p><p>2.关闭防火墙：命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld.service</span><br></pre></td></tr></table></figure></p><p>3.启动时命令jupyter notebook –config /root/.jupyter/jupyter_notebook_config.py –allow-root<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter_notebook_config.py要用绝对路径</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ls 自定义不同文件显示不同颜色</title>
      <link href="/2018/08/mac+ls/"/>
      <url>/2018/08/mac+ls/</url>
      
        <content type="html"><![CDATA[<h2 id="一种方法：linux"><a href="#一种方法：linux" class="headerlink" title="一种方法：linux"></a>一种方法：linux</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">因为经常使用终端(iTerm|Terminal)ssh到服务器上去,所以整日盯着黑乎乎的屏幕很头痛，还不利于眼睛，所谓“工欲善其事，必先利其器”,所以今天就想让终端也色彩缤纷起来，让我们锻炼眼睛识别颜色的能力吧.在git上找到了SOLARIZED这个项目，可以配置很多很多程序的颜色主体哦,哈哈，很是激动,就配额了一下，下面具体讲讲配置过程。</span><br><span class="line"></span><br><span class="line">我本机呢，主要是用到了iTerm2颜色配置，而服务器因为是CentOS，所以主要还是ls命令的颜色，那就是它的dircolors-solarized子项目啦。</span><br><span class="line">首先讲一下，CentOS下的ls配置Solarized Color Theme for GNU ls (as setup by GNU dircolors).</span><br><span class="line"></span><br><span class="line">Linux下的ls --color=auto</span><br><span class="line">命令，其实是根据两个文件来显示颜色的,/etc/DIR_COLORS 或者 ~/.dir_colors,一个是系统级别的配置文件，一个用户级别的配置文件。</span><br><span class="line"></span><br><span class="line">Solarized Color Theme for GNU ls项目就是提供了配置好了的颜色配置文件，并且可以根据文件类型来展示不同的颜色,可以看看我上面的实例图片，色彩缤纷吧.我就不讲Terminal的 16-色 和 256-色 的差别了，因为我也一知半解.不过这个项目的dircolors.ansi-universal配置文件可以工作在两种形式的终端下，而dircolors.256dark只能工作在265色的终端下，所以除非你知道自己的终端是支持265色的，不然还是下载dircolors.ansi-universal(https://link.jianshu.com/?t=https://github.com/seebi/dircolors-solarized/raw/master/dircolors.ansi-universal)吧.</span><br><span class="line">下面是具体命令</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">cd ~</span><br><span class="line">wget --no-check-certificate https://github.com/seebi/dircolors-solarized/raw/master/dircolors.ansi-universal</span><br><span class="line">#or</span><br><span class="line">#wget http://download.bbkanba.com/dircolors</span><br><span class="line">mv dircolors.ansi-universal ~/.dir_colors</span><br><span class="line">eval `dircolors ~/.dir_colors`</span><br><span class="line">cat &gt;&gt; ~/.bashrc</span><br><span class="line">&lt;&lt;ALLEND########################################</span><br><span class="line">if [ -x /usr/bin/dircolors ]; then </span><br><span class="line">alias ls=&apos;ls --color=auto&apos; </span><br><span class="line">alias dir=&apos;dir --color=auto&apos; </span><br><span class="line">alias vdir=&apos;vdir --color=auto&apos; </span><br><span class="line">alias grep=&apos;grep --color=auto&apos; </span><br><span class="line">alias fgrep=&apos;fgrep --color=auto&apos; </span><br><span class="line">alias egrep=&apos;egrep --color=auto&apos; </span><br><span class="line">alias tree=&apos;tree -C&apos;</span><br><span class="line">fi</span><br><span class="line">########################################ALLEND</span><br><span class="line">source ~/.bashrcls</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">iTerm2的配置</span><br><span class="line">iTerm2的配置配置更简单一点，进入到iTerm2的配置子项目下，下载配置文件Solarized Dark.itermcolors或者Solarized Light.itermcolors，双击导入，然后更改首选项选择主题就可以。具体可以查看ReadMe文件。</span><br><span class="line"></span><br><span class="line">这里需要补充一点的是，mac 下的ls命令不是gun ls，所以即使iterm2安装了颜色主题，敲入ls命令以后，显示的文件颜色还是有问题的，这里有一个补救办法，运行下面这行，之后再看ls命令的颜色是不是变了</span><br><span class="line">export LSCOLORS=gxfxbEaEBxxEhEhBaDaCaD</span><br><span class="line">但是，这种补救办法也不完美，比如不能根据文件类型来显示颜色。</span><br><span class="line">如果你想追求完美的话，还有另外一种办法，就是用 brew install coreutils</span><br><span class="line">，安装 gun ls命令到mac下，到时你还需要跟上面在linux下操作的一样，下载配置文件，放入到~/.dir_colors</span><br></pre></td></tr></table></figure><h2 id="二另一种方法：mac系统"><a href="#二另一种方法：mac系统" class="headerlink" title="二另一种方法：mac系统"></a>二另一种方法：mac系统</h2><p>Mac终端terminal颜色实在太单调了，安装Linux使用的GNU Coreutils替换Mac的ls命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">1、使用 Homebrew 工具安装Coreutils。</span><br><span class="line">Homebrew类似于Centos下的Yum工具，安装软件自动解决依赖关系，非常不错。Homebrew工具的安装见Homebrew官方首页安装说明。</span><br><span class="line">由于Coreutils安装包是xz压缩格式，因此需要同时安装xz工具：</span><br><span class="line">brew install xz coreutils</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">2、生成颜色配置文件：</span><br><span class="line">gdircolors --print-database &gt; ~/.dir_colors</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3、在~/.bash_profile配置文件中加入以下代码：</span><br><span class="line">if brew list | grep coreutils &gt; /dev/null ; then</span><br><span class="line">  PATH=&quot;$(brew --prefix coreutils)/libexec/gnubin:$PATH&quot;</span><br><span class="line">  alias ls=&apos;ls --show-control-chars --color=auto&apos;</span><br><span class="line">  eval `gdircolors -b $HOME/.dir_colors`</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">或者：</span><br><span class="line"></span><br><span class="line">if [ &quot;$TERM&quot; != &quot;dumb&quot; ]; then</span><br><span class="line">export LS_OPTIONS=&apos;--color=auto&apos;</span><br><span class="line">test -r ~/.dir_colors &amp;&amp; eval &quot;$(gdircolors -b ~/.dir_colors)&quot; || eval &quot;$(gdircolors -b)&quot;</span><br><span class="line">eval `gdircolors ~/.dir_colors`</span><br><span class="line">fi</span><br><span class="line"># Useful aliases</span><br><span class="line">alias ls=&apos;ls $LS_OPTIONS&apos;</span><br><span class="line">alias ll=&apos;ls -al&apos;</span><br><span class="line">alias grep=&apos;grep $LS_OPTIONS&apos;</span><br><span class="line">alias fgrep=&apos;fgrep $LS_OPTIONS&apos;</span><br><span class="line">alias egrep=&apos;egrep $LS_OPTIONS&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">gdircolor的作用就是设置ls命令使用的环境变量LS_COLORS（BSD是LSCOLORS），我们可以修改~/.dir_colors自定义文件的颜色，此文件中的注释已经包含各种颜色取值的说明。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> mac </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js中的Math对象的方法</title>
      <link href="/2018/07/js+Math/"/>
      <url>/2018/07/js+Math/</url>
      
        <content type="html"><![CDATA[<p>1.丢弃小数部分,保留整数部分<br>      parseInt(5/2)</p><p>2.向上取整,有小数就整数部分加1</p><pre><code>Math.ceil(5/2)</code></pre><p>3,四舍五入.</p><pre><code>Math.round(5/2)</code></pre><p>4,向下取整</p><pre><code>Math.floor(5/2)</code></pre><p>5,返回数的绝对值</p><pre><code>Math.abs(x)</code></pre><p>6,返回 x 和 y 中的最高值</p><pre><code>Math.max(x,y) </code></pre><p>7,返回 x 和 y 中的最低值</p><pre><code>Math.min(x,y)</code></pre><p>8,返回 0 ~ 1 之间的随机数</p><pre><code>Math.random()</code></pre><p>9, 返回数的反余弦值</p><pre><code>Math.acos(x)</code></pre><p>10,返回数的反正弦值</p><pre><code>Math.asin(x) </code></pre><p>11, 以介于 -PI/2 与 PI/2 弧度之间的数值来返回 x 的反正切值</p><pre><code>Math.atan(x)</code></pre><p>12,返回从 x 轴到点 (x,y) 的角度（介于 -PI/2 与 PI/2 弧度之间）</p><pre><code>Math.atan2(y,x)</code></pre><p>13,返回数的余弦</p><pre><code>Math.cos(x)</code></pre><p>14,返回 e 的指数</p><pre><code>Math.exp(x) </code></pre><p>15,返回数的自然对数（底为e)</p><pre><code>Math.log(x)</code></pre><p>16,返回 x 的 y 次幂</p><pre><code>Math.pow(x,y) </code></pre><p>17,返回数的正弦</p><pre><code>Math.sin(x) </code></pre><p>18,返回一个角的正切</p><pre><code>Math.tan(x) </code></pre><p>19,返回数的平方根</p><pre><code>Math.sqrt(x) </code></pre><p>20,代表对象的源代码</p><pre><code>Math.toSource() </code></pre><p>21,返回一个 Math 对象的原始值</p><pre><code>Math.valueOf() </code></pre><p>22.js中如何快速获取数组中的最大值最小值<br>       var a=[1,2,3,5];<br>      alert(Math.max.apply(null, a));//最大值<br>      alert(Math.min.apply(null, a));//最小值<br>多维数组可以这么修改：<br>      var a=[1,2,3,[5,6],[1,4,8]];<br>      var ta=a.join(“,”).split(“,”);//转化为一维数组<br>      alert(Math.max.apply(null,ta));//最大值<br>      alert(Math.min.apply(null,ta));//最小值</p>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js字符截取</title>
      <link href="/2018/07/js+string/"/>
      <url>/2018/07/js+string/</url>
      
        <content type="html"><![CDATA[<p>在js中字符截取函数有常用的三个slice()、substring()、substr()了，下面我来给大家介绍slice()、substring()、substr()函数在字符截取时的一些用法与区别吧。</p><p>取字符串的三个函数:slice(start,[end]),substring(start,[end])和substr(start,[length])<br>相关属性：</p><p>slice()<br>第一个参数代表开始位置,第二个参数代表结束位置的下一个位置,截取出来的字符串的长度为第二个参数与第一个参数之间的差;若参数值为负数,则将该值加上字符串长度后转为正值;若第一个参数等于大于第二个参数,则返回空字符串.</p><p>substring()<br>第一个参数代表开始位置,第二个参数代表结束位置的下一个位置;若参数值为负数,则将该值转为0;两个参数中,取较小值作为开始位置,截取出来的字符串的长度为较大值与较小值之间的差.</p><p>substr()<br>第一个参数代表开始位置,第二个参数代表截取的长度</p><p>PS：字符串都从0开始计起</p><p>例子：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">      <span class="keyword">var</span> stmp = <span class="string">"rcinn.cn"</span>;</span><br><span class="line">      <span class="comment">//使用一个参数</span></span><br><span class="line">      alert(stmp.slice(<span class="number">3</span>));<span class="comment">//从第4个字符开始,截取到最后个字符;返回"nn.cn"</span></span><br><span class="line">      alert(stmp.substring(<span class="number">3</span>));<span class="comment">//从第4个字符开始,截取到最后个字符;返回"nn.cn"</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//使用两个参数</span></span><br><span class="line">      alert(stmp.slice(<span class="number">1</span>,<span class="number">5</span>))<span class="comment">//从第2个字符开始，到第5个字符；返回"cinn"</span></span><br><span class="line">      alert(stmp.substring(<span class="number">1</span>,<span class="number">5</span>));<span class="comment">//从第2个字符开始，到第5个字符；返回"cinn"</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//如果只用一个参数并且为0的话，那么返回整个参数</span></span><br><span class="line">      alert(stmp.slice(<span class="number">0</span>));<span class="comment">//返回整个字符串</span></span><br><span class="line">      alert(stmp.substring(<span class="number">0</span>));<span class="comment">//返回整个字符串</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//返回第一个字符</span></span><br><span class="line"></span><br><span class="line">      alert(stmp.slice(<span class="number">0</span>,<span class="number">1</span>));<span class="comment">//返回"r"</span></span><br><span class="line">      alert(stmp.substring(<span class="number">0</span>,<span class="number">1</span>));<span class="comment">//返回"r"</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//在上面的例子中我们可以看出slice()和substring()的用法是相同的</span></span><br><span class="line">      <span class="comment">//返回的值也是一样的，但当参数为负数时，他们的返回值却不一样，看下面的例子</span></span><br><span class="line">      alert(stmp.slice(<span class="number">2</span>,<span class="number">-5</span>));<span class="comment">//返回"i"</span></span><br><span class="line">      alert(stmp.substring(<span class="number">2</span>,<span class="number">-5</span>));<span class="comment">//返回"rc"</span></span><br><span class="line">      <span class="comment">//从上面两个例子可以看出slice(2,-5)实际上是slice(2,3)</span></span><br><span class="line">      <span class="comment">//负5加上字符串长度8转换成正3(若第一位数字等于或大于第二位数字,则返回空字符串);</span></span><br><span class="line">      <span class="comment">//而substring(2,-5)实际上是substring(2,0),负数转换为0,substring总是把较小的数作为起始位置。</span></span><br><span class="line"></span><br><span class="line">      alert(stmp.substring(<span class="number">1</span>,<span class="number">5</span>))<span class="comment">//从第2个字符开始，到第5个字符；返回"cinn"</span></span><br><span class="line">      alert(stmp.substr(<span class="number">1</span>,<span class="number">5</span>));<span class="comment">//从第2个字符开始，截取5个字符；返回"cinn."</span></span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>substr 和 substring方法的区别</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt; </span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"0123456789"</span>;<span class="comment">// </span></span><br><span class="line">alert(str.substring(<span class="number">0</span>));<span class="comment">//------------"0123456789" </span></span><br><span class="line">alert(str.substring(<span class="number">5</span>));<span class="comment">//------------"56789" </span></span><br><span class="line">alert(str.substring(<span class="number">10</span>));<span class="comment">//-----------"" </span></span><br><span class="line">alert(str.substring(<span class="number">12</span>));<span class="comment">//-----------"" </span></span><br><span class="line">alert(str.substring(<span class="number">-5</span>));<span class="comment">//-----------"0123456789" </span></span><br><span class="line">alert(str.substring(<span class="number">-10</span>));<span class="comment">//----------"0123456789" </span></span><br><span class="line">alert(str.substring(<span class="number">-12</span>));<span class="comment">//----------"0123456789" </span></span><br><span class="line">alert(str.substring(<span class="number">0</span>,<span class="number">5</span>));<span class="comment">//----------"01234" </span></span><br><span class="line">alert(str.substring(<span class="number">0</span>,<span class="number">10</span>));<span class="comment">//---------"0123456789" </span></span><br><span class="line">alert(str.substring(<span class="number">0</span>,<span class="number">12</span>));<span class="comment">//---------"0123456789" </span></span><br><span class="line">alert(str.substring(<span class="number">2</span>,<span class="number">0</span>));<span class="comment">//----------"01" </span></span><br><span class="line">alert(str.substring(<span class="number">2</span>,<span class="number">2</span>));<span class="comment">//----------"" </span></span><br><span class="line">alert(str.substring(<span class="number">2</span>,<span class="number">5</span>));<span class="comment">//----------"234" </span></span><br><span class="line">alert(str.substring(<span class="number">2</span>,<span class="number">12</span>));<span class="comment">//---------"23456789" </span></span><br><span class="line">alert(str.substring(<span class="number">2</span>,<span class="number">-2</span>));<span class="comment">//---------"01" </span></span><br><span class="line">alert(str.substring(<span class="number">-1</span>,<span class="number">5</span>));<span class="comment">//---------"01234" </span></span><br><span class="line">alert(str.substring(<span class="number">-1</span>,<span class="number">-5</span>));<span class="comment">//--------"" </span></span><br><span class="line">alert(str.substr(<span class="number">0</span>));<span class="comment">//---------------"0123456789" </span></span><br><span class="line">alert(str.substr(<span class="number">5</span>));<span class="comment">//---------------"56789" </span></span><br><span class="line">alert(str.substr(<span class="number">10</span>));<span class="comment">//--------------"" </span></span><br><span class="line">alert(str.substr(<span class="number">12</span>));<span class="comment">//--------------"" </span></span><br><span class="line">alert(str.substr(<span class="number">-5</span>));<span class="comment">//--------------"0123456789" </span></span><br><span class="line">alert(str.substr(<span class="number">-10</span>));<span class="comment">//-------------"0123456789" </span></span><br><span class="line">alert(str.substr(<span class="number">-12</span>));<span class="comment">//-------------"0123456789" </span></span><br><span class="line">alert(str.substr(<span class="number">0</span>,<span class="number">5</span>));<span class="comment">//-------------"01234" </span></span><br><span class="line">alert(str.substr(<span class="number">0</span>,<span class="number">10</span>));<span class="comment">//------------"0123456789" </span></span><br><span class="line">alert(str.substr(<span class="number">0</span>,<span class="number">12</span>));<span class="comment">//------------"0123456789" </span></span><br><span class="line">alert(str.substr(<span class="number">2</span>,<span class="number">0</span>));<span class="comment">//-------------"" </span></span><br><span class="line">alert(str.substr(<span class="number">2</span>,<span class="number">2</span>));<span class="comment">//-------------"23" </span></span><br><span class="line">alert(str.substr(<span class="number">2</span>,<span class="number">5</span>));<span class="comment">//-------------"23456" </span></span><br><span class="line">alert(str.substr(<span class="number">2</span>,<span class="number">12</span>));<span class="comment">//------------"23456789" </span></span><br><span class="line">alert(str.substr(<span class="number">2</span>,<span class="number">-2</span>));<span class="comment">//------------"" </span></span><br><span class="line">alert(str.substr(<span class="number">-1</span>,<span class="number">5</span>));<span class="comment">//------------"01234" </span></span><br><span class="line">alert(str.substr(<span class="number">-1</span>,<span class="number">-5</span>));<span class="comment">//-----------"" </span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>函数：split()<br>功能：使用一个指定的分隔符把一个字符串分割存储到数组<br>例子：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str=”jpg|bmp|gif|ico|png”;</span><br><span class="line">arr=theString.split(”|”);</span><br><span class="line">//arr是一个包含字符值”jpg”、”bmp”、”gif”、”ico”和”png”的数组</span><br></pre></td></tr></table></figure><p>函数：John()<br>功能：使用您选择的分隔符将一个数组合并为一个字符串<br>例子：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var delimitedString=myArray.join(delimiter);</span><br><span class="line">var myList=new Array(”jpg”,”bmp”,”gif”,”ico”,”png”);</span><br><span class="line">var portableList=myList.join(”|”);</span><br><span class="line">//结果是jpg|bmp|gif|ico|png</span><br></pre></td></tr></table></figure><p> 函数：indexOf()<br>功能：返回字符串中匹配子串的第一个字符的下标</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var myString=”JavaScript”;</span><br><span class="line">var w=myString.indexOf(”v”);w will be 2</span><br><span class="line">var x=myString.indexOf(”S”);x will be 4</span><br><span class="line">var y=myString.indexOf(”Script”);y will also be 4</span><br><span class="line"></span><br><span class="line">var z=myString.indexOf(”key”);z will be -1</span><br></pre></td></tr></table></figure><p>在网上看到另一种非常简单的方法，代码如下：</p><p>　　function func(s, n) {<br>　　　　return s.replace(/([^x00-xff])/g, “$1a”).slice(0, n).replace(/([^x00-xff])a/g, “$1″);<br>　　}</p><p>这个方法非常巧妙，而且基本上是正确的。说“基本上”是因为它在取“123汉字测试”左边长度为 6 的子串时，它返回的是“123汉字”，而不是“123汉”。当然，这也并不一定就是问题，某些情况下需求可能就是这样。这个方法还可以再改进一下，如下：</p><p>　function func(s, n) {<br>　　　　return s.slice(0, n).replace(/([^x00-xff])/g, “$1a”).slice(0, n).replace(/([^x00-xff])a/g, “$1″);<br>　　}</p>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>typescript数组操作方法</title>
      <link href="/2018/07/typescript+array/"/>
      <url>/2018/07/typescript+array/</url>
      
        <content type="html"><![CDATA[<p>数组的语法和语义与C#数组非常相似,首先要指定一个数组名,后跟冒号,冒号后面紧跟数组的类型,数组类型名后面跟方括号表示当前定义的是一个数组,对于一个空的数组定义,可以使用如下的语法:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">btnArrayClick(sender: Core.Classes.TComponent)&#123;</span><br><span class="line">    //定义一个字符串类型的数组</span><br><span class="line">    var actors:string[]=[&quot;张三&quot;,&quot;李四&quot;,&quot;王五&quot;,&quot;赵六&quot;];</span><br><span class="line">    //可以使用Array对象的任何属性</span><br><span class="line">    alert(actors.length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>数组属于Array对象的实例,因此要实例化一个空白的数组,可以直接赋一个空白的Array对象实例即可,如下代码所示:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">btnemptyArrayClick(sender: Core.Classes.TComponent)&#123;</span><br><span class="line">    //定义一个任意类型的空白数组,这个语法不被支持</span><br><span class="line">    //var emptyArray:any[]=new Array();</span><br><span class="line">    //建议使用如下的语法</span><br><span class="line">    var emptyArray:any[]=[];</span><br><span class="line">    emptyArray[0]=&quot;这是一个测试&quot;;</span><br><span class="line">    alert(emptyArray[0]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我发现在WisOne IDE直接赋一个new Array()对象实例给类型为any的数组不被支持,因此在这里直接赋了一个[]空白数组符号,并为其第1个元素赋了一个字符串,然后用alert函数输出其第1个元素.</p><p>TypeScript建议用户最好只为数组赋一种类型的值,当然通过any[]也可以类似javaScript那样为数组中的元素分配任何类型的值.假定你定义了一个字符串类型的数组,但是又为其分配数字类型的元素,那么TypeScript编译器也不会抛出异常,尽管如此,你还是应该总是确保总是只使用一种类型:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">btnArrayTypeClick(sender: Core.Classes.TComponent)&#123;</span><br><span class="line">    //定义数字类型的数组,但是又分配了字符串和数字值,编译器没有抛出异常</span><br><span class="line">    var actors:number[]=[&quot;李小五&quot;,123];</span><br><span class="line">    alert(actors[0]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>在TypeScript数组尽管具有与C#类似的语法,但它是变长数组类型的,这意味着可以使用数组的一些方法比如push或pop来添加或删除元素,因而数组的length属性值也是经常变化的,对于数组中的元素,可以使用for或for..in循环来遍历其中的元素.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">btnArrayForClick(sender: Core.Classes.TComponent)&#123;</span><br><span class="line">    //定义一个字符串类型的数组</span><br><span class="line">    var actors:string[]=[&quot;张三&quot;,&quot;李四&quot;,&quot;王五&quot;,&quot;赵六&quot;];            </span><br><span class="line">    //使用标准for循环</span><br><span class="line">    for (var i = 0; i &lt; actors.length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        console.log(actors[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    //使用for..in循环</span><br><span class="line">    for (var actor in actors)</span><br><span class="line">    &#123;</span><br><span class="line">        console.log(actors[actor]);</span><br><span class="line">    &#125;            </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在javaScript中,数组的下标即可以是整数类型,也可以是字符串类型,但是使用数值类型的下标返回的值类型为any类型,而不是特定的类型.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var asExpected = actors[0];          // 返回字符串类型的 &quot;张三&quot;</span><br><span class="line">var gotcha = actors[&quot;Ian Holm&quot;];   //返回任意类型的值</span><br><span class="line">TypeScript中还可以使用很多类似javaScript中的函数来实现对数组的操纵,接下来讨论一些常见函数的使用:</span><br></pre></td></tr></table></figure><h2 id="Concat-方法"><a href="#Concat-方法" class="headerlink" title="Concat()方法"></a>Concat()方法</h2><p>该方法用于连接或者是合并2个或多个数组,并且返回一个新的数组,它并不改变已经存在的数组,而是返回一个包含所有数组值的数组.<br>语法如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">array.concat(value1,value2,valu3,....................valuen)</span><br><span class="line">array: 所有的其他数组要进行合并的源数组</span><br><span class="line">value:要添加到源数组中的其他数组元素.</span><br></pre></td></tr></table></figure><p>举例:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">        var fstarry: string[] = [&apos;C&apos;,&apos;Sharp&apos;];</span><br><span class="line">        var scndarry: string[] = [&apos;Corner&apos;, &apos;.com&apos;];</span><br><span class="line">        var result = fstarry.concat(scndarry);</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">## IndexOf()方法</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">用来在数组中搜索指定的元素值,并且返回所发现的第1个结果值的下标,语法如下所示:</span><br></pre></td></tr></table></figure><p>array.indexOf(searchvalue,start)<br>searchvalue是指定要搜索的值,start指定要搜索的起始索引位置,如果没有指定,那么表示从0开始进行搜索.如果找到则返回找到的索引值,如果没有找到,则返回-1.</p><pre><code>var arrayName: string[] = [&apos;C&apos;,&apos;Sharp&apos;,&apos;Corner&apos;,&apos;Dot&apos;,&apos;Net&apos;,&apos;Heaven&apos;];var index = arrayName.indexOf(&apos;Dot&apos;);</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## Join()方法</span><br><span class="line">该方法用于连接一个数组的元素到一个字符串,并且返回该字符串.join方法接收一个分隔符作为参数,指定特定的像空格\逗号或加号等其他的字符来分隔数组中的元素,如果没有指定任何参数,这个方法将转换数组中的所有元素为字符串,并且连接并通过逗号分隔字符串数组元素.</span><br><span class="line"></span><br><span class="line">array.join(separator)</span><br><span class="line">示例如下所示:</span><br></pre></td></tr></table></figure><pre><code>btnArrayJoinClick(sender: Core.Classes.TComponent){     var fstarry: string[] = [&apos;C&apos;,&apos;Sharp&apos;,&apos;Corner&apos;, &apos;.com&apos;];    var result = fstarry.join();   var result1 = fstarry.join(&apos;+&apos;);   var result2 = fstarry.join(&apos;*&apos;);   this.edit1.text=&quot;Join Method \n 第1个join示例 -&gt; &quot; + result + &quot;\n&quot; + &quot;第2个使用+号的示例 (+) -&gt; &quot; + result1 + &quot;\n&quot; +                     &quot;第3个使用*号的示例(*) -&gt; &quot; + result2 +&quot;\n&quot;;}</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">结果如下所示:</span><br></pre></td></tr></table></figure><p>Join Method  第1个join示例 -&gt; C,Sharp,Corner,.com<br>            第2个使用+号的示例 (+) -&gt; C+Sharp+Corner+.com<br>             第3个使用<em>号的示例(</em>) -&gt; C<em>Sharp</em>Corner*.com<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## LastIndexOf()方法</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">与IndexOf相反,它返回的是最后一次批配的字符串的索引位置,如下语法所示:</span><br></pre></td></tr></table></figure></p><p>array.lastIndexOf(searchvalue,start)<br>如下示例所示:</p><pre><code>button1Click(sender: Core.Classes.TComponent){       var arrayName: string[] = [&apos;C&apos;,&apos;Sharp&apos;,&apos;Corner&apos;,&apos;VB&apos;,&apos;Net&apos;,&apos;Heaven&apos;];       var index = arrayName.lastIndexOf(&apos;Corner&apos;);       this.edit1.text=&quot;Corner的索引位置是:&quot;+index;}</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">输出结果如下:</span><br><span class="line"></span><br><span class="line">Corner的索引位置是:2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## Push() 方法</span><br><span class="line">Push方法向数组的最后位置中插入一个或多个元素,返回新的数组的长度,push方法视数组为一个堆栈结构,语法如下所示:</span><br><span class="line"></span><br><span class="line">array.push(element1,element 2,.........)</span><br><span class="line">示例如下所示:</span><br></pre></td></tr></table></figure><pre><code>btnpushdemoClick(sender: Core.Classes.TComponent){    var fstarry: string[] = [&apos;C&apos;,&apos;Sharp&apos;,&apos;Corner&apos;];     var elemnt =&quot;wis_one&quot;    fstarry.push(elemnt);    this.edit1.text= &quot;Push Method \n 插入了数组元素值之后, Array is -&gt; &quot; + fstarry + &quot;\n&quot;;       }</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">输出结果如下所示:</span><br><span class="line"></span><br><span class="line">Push Method  插入了数组元素值之后, Array is -&gt; C,Sharp,Corner,wis_one</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## pop()方法</span><br><span class="line">pop方法是Array对象中最流行的方法,该方法移除数组中的最后一个元素,减少数组的长度并且返回被移除的元素,如果数组为空,则pop方法会返回null.</span><br><span class="line"></span><br><span class="line">语法如下所示:</span><br></pre></td></tr></table></figure><p>array.pop()<br>示例如下所示:</p><pre><code>btnpopDemoClick(sender: Core.Classes.TComponent){     var arrayName: string[] = [&apos;C&apos;,&apos;Sharp&apos;,&apos;Corner&apos;,&apos;VB&apos;,&apos;Net&apos;,&apos;Heaven&apos;];     var index = arrayName.pop().toString();     this.edit1.text= &quot;Pop Method \n 从数组中移除元素-&gt; &quot; + index;}</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">输出结果如下所示:</span><br><span class="line"></span><br><span class="line">Pop Method  从数组中移除元素-&gt; Heaven</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## reverse()方法</span><br><span class="line">用于反转数组元素的顺序,reverse方法没有参数,返回被反转后的数组,使得最后一个元素变为第1个元素,第1个元素变为最后一个元素.</span><br><span class="line">语法如下所示:</span><br></pre></td></tr></table></figure><p>array.reverse()<br>示例如下所示:</p><pre><code>var fstarry: string[] = [&apos;C&apos;,&apos;Sharp&apos;,&apos;Corner&apos;]; fstarry.reverse();this.edit1.text = &quot;Revrese Method \n 反转后的数组: -&gt; &quot; + fstarry + &quot;\n&quot;;     </code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">结果如下所示:</span><br><span class="line"></span><br><span class="line">Revrese Method  反转后的数组: -&gt; Corner,Sharp,C</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## shift() 方法</span><br><span class="line">移除数组中的首个元素,减少数组的长度并且返回被移除的元素,如果数组的键为数字型,那么所有的元素将得到新的键,从0开始依次递增.</span><br></pre></td></tr></table></figure><p>array.shift()<br>示例如下所示:</p><pre><code>var arrayName: string[] = [&apos;C&apos;,&apos;Sharp&apos;,&apos;Corner&apos;,&apos;VB&apos;,&apos;Net&apos;,&apos;Heaven&apos;];var index = arrayName.shift().toString();this.edit1.text = &quot;Shift Method \n 移除的元素为 -&gt; &quot; + index;</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">结果如下所示:</span><br><span class="line"></span><br><span class="line">Shift Method  移除的元素为 -&gt; C</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## slice() 方法</span><br><span class="line">该方法返回指定起始位置的一个新的数组,slice和concat方法让用户可以根据指定的原始数组创建一个新的数组,并不会修改原始的数组,如果只想让原始数组被新数组替代,可以设置旧的数组等于新的数组.</span><br><span class="line">语法如下所示:</span><br></pre></td></tr></table></figure><p>array.slice(start,end)<br>示例如下所示:</p><pre><code>var fstarry: string[] = [&apos;C&apos;,&apos;Sharp&apos;,&apos;Corner&apos;,&apos;Dot&apos;,&apos;Net&apos;,&apos;Heaven&apos;,&apos;Modeling&apos;,&apos;Corner&apos;]; var sliceArry=fstarry.slice(3, 7);this.edit1.text = &quot;Slice Method \n 新的数组为 -&gt; &quot; + sliceArry + &quot;\n&quot;;</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">示例运行结果如下:</span><br><span class="line"></span><br><span class="line">Slice Method  新的数组为 -&gt; Dot,Net,Heaven,Modeling</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## sort() 方法</span><br><span class="line"></span><br><span class="line">排序数组,如果没有指定参数,那么将会按照字母数字顺序进行排序,语法如下:</span><br></pre></td></tr></table></figure><p>array.sort(comparison_function)<br>示例如下所示:</p><pre><code>var arrayName: string[] = [&apos;C&apos;,&apos;Sharp&apos;,&apos;Corner&apos;,&apos;VB&apos;,&apos;Net&apos;,&apos;Heaven&apos;];var sortArry = arrayName.sort();this.edit1.text= &quot;Sort Method \n 排序后的结果为-&gt; &quot; + sortArry+&quot;\n&quot;;</code></pre><p><code>`</code><br>运行效果如下所示:</p><p>Sort Method  排序后的结果为-&gt; C,Corner,Heaven,Net,Sharp,VB</p>]]></content>
      
      
      <categories>
          
          <category> ts </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL自动删除指定时间以前的记录</title>
      <link href="/2018/07/mysql+dingshi/"/>
      <url>/2018/07/mysql+dingshi/</url>
      
        <content type="html"><![CDATA[<blockquote><p>关于Event：mysql5.1版本开始引进event概念。event既“时间触发器”，与triggers的事件触发不同，event类似与linux crontab计划任务，用于时间触发。通过单独或调用存储过程使用，在某一特定的时间点，触发相关的SQL语句或存储过程。</p></blockquote><a id="more"></a><p>首先删除2天以前记录的SQL语句(webserver_monitormemory为表名，time为时间字段)：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete From webserver_monitormemory where DATE(time) &lt;= DATE(DATE_SUB(NOW(),INTERVAL 2 day));</span><br></pre></td></tr></table></figure><p>创建存储过程：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER //</span><br><span class="line">CREATE PROCEDURE autodel()</span><br><span class="line">    -&gt; BEGIN</span><br><span class="line">    -&gt; delete From webserver_monitormemory where DATE(time) &lt;= DATE(DATE_SUB(NOW(),INTERVAL 2 day));</span><br><span class="line">    -&gt; END</span><br><span class="line">    -&gt; //</span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure><p>创建事件，定制每天执行autodel的存储过程：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE EVENT `event_auto_del_memorydata`   </span><br><span class="line">ON SCHEDULE EVERY 1 DAY STARTS &apos;2017-11-20 00:00:00&apos;   </span><br><span class="line">ON COMPLETION NOT PRESERVE ENABLE DO CALL autodel();</span><br></pre></td></tr></table></figure><p>开启事件计划（调度器）4种方法。键值1或者ON表示开启；0或者OFF表示关闭：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SET GLOBAL event_scheduler = 1;  </span><br><span class="line">SET @@global.event_scheduler = 1;  </span><br><span class="line">SET GLOBAL event_scheduler = ON;  </span><br><span class="line">SET @@global.event_scheduler = ON;</span><br></pre></td></tr></table></figure><p>查看当前是否已开启事件计划（调度器）3种方法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SHOW VARIABLES LIKE &apos;event_scheduler&apos;;</span><br><span class="line">SELECT @@event_scheduler;</span><br><span class="line">SHOW PROCESSLIST;﻿​</span><br></pre></td></tr></table></figure><p>事件开启与关闭：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER EVENT event_auto_del_memorydata ON COMPLETION PRESERVE ENABLE; //开启某事件</span><br><span class="line">ALTER EVENT event_auto_del_memorydata ON COMPLETION PRESERVE DISABLE; //关闭某事件</span><br></pre></td></tr></table></figure><p>这个是最简单但是也是最重要的，我们要手动的启动这个定时器，要不然是没法工作的。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ALTER EVENT event_time_clear_data ON </span><br><span class="line"> </span><br><span class="line">COMPLETION PRESERVE ENABLE;</span><br></pre></td></tr></table></figure><p>另外，关闭定时器的代码是：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ALTER EVENT event_time_clear_data ON </span><br><span class="line"> </span><br><span class="line">COMPLETION PRESERVE DISABLE;</span><br></pre></td></tr></table></figure><p>删除存储过程：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP PROCEDURE pro_clear_data;</span><br></pre></td></tr></table></figure></p><p>删除Event:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP EVENT IF EXISTS event_time_clear_data1</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>爬取国家电网电费的python爬虫代码</title>
      <link href="/2018/07/python+dianfei/"/>
      <url>/2018/07/python+dianfei/</url>
      
        <content type="html"><![CDATA[<p>废话少说，直接上代码</p><a id="more"></a><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="comment">#import urllib2</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> http.cookiejar</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt <span class="comment"># plt 用于显示图片</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.image <span class="keyword">as</span> mpimg <span class="comment"># mpimg 用于读取图片</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 你的header文件</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">'Host'</span>: <span class="string">'www.95598.cn'</span>,</span><br><span class="line">    <span class="string">'User-Agent'</span>: <span class="string">''</span>,</span><br><span class="line">    <span class="string">'Accept'</span>: <span class="string">''</span>,</span><br><span class="line">    <span class="string">'Accept-Language'</span>: <span class="string">''</span>,</span><br><span class="line">    <span class="string">'Accept-Encoding'</span>: <span class="string">''</span>,</span><br><span class="line">    <span class="string">'DNT'</span>: <span class="string">'1'</span>,</span><br><span class="line">    <span class="string">'Referer'</span>: <span class="string">''</span>,</span><br><span class="line">    <span class="comment">#'Cookie': ',</span></span><br><span class="line">    <span class="string">'Connection'</span>: <span class="string">'keep-alive'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 建立一个会话，可以把同一用户的不同请求联系起来；直到会话结束都会自动处理cookies</span></span><br><span class="line">session = requests.Session()</span><br><span class="line"><span class="comment"># 建立LWPCookieJar实例，可以存Set-Cookie3类型的文件。</span></span><br><span class="line"><span class="comment"># 而MozillaCookieJar类是存为'/.txt'格式的文件</span></span><br><span class="line">session.cookies = http.cookiejar.LWPCookieJar(<span class="string">"cookie"</span>)</span><br><span class="line"><span class="comment"># 若本地有cookie则不用再post数据了</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    session.cookies.load(ignore_discard=<span class="literal">True</span>)</span><br><span class="line"><span class="keyword">except</span> IOError:</span><br><span class="line">    print(<span class="string">'Cookie未加载！'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_code</span><span class="params">()</span>:</span></span><br><span class="line">    </span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    获取验证码本地显示</span></span><br><span class="line"><span class="string">    返回你输入的验证码，目前还没能自动识别，在更新</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    t = str(int(time.time() * <span class="number">1000</span>))<span class="comment">#验证码路径是Unix的时间戳作为路径参数</span></span><br><span class="line">    captcha_url = <span class="string">'http://www.95598.cn/95598/imageCode/getImgCode?'</span> + t</span><br><span class="line">    response = session.get(captcha_url, headers=headers)</span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">'cptcha.gif'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(response.content)</span><br><span class="line">    <span class="comment"># Pillow显示验证码</span></span><br><span class="line">    <span class="comment">#   m = Image.open('cptcha.gif')</span></span><br><span class="line">    <span class="comment">#   m.show()</span></span><br><span class="line">    <span class="comment">#return m</span></span><br><span class="line">    lena = mpimg.imread(<span class="string">'cptcha.gif'</span>) <span class="comment"># 读取和代码处于同一目录下的 lena.png</span></span><br><span class="line">    <span class="comment"># 此时 lena 就已经是一个 np.array 了，可以对它进行任意处理</span></span><br><span class="line">    lena.shape <span class="comment">#(512, 512, 3)</span></span><br><span class="line"></span><br><span class="line">    plt.imshow(lena) <span class="comment"># 显示图片</span></span><br><span class="line">    plt.axis(<span class="string">'off'</span>) <span class="comment"># 不显示坐标轴</span></span><br><span class="line">    plt.show()</span><br><span class="line">    captcha = input(<span class="string">'本次登录需要输入验证码： '</span>)</span><br><span class="line">    <span class="keyword">return</span> captcha</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># code = get_code()</span></span><br><span class="line"><span class="comment"># print (code)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    输入自己的账号密码，模拟登录</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    url = <span class="string">'http://www.95598.cn/95598/userlogin/login'</span></span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">'url'</span>: <span class="string">'/95598/per/account/initSmartConsInfo?partNo=PM02001007'</span>,</span><br><span class="line">        <span class="string">'loginway'</span>: <span class="string">'01'</span>,</span><br><span class="line">        <span class="string">'loginName'</span>: <span class="string">'用户名'</span>,</span><br><span class="line">        <span class="string">'pwd'</span>: <span class="string">'密码'</span>,</span><br><span class="line">        <span class="string">'txPwd'</span>: <span class="string">'请输入密码'</span>,</span><br><span class="line">        <span class="string">'code'</span>: get_code()</span><br><span class="line">    &#125;</span><br><span class="line">    result = session.post(url, data=data, headers=headers, allow_redirects=<span class="literal">False</span>)<span class="comment">#allow_redirects=False是禁止登陆成功的重定向，返回登陆成功的cookie</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    开始为了重定向测试用的</span><br><span class="line">    <span class="comment">#location = result.headers['Location']</span></span><br><span class="line">    <span class="comment">#location = ""</span></span><br><span class="line">    <span class="comment">#r = session.get(location, cookies = result.cookies, headers = headers, allow_redirects=True)</span></span><br><span class="line">    <span class="comment">#print((json.loads(result.text))['msg'])</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 保存cookie到本地</span></span><br><span class="line">    </span><br><span class="line">    session.cookies.save(ignore_discard=<span class="literal">True</span>, ignore_expires=<span class="literal">True</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#     request = urllib.Request(firstURL)</span></span><br><span class="line">    <span class="comment">#     response = urllib.urlopen(request)</span></span><br><span class="line">    <span class="comment">#     content = response.read()</span></span><br><span class="line">    <span class="comment">#     print (content)</span></span><br><span class="line">    <span class="comment">#     r = requests.get(firstURL, headers=headers, timeout=30)</span></span><br><span class="line">    <span class="comment">#r.raise_for_status()</span></span><br><span class="line">    <span class="comment">#r.encoding = r.apparent_encoding</span></span><br><span class="line">    <span class="keyword">return</span> result.headers, result.status_code,result.headers[<span class="string">'Location'</span>]</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isLogin</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 通过查看用户个人信息来判断是否已经登录</span></span><br><span class="line">    url = <span class="string">"查询电费页面URL"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 禁止重定向，否则登录失败重定向到首页也是响应200</span></span><br><span class="line">    login_code = session.get(url, headers=headers, allow_redirects=<span class="literal">False</span>).status_code</span><br><span class="line">    <span class="keyword">if</span> login_code == <span class="number">200</span>:</span><br><span class="line">        <span class="comment">#         r = session.get(url, headers=headers, allow_redirects=False)</span></span><br><span class="line">        <span class="comment">#         print (r.text)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="comment">#json数据请求，登陆成功请求json数据就好，不用请求html，还得解析很费劲</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isjson</span><span class="params">()</span>:</span></span><br><span class="line">    fee_url = <span class="string">"http://www.95598.cn/95598/per/account/getAccountyyt?partNo=PM02001001"</span></span><br><span class="line">    <span class="comment">#请求json的头文件</span></span><br><span class="line">    headersfee = &#123;</span><br><span class="line">        <span class="string">'Host'</span>: <span class="string">'www.95598.cn'</span>,</span><br><span class="line">        <span class="string">'User-Agent'</span>: <span class="string">''</span>,</span><br><span class="line">        <span class="string">'Accept'</span>: <span class="string">''</span>,</span><br><span class="line">        <span class="string">'Accept-Language'</span>: <span class="string">''</span>,</span><br><span class="line">        <span class="string">'Accept-Encoding'</span>: <span class="string">''</span>,</span><br><span class="line">        <span class="string">'DNT'</span>: <span class="string">''</span>,</span><br><span class="line">        <span class="string">'X-Requested-With'</span>: <span class="string">''</span>,</span><br><span class="line">        <span class="string">'Referer'</span>: <span class="string">''</span>,</span><br><span class="line">        <span class="comment">#'Cookie': '',</span></span><br><span class="line">        <span class="string">'Connection'</span>: <span class="string">'keep-alive'</span>,</span><br><span class="line">        <span class="string">'Cache-Control'</span>: <span class="string">''</span>,</span><br><span class="line">        <span class="string">'Content-Length'</span>: <span class="string">''</span></span><br><span class="line">    &#125;</span><br><span class="line">    data_fee = &#123;</span><br><span class="line">        <span class="string">'partNo'</span>: <span class="string">'PM02001001'</span></span><br><span class="line">    &#125;</span><br><span class="line">    fee_r = session.post(fee_url, data=data_fee, headers=headersfee, allow_redirects=<span class="literal">False</span>)</span><br><span class="line">    fee_json = json.loads(fee_r.text)</span><br><span class="line">    <span class="comment">#print (fee_json)</span></span><br><span class="line">    <span class="keyword">return</span> fee_json</span><br><span class="line"></span><br><span class="line"><span class="comment">#解析json，提取余额</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rejson</span><span class="params">(feejson)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        z = str(feejson[<span class="string">'purchaseInfo'</span>][<span class="string">'accountBal'</span>])</span><br><span class="line">        <span class="keyword">print</span> (z + <span class="string">'\n'</span> + <span class="string">"查询成功!"</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="keyword">print</span> (<span class="string">'网络错误查询失败，请重试！'</span>)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="keyword">if</span> isLogin():</span><br><span class="line">        print(<span class="string">'您已经登录'</span>)</span><br><span class="line">        m = isjson()</span><br><span class="line">        <span class="keyword">print</span> (m)</span><br><span class="line">        rejson(m)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        a,b,c = login()</span><br><span class="line">        <span class="keyword">print</span> (a,b,c)</span><br><span class="line">        <span class="keyword">if</span> isLogin():</span><br><span class="line">            <span class="keyword">print</span> (<span class="string">'您已经登录'</span>)</span><br><span class="line">            n = isjson()</span><br><span class="line">            <span class="keyword">print</span> (n)</span><br><span class="line">            rejson(n)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">print</span> (<span class="string">'登录失败'</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux安装mysql</title>
      <link href="/2018/07/Linux+install+mysql/"/>
      <url>/2018/07/Linux+install+mysql/</url>
      
        <content type="html"><![CDATA[<p>1、下载安装包“mysql-5.6.33-linux-glibc2.5-x86_64.tar.gz”  </p><pre><code>下载地址：http://dev.mysql.com/downloads/mysql/5.6.html#downloads  </code></pre><h1 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">yum -y install perl perl-devel autoconf libaio</span><br><span class="line">    2、把下载的安装包移动到/usr/local/下。</span><br><span class="line"></span><br><span class="line">    3、解压</span><br><span class="line"></span><br><span class="line">tar zxvf mysql-5.6.33-linux-glibc2.5-x86_64.tar.gz</span><br><span class="line">    4、复制解压后的mysql目录到系统的本地软件目录</span><br><span class="line"></span><br><span class="line">cp mysql-5.6.33-linux-glibc2.5-x86_64 /usr/local/mysql -r</span><br><span class="line">    5、添加系统mysql组和mysql用户</span><br><span class="line"></span><br><span class="line">groupadd mysql</span><br><span class="line">useradd -r -g mysql -s /bin/false mysql</span><br><span class="line">注意：Because the user is required only for ownership purposes, not login purposes, the useradd command uses the -r and -s /bin/false options to create a user that does not have login permissions to your server host. Omit these options if your useradd does not support them.</span><br><span class="line">    6、进入安装mysql软件目录，修改目录拥有者为mysql用户</span><br><span class="line"></span><br><span class="line">cd mysql/</span><br><span class="line">chown -R mysql:mysql ./</span><br><span class="line">    7、安装数据库，此处可能出现错误。</span><br><span class="line"></span><br><span class="line">./scripts/mysql_install_db --user=mysql</span><br><span class="line">    FATAL ERROR: please install the following Perl modules before executing scripts/mysql_install_db:</span><br><span class="line">    Data::Dumper</span><br></pre></td></tr></table></figure><p>#解决方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">yum install -y perl-Data-Dumper</span><br><span class="line">    8、修改当前目录拥有者为root用户</span><br><span class="line"></span><br><span class="line">chown -R root:root ./</span><br><span class="line">    9、修改当前data目录拥有者为mysql用户</span><br><span class="line"></span><br><span class="line">chown -R mysql:mysql data</span><br></pre></td></tr></table></figure></p><p>============== 到此数据库安装完毕 =============</p><h1 id="添加mysql服务开机自启动"><a href="#添加mysql服务开机自启动" class="headerlink" title="添加mysql服务开机自启动"></a>添加mysql服务开机自启动</h1><p>添加开机启动，把启动脚本放到开机初始化目录。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">cp support-files/mysql.server /etc/init.d/mysql</span><br></pre></td></tr></table></figure></p><h1 id="赋予可执行权限"><a href="#赋予可执行权限" class="headerlink" title="赋予可执行权限"></a>赋予可执行权限</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x /etc/init.d/mysql</span><br></pre></td></tr></table></figure><h1 id="添加服务"><a href="#添加服务" class="headerlink" title="添加服务"></a>添加服务</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --add mysql</span><br></pre></td></tr></table></figure><p>#加入环境变量，编辑 /etc/profile，这样可以在任何地方用mysql命令了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/usr/local/mysql//bin source /etc/profile</span><br></pre></td></tr></table></figure></p><h1 id="显示服务列表"><a href="#显示服务列表" class="headerlink" title="显示服务列表"></a>显示服务列表</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --list</span><br></pre></td></tr></table></figure><p>如果看到mysql的服务，并且3,4,5都是on的话则成功，如果是off，则执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --level 345 mysql on</span><br></pre></td></tr></table></figure></p><h2 id="启动mysql服务"><a href="#启动mysql服务" class="headerlink" title="启动mysql服务"></a>启动mysql服务</h2><p>#创建缺少的文件夹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /var/log/mariadb</span><br><span class="line">service mysql start</span><br></pre></td></tr></table></figure></p><p>正常提示信息：Starting MySQL. SUCCESS!</p><h2 id="把mysql客户端放到默认路径"><a href="#把mysql客户端放到默认路径" class="headerlink" title="把mysql客户端放到默认路径"></a>把mysql客户端放到默认路径</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/local/mysql/bin/mysql /usr/local/bin/mysql</span><br></pre></td></tr></table></figure><p>注意：建议使用软链过去，不要直接包文件复制，便于系统安装多个版本的mysql</p><p>=================== 这是分割线 ==================</p><p>通过使用 mysql -uroot -p 连接数据库（默认数据库的root用户没有密码，这个需要设置一个密码）。</p><p>错误信息：ERROR 2002 (HY000): Can’t connect to local MySQL server through socket ‘/tmp/mysql.sock’ (2)</p><p>解决方法：打开/etc/my.cnf,看看里面配置的socket位置是什么目录。“socket=/var/lib/mysql/mysql.sock”</p><p>路径和“/tmp/mysql.sock”不一致。建立一个软连接：ln -s /var/lib/mysql/mysql.sock /tmp/mysql.sock</p><p>到这里任务算是完成了。之后就可以创建数据库用户，然后使用数据库了。</p><h3 id="有其他错误看本博客有没有其他文章关于解决mysql安装问题的"><a href="#有其他错误看本博客有没有其他文章关于解决mysql安装问题的" class="headerlink" title="有其他错误看本博客有没有其他文章关于解决mysql安装问题的"></a>有其他错误看本博客有没有其他文章关于解决mysql安装问题的</h3><h2 id="远程连接错误（博客以一篇mysql的文章专门解决这个问题）"><a href="#远程连接错误（博客以一篇mysql的文章专门解决这个问题）" class="headerlink" title="远程连接错误（博客以一篇mysql的文章专门解决这个问题）"></a>远程连接错误（博客以一篇mysql的文章专门解决这个问题）</h2><p>错误</p><p>　　5.1 sqlyog连接时，报1130错误，是由于没有给远程连接的用户权限问题</p><p>　　　　解决1:更改 ‘mysql’数据库‘user’表‘host’项，从‘localhost’改成‘%’。</p><p>use mysql;<br>select ‘host’ from user where user=’root’;<br>update user set host = ‘%’ where user =’root’;<br>flush privileges;<br>　　　　解决2：直接授权<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">　　　　　　GRANT ALL PRIVILEGES ON *.* TO ‘root’@&apos;%’ IDENTIFIED BY ‘youpassword’ WITH GRANT OPTION;</span><br></pre></td></tr></table></figure></p><p>　　5.2 安装时的一些错误<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">　　　　-bash: ./scripts/mysql_install_db: /usr/bin/perl: bad interpreter: 没有那个文件或目录</span><br><span class="line">　　　　解决： yum -y install perl perl-devel</span><br><span class="line"></span><br><span class="line">　　　　Installing MySQL system tables..../bin/mysqld: error while loading shared libraries: libaio.so.1: cannot open shared object file: No such file or directory</span><br><span class="line">　　　　解决：yum -y install libaio-devel</span><br></pre></td></tr></table></figure></p><p>6、其他</p><p>　　6.1 配置环境变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">　　　　vi + /etc/profile</span><br><span class="line"></span><br><span class="line">　　　　export PATH=....:/usr/local/mysql/bin</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>利用Linux的crontab实现定时执行python任务</title>
      <link href="/2018/07/linux+crontab+python/"/>
      <url>/2018/07/linux+crontab+python/</url>
      
        <content type="html"><![CDATA[<h1 id="让Python脚本定时启动"><a href="#让Python脚本定时启动" class="headerlink" title="让Python脚本定时启动"></a>让Python脚本定时启动</h1><p>准备好定时启动的脚本auto.py<br>用root权限编辑以下文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/crontab</span><br></pre></td></tr></table></figure></p><p>在文件末尾添加以下命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2 * * * * root /usr/bin/python3.5 /home/edgar/auto.py &gt; /home/edgar/auto.log</span><br></pre></td></tr></table></figure><p>以上代码的意思是每隔两分钟执行一次脚本并打印日志。  (python3.5的路径和文件路径必须是绝对路径)</p><h1 id="crontab编写解释"><a href="#crontab编写解释" class="headerlink" title="crontab编写解释"></a>crontab编写解释</h1><h2 id="基本格式"><a href="#基本格式" class="headerlink" title="基本格式"></a>基本格式</h2><ul><li><ul><li><ul><li><ul><li><ul><li>user command<br>分 时 日 月 周 用户 命令</li></ul></li></ul></li></ul></li></ul></li></ul><h2 id="举例说明"><a href="#举例说明" class="headerlink" title="举例说明"></a>举例说明</h2><p>1、每分钟执行一次<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* * * * * user command</span><br></pre></td></tr></table></figure></p><p>2、每隔2小时执行一次<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* */2 * * * user command (/表示频率)</span><br></pre></td></tr></table></figure></p><p>3、每天8:30分执行一次<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">30 8 * * * user command</span><br></pre></td></tr></table></figure></p><p>4、每小时的30和50分各执行一次<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">30,50 * * * * user command（,表示并列）</span><br></pre></td></tr></table></figure></p><p>5、每个月的3号到6号的8:30执行一次<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">30 8 3-6 * * user command （-表示范围）</span><br></pre></td></tr></table></figure></p><p>6、每个星期一的8:30执行一次<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">30 8 * * 1 user command （周的范围为0-7,0和7代表周日）</span><br></pre></td></tr></table></figure></p><h1 id="crontab命令"><a href="#crontab命令" class="headerlink" title="crontab命令"></a>crontab命令</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">service crond start #启动</span><br><span class="line"></span><br><span class="line">service crond stop #关闭</span><br><span class="line"></span><br><span class="line">service crond restart #重启</span><br><span class="line"></span><br><span class="line">service crond reload #重新载入配置</span><br><span class="line"></span><br><span class="line">crontab -e 命令添加定时任务</span><br><span class="line"></span><br><span class="line">crontab -l 查看定时任务</span><br></pre></td></tr></table></figure><p>检查crontab 任务执行情况，可以查看log 文件 /var/log/cron</p><h1 id="也可以使用python-crontab包来设置"><a href="#也可以使用python-crontab包来设置" class="headerlink" title="也可以使用python-crontab包来设置"></a>也可以使用python-crontab包来设置</h1><p>如:</p><pre><code class="python">安装直接$ pip install python-crontab下面在脚本上就可以方便的设置计划任务了<span class="keyword">from</span> crontab <span class="keyword">import</span> CronTab<span class="comment"># 创建当前用户的crontab，当然也可以创建其他用户的，但得有足够权限</span>my_user_cron = CronTab(user=<span class="literal">True</span>)<span class="comment"># 创建任务</span>job = my_user_cron.new(command=<span class="string">'/usr/bin/python3.5 /home/edgar/auto.py'</span>)<span class="comment"># 设置任务执行周期，每两分钟执行一次</span>job.setall(<span class="string">'*/2 * * * *'</span>)<span class="comment"># 当然还支持其他更人性化的设置方式，简单列举一些</span>job.minute.during(<span class="number">5</span>,<span class="number">50</span>).every(<span class="number">5</span>)job.hour.every(<span class="number">4</span>)job.day.on(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)job.dow.on(<span class="string">'SUN'</span>)job.dow.on(<span class="string">'SUN'</span>, <span class="string">'FRI'</span>)job.month.during(<span class="string">'APR'</span>, <span class="string">'NOV'</span>)job.setall(time(<span class="number">10</span>, <span class="number">2</span>))job.setall(date(<span class="number">2000</span>, <span class="number">4</span>, <span class="number">2</span>))job.setall(datetime(<span class="number">2000</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">2</span>))<span class="comment"># 同时可以给任务设置comment，这样就可以根据comment查询，很方便</span>job.set_comment(<span class="string">"time log job"</span>)<span class="comment"># 根据comment查询，当时返回值是一个生成器对象，不能直接根据返回值判断任务是否#存在，如果只是判断任务是否存在，可直接遍历my_user_cron.crons</span>iter = my_user_cron.find_comment(<span class="string">'time log job'</span>)<span class="comment"># 同时还支持根据command和执行周期查找，基本类似，不再列举</span><span class="comment"># 任务的disable和enable， 默认enable</span>job.enable(<span class="literal">False</span>)job.enable()<span class="comment"># 最后将crontab写入配置文件</span>my_user_cron.write()</code></pre><h4 id="下面可通过命令查看，是否创建成功："><a href="#下面可通过命令查看，是否创建成功：" class="headerlink" title="下面可通过命令查看，是否创建成功："></a>下面可通过命令查看，是否创建成功：</h4><p>$ crontab -l</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL错误 ERROR 2002 (HY000): Can&#39;t connect to local MySQL server through socket</title>
      <link href="/2018/07/mysql+ERROR+socket/"/>
      <url>/2018/07/mysql+ERROR+socket/</url>
      
        <content type="html"><![CDATA[<p>原因分析：<br>1、没有 /var/lib/mysql/mysql.sock 的目录权限<br>    添加权限   chown -R mysql:mysql /var/lib/mysql/</p><p>2、没有/var/lib/mysql/mysql.sock文件<br>   通过 find / -name mysql.sock<br>    在 /tmp//mysql.sock<br>    用 ln -s 命令建立连接</p><pre><code>或者修改 /etc/my.cnf配置文件，下边有，然后重启</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">#查看mysql实例的状态</span><br><span class="line">[root@SZDB mysqldata]# netstat -ntlp  | grep 3306</span><br><span class="line">tcp        0      0 :::3306                     :::*                        LISTEN      13001/mysqld</span><br><span class="line">#查看my.cnf关于socket的配置</span><br><span class="line">[root@SZDB mysqldata]# more /etc/my.cnf |grep sock</span><br><span class="line">socket = /tmp/mysql.sock</span><br><span class="line">#由上可知my.cnf中定义的为/tmp目录下，而错误提示为/data/mysqldata/目录下</span><br><span class="line">#也就是说mysqld已经声称了正确的sock文件，但客户端连接还是从初始目录去找sock文件</span><br><span class="line">#下面查看后台日志，有个ERROR，是关于满查询日志的，是由于目录不存在而产生的错误，与当前故障无关</span><br><span class="line">[root@SZDB mysqldata]# more SZDB.err</span><br><span class="line">             ............</span><br><span class="line">2014-10-11 13:17:21 13001 [Note] InnoDB: 5.6.12 started; log sequence number 1625997</span><br><span class="line">/app/soft/mysql/bin/mysqld: File &apos;/log/mysql_logs/slowquery.log&apos; not found (Errcode: 2 - No such file or directory)</span><br><span class="line">2014-10-11 13:17:21 13001 [ERROR] Could not use /log/mysql_logs/slowquery.log for logging (error 2). Turning logging off for the who</span><br><span class="line">le duration of the MySQL server process. To turn it on again: fix the cause, shutdown the MySQL server and restart it.</span><br><span class="line">2014-10-11 13:17:21 13001 [Note] Server hostname (bind-address): &apos;*&apos;; port: 3306</span><br><span class="line">2014-10-11 13:17:21 13001 [Note] IPv6 is available.</span><br><span class="line">2014-10-11 13:17:21 13001 [Note]   - &apos;::&apos; resolves to &apos;::&apos;;</span><br><span class="line">2014-10-11 13:17:21 13001 [Note] Server socket created on IP: &apos;::&apos;.</span><br><span class="line">2014-10-11 13:17:21 13001 [Note] Event Scheduler: Loaded 0 events</span><br><span class="line">2014-10-11 13:17:21 13001 [Note] /app/soft/mysql/bin/mysqld: ready for connections.</span><br><span class="line">Version: &apos;5.6.12-log&apos;  socket: &apos;/tmp/mysql.sock&apos;  port: 3306  Source distribution</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3、解决故障</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">通过配置my.cnf mysql选项socket文件位置解决</span><br><span class="line">复制代码 代码如下:</span><br><span class="line"></span><br><span class="line">#先停止mysql服务器</span><br><span class="line">[root@SZDB mysqldata]# service mysqld stop</span><br><span class="line">Shutting down MySQL.[  OK  ]</span><br><span class="line">#修改my.cnf，如下</span><br><span class="line">[root@SZDB mysqldata]# vi /etc/my.cnf</span><br><span class="line">[mysql]</span><br><span class="line">no-auto-rehash</span><br><span class="line">socket = /tmp/mysql.sock  #添加该行</span><br><span class="line">[mysql.server]</span><br><span class="line">user=mysql#添加</span><br><span class="line">basedir=/usr/local/mysql#添加</span><br><span class="line"></span><br><span class="line">#If there is not currently a section called [client], add one at the bottom of the file and copy the socket= line under the [mysqld] section such as:</span><br><span class="line"></span><br><span class="line">[client]#添加</span><br><span class="line">socket=/var/lib/mysql/mysql.sock#添加</span><br><span class="line">#重启mysql服务器</span><br><span class="line">[root@SZDB mysqldata]# service mysqld start</span><br><span class="line">Starting MySQL..[  OK  ]</span><br><span class="line">#再次连接正常</span><br><span class="line">[root@SZDB mysqldata]# mysql -uroot -p</span><br><span class="line">Enter password: </span><br><span class="line">mysql&gt; show variables like &apos;version&apos;;</span><br><span class="line">+---------------+------------+</span><br><span class="line">| Variable_name | Value      |</span><br><span class="line">+---------------+------------+</span><br><span class="line">| version       | 5.6.12-log |</span><br><span class="line">+---------------+------------+</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">为socket文件建立链接方式</span><br><span class="line">复制代码 代码如下:</span><br><span class="line"></span><br><span class="line">[root@SZDB mysqldata]# ln -s /tmp/mysql.sock /data/mysqldata/mysql.sock </span><br><span class="line">ln: creating symbolic link `/data/mysqldata/mysql.sock&apos; to `/tmp/mysql.sock&apos;: File exists</span><br><span class="line">[root@SZDB mysqldata]# rm mysql.sock    #上面提示文件存在，所以删除之前的mysql.sock文件</span><br><span class="line">[root@SZDB mysqldata]# ln -s /tmp/mysql.sock /data/mysqldata/mysql.sock</span><br><span class="line">[root@SZDB mysqldata]# ls -hltr mysql.sock</span><br><span class="line">lrwxrwxrwx 1 root root 15 Oct 11 14:00 mysql.sock -&gt; /tmp/mysql.sock</span><br><span class="line">[root@SZDB mysqldata]# mysql -uroot -p</span><br><span class="line">Enter password: </span><br><span class="line">mysql&gt; show variables like &apos;socket&apos;;</span><br><span class="line">+---------------+-----------------+</span><br><span class="line">| Variable_name | Value           |</span><br><span class="line">+---------------+-----------------+</span><br><span class="line">| socket        | /tmp/mysql.sock |</span><br><span class="line">+---------------+-----------------+</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux下Mysql开放远程端口3306用于远程登录</title>
      <link href="/2018/07/linux+mysql+port/"/>
      <url>/2018/07/linux+mysql+port/</url>
      
        <content type="html"><![CDATA[<h2 id="方法-步骤"><a href="#方法-步骤" class="headerlink" title="方法/步骤"></a>方法/步骤</h2><p>1、远程连接上Linux系统，确保Linux系统已经安装上了MySQL数据库。登陆数据库。mysql -uroot -p（密码）。</p><p>2、创建用户用来远程连接<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GRANT ALL PRIVILEGES ON *.* TO &apos;用户名&apos;@&apos;%&apos; IDENTIFIED BY &apos;密码&apos; WITH GRANT OPTION;</span><br><span class="line"></span><br><span class="line">（第一个表示用户名，%表示所有的电脑都可以连接，也可以设置某个ip地址运行连接，第二个密码表示密码）。</span><br></pre></td></tr></table></figure></p><p>3、执行 flush privileges;命令立即生效</p><p>4、查询数据库的用户（看到创建新用户成功了）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT CONCAT(&apos;User: &apos;&apos;&apos;,user,&apos;&apos;&apos;@&apos;&apos;&apos;,host,&apos;&apos;&apos;;&apos;) AS query FROM mysql.user;</span><br></pre></td></tr></table></figure></p><p>5、查看端口号<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show global variables like &apos;port&apos;;</span><br></pre></td></tr></table></figure></p><p>没有设置可以再 /etc/my.cnf<br>中添加<br>port=3306<br>将bind-address    = 127.0.0.1</p><p>设置成bind-address    = 0.0.0.0（设备地址）</p><p>就可以了</p><p>重启  service mysql restart<br>OK!</p>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux连接mysql报错：Access denied for user ‘root’@‘localhost’(using password: YES)的解决方法</title>
      <link href="/2018/07/mysql+Accessdenied/"/>
      <url>/2018/07/mysql+Accessdenied/</url>
      
        <content type="html"><![CDATA[<p>1.先停止mysql 服务</p><p>service mysqld stop</p><p>2.进入mysql安装目录bin/ 使用safe模式，进行重启：</p><p>配置文件/etc/my.cnf中添加  skip-external-locking</p><p>./mysqld_safe –skip-grant-tables</p><p>3.使用root账户，无密码登录，修改root用户密码</p><p>mysql 或者  mysql -u root<br>use mysql<br>update user set password=PASSWORD(“你的密码”) where User = ‘root’;</p><p>4.重启mysql，正常登录</p><p>service mysqld restart 重启</p><p>完成，连接成功！</p>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python实现于小米传感器通信</title>
      <link href="/2018/07/python+xiaomichuanganqi/"/>
      <url>/2018/07/python+xiaomichuanganqi/</url>
      
        <content type="html"><![CDATA[<p>需要先了解绿米网关局域网通讯协议<br>地址： <a href="https://legacy.gitbook.com/book/aqara/aiot-gateway-local-api/details" target="_blank" rel="noopener">https://legacy.gitbook.com/book/aqara/aiot-gateway-local-api/details</a></p><p>然后分为三个部分:</p><p>1、监听网关发出的组播信息：（有网关及连接设备的生命信号，事件信息）</p><p>2、读取需要获得的信息</p><p>3、控制连接设备（涉及了token加密部分）</p><p> 主要用到python进行socket</p><p>1、upd广播监听小米网关的组播信息</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> <span class="number">1</span> <span class="comment">#!/usr/bin/env python</span></span><br><span class="line"> <span class="number">2</span> <span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"> <span class="number">3</span> </span><br><span class="line"> <span class="number">4</span> <span class="keyword">import</span> socket</span><br><span class="line"> <span class="number">5</span> </span><br><span class="line"> <span class="number">6</span> <span class="function"><span class="keyword">def</span> <span class="title">get_gateway_heart</span><span class="params">()</span>:</span></span><br><span class="line"> <span class="number">7</span>     SENDERIP = <span class="string">"0.0.0.0"</span></span><br><span class="line"> <span class="number">8</span>     MYPORT = <span class="number">9898</span></span><br><span class="line"> <span class="number">9</span>     MYGROUP = <span class="string">'224.0.0.50'</span></span><br><span class="line"><span class="number">10</span> </span><br><span class="line"><span class="number">11</span>     sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM, socket.IPPROTO_UDP)</span><br><span class="line"><span class="number">12</span>     <span class="comment">#allow multiple sockets to use the same PORT number</span></span><br><span class="line"><span class="number">13</span>     sock.setsockopt(socket.SOL_SOCKET,socket.SO_REUSEADDR,<span class="number">1</span>)</span><br><span class="line"><span class="number">14</span>     <span class="comment">#Bind to the port that we know will receive multicast data</span></span><br><span class="line"><span class="number">15</span>     sock.bind((SENDERIP,MYPORT))</span><br><span class="line"><span class="number">16</span>     <span class="comment">#tell the kernel that we are a multicast socket</span></span><br><span class="line"><span class="number">17</span>     <span class="comment">#sock.setsockopt(socket.IPPROTO_IP, socket.IP_MULTICAST_TTL, 255)</span></span><br><span class="line"><span class="number">18</span>     <span class="comment">#Tell the kernel that we want to add ourselves to a multicast group</span></span><br><span class="line"><span class="number">19</span>     <span class="comment">#The address for the multicast group is the third param</span></span><br><span class="line"><span class="number">20</span>     status = sock.setsockopt(socket.IPPROTO_IP,</span><br><span class="line"><span class="number">21</span>         socket.IP_ADD_MEMBERSHIP,</span><br><span class="line"><span class="number">22</span>         socket.inet_aton(MYGROUP) + socket.inet_aton(SENDERIP));</span><br><span class="line"><span class="number">23</span> </span><br><span class="line"><span class="number">24</span>     <span class="comment">#sock.setblocking(0)</span></span><br><span class="line"><span class="number">25</span>     <span class="comment">#ts = time.time()</span></span><br><span class="line"><span class="number">26</span>     data, addr = sock.recvfrom(<span class="number">1024</span>)</span><br><span class="line"><span class="number">27</span>     data_str=str(data,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="number">28</span> <span class="comment">#    sock.close()</span></span><br><span class="line"><span class="number">29</span>     <span class="keyword">return</span> data_str</span><br><span class="line"><span class="number">30</span> </span><br><span class="line"><span class="number">31</span> </span><br><span class="line"><span class="number">32</span> <span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span><br><span class="line"><span class="number">33</span>     <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"><span class="number">34</span>         tmp=get_gateway_heart()</span><br><span class="line"><span class="number">35</span>         print(tmp)</span><br></pre></td></tr></table></figure><p>2、小米网关的初始密码向量 转换为字符串 的计算方法</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="keyword">from</span> binascii <span class="keyword">import</span> b2a_hex, a2b_hex</span><br><span class="line"><span class="number">2</span> <span class="keyword">import</span> sys</span><br><span class="line"><span class="number">3</span> </span><br><span class="line"><span class="number">4</span> s=<span class="string">'17996d093d28ddb3ba695a2e6f58562e'</span>    <span class="comment">#初始向量</span></span><br><span class="line"><span class="number">5</span> m=a2b_hex(s)    </span><br><span class="line"><span class="number">6</span> print(m)</span><br><span class="line"><span class="number">7</span> </span><br><span class="line"><span class="number">8</span> <span class="comment">#转换后的初始向量</span></span><br><span class="line"><span class="number">9</span> <span class="comment">#b'\x17\x99m\t=(\xdd\xb3\xbaiZ.oXV.'   #下边直接用就可以了</span></span><br></pre></td></tr></table></figure><p>3、加密token的方法</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> <span class="number">1</span> <span class="keyword">from</span> Crypto.Cipher <span class="keyword">import</span> AES</span><br><span class="line"> <span class="number">2</span> <span class="keyword">from</span> binascii <span class="keyword">import</span> b2a_hex, a2b_hex</span><br><span class="line"> <span class="number">3</span> </span><br><span class="line"> <span class="number">4</span> <span class="class"><span class="keyword">class</span> <span class="title">prpcrypt</span><span class="params">()</span>:</span></span><br><span class="line"> <span class="number">5</span>     <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, key=<span class="string">'小米网关的key，在米家APP的开发者模式中获取'</span>)</span>:</span></span><br><span class="line"> <span class="number">6</span>         self.key = key              <span class="comment">#</span></span><br><span class="line"> <span class="number">7</span>         self.mode = AES.MODE_CBC</span><br><span class="line"> <span class="number">8</span> </span><br><span class="line"> <span class="number">9</span>     <span class="comment"># 加密函数，如果text不足16位就用空格补足为16位，</span></span><br><span class="line"><span class="number">10</span>     <span class="comment"># 如果大于16当时不是16的倍数，那就补足为16的倍数。</span></span><br><span class="line"><span class="number">11</span>     <span class="function"><span class="keyword">def</span> <span class="title">encrypt</span><span class="params">(self, text)</span>:</span>        <span class="comment">#text是要加密的内容</span></span><br><span class="line"><span class="number">12</span>         cryptor = AES.new(self.key, self.mode,<span class="string">b'\x17\x99m\t=(\xdd\xb3\xbaiZ.oXV.'</span>)</span><br><span class="line"><span class="number">13</span>         <span class="comment"># 这里密钥key 长度必须为16（AES-128）,</span></span><br><span class="line"><span class="number">14</span>         <span class="comment"># 24（AES-192）,或者32 （AES-256）Bytes 长度</span></span><br><span class="line"><span class="number">15</span>         <span class="comment"># 目前AES-128 足够目前使用</span></span><br><span class="line"><span class="number">16</span>         length = <span class="number">16</span></span><br><span class="line"><span class="number">17</span>         count = len(text)</span><br><span class="line"><span class="number">18</span>         <span class="keyword">if</span> count &lt; length:</span><br><span class="line"><span class="number">19</span>             add = (length - count)</span><br><span class="line"><span class="number">20</span>             <span class="comment"># \0 backspace</span></span><br><span class="line"><span class="number">21</span>             text = text + (<span class="string">'\0'</span> * add)</span><br><span class="line"><span class="number">22</span>         <span class="keyword">elif</span> count &gt; length:</span><br><span class="line"><span class="number">23</span>             add = (length - (count % length))</span><br><span class="line"><span class="number">24</span>             text = text + (<span class="string">'\0'</span> * add)</span><br><span class="line"><span class="number">25</span>         self.ciphertext = cryptor.encrypt(text)</span><br><span class="line"><span class="number">26</span>         <span class="comment"># 因为AES加密时候得到的字符串不一定是ascii字符集的，输出到终端或者保存时候可能存在问题</span></span><br><span class="line"><span class="number">27</span>         <span class="comment"># 所以这里统一把加密后的字符串转化为16进制字符串</span></span><br><span class="line"><span class="number">28</span>         <span class="keyword">return</span> str(b2a_hex(self.ciphertext),encoding=<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="number">29</span>         <span class="comment">#return self.ciphertext</span></span><br><span class="line"><span class="number">30</span> </span><br><span class="line"><span class="number">31</span>     <span class="comment"># 解密后，去掉补足的空格用strip() 去掉 b'0000000000000000'</span></span><br><span class="line"><span class="number">32</span>     <span class="function"><span class="keyword">def</span> <span class="title">decrypt</span><span class="params">(self, text)</span>:</span></span><br><span class="line"><span class="number">33</span>         cryptor = AES.new(self.key, self.mode, <span class="string">b'\x17\x99m\t=(\xdd\xb3\xbaiZ.oXV.'</span>)</span><br><span class="line"><span class="number">34</span>         plain_text = cryptor.decrypt(a2b_hex(text))</span><br><span class="line"><span class="number">35</span>         <span class="keyword">return</span> plain_text.rstrip(<span class="string">'\0'</span>)</span><br><span class="line"><span class="number">36</span> </span><br><span class="line"><span class="number">37</span> </span><br><span class="line"><span class="number">38</span> <span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line"><span class="number">39</span>     pc = prpcrypt(<span class="string">'0987654321qwerty'</span>)  <span class="comment"># 初始化密钥</span></span><br><span class="line"><span class="number">40</span>     e = pc.encrypt(<span class="string">'1234567890abcdef'</span>)  <span class="comment"># 加密</span></span><br><span class="line"><span class="number">41</span>    <span class="comment"># d = pc.decrypt(e)  # 解密</span></span><br><span class="line"><span class="number">42</span>     print(<span class="string">"加密:"</span>, e)</span><br><span class="line"><span class="number">43</span>     <span class="comment">#print("解密:", d)</span></span><br></pre></td></tr></table></figure><p>4、获取token，并对获取的token进行加密</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> xm_gw.encrypty <span class="keyword">import</span> prpcrypt</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_token</span><span class="params">()</span>:</span>    <span class="comment">#通过get_id_list 获得token</span></span><br><span class="line">    ip_port_single = (<span class="string">"小米网关ip"</span>, <span class="number">9898</span>)</span><br><span class="line">    s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM, <span class="number">0</span>)</span><br><span class="line">    comd = &#123;<span class="string">'cmd'</span>: <span class="string">'get_id_list'</span>&#125;</span><br><span class="line">    order = json.dumps(comd)</span><br><span class="line">    s.sendto(bytes(order, encoding=<span class="string">"utf-8"</span>), ip_port_single)</span><br><span class="line">    data,addr=s.recvfrom(<span class="number">1024</span>)</span><br><span class="line">    data_str=str(data,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">    token=json.loads(data_str).get(<span class="string">'token'</span>)</span><br><span class="line">    s.close()</span><br><span class="line">    <span class="keyword">return</span> token</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_token_encrypty</span><span class="params">()</span>:</span></span><br><span class="line">    tok = get_token()  <span class="comment"># 拿到当前token,要进行加密的内容</span></span><br><span class="line">    k = prpcrypt()</span><br><span class="line">    key_encrypt = k.encrypt(tok)</span><br><span class="line">    <span class="keyword">return</span> key_encrypt</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span><br><span class="line">    tok=get_token()</span><br><span class="line">    tok_encry=get_token_encrypty()</span><br><span class="line">    print(tok)</span><br><span class="line">    print(tok_encry)</span><br></pre></td></tr></table></figure><p>5、建立网关通讯并执行控制命令</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> <span class="number">1</span> <span class="comment">#!/usr/bin/env python</span></span><br><span class="line"> <span class="number">2</span> <span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"> <span class="number">3</span> <span class="keyword">import</span> socket</span><br><span class="line"> <span class="number">4</span> <span class="keyword">import</span> json</span><br><span class="line"> <span class="number">5</span> <span class="keyword">from</span> xm_gw <span class="keyword">import</span> udp_token_key</span><br><span class="line"> <span class="number">6</span> </span><br><span class="line"> <span class="number">7</span> </span><br><span class="line"> <span class="number">8</span> <span class="class"><span class="keyword">class</span> <span class="title">udp_gw</span><span class="params">()</span>:</span></span><br><span class="line"> <span class="number">9</span>     <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, ip_gateway=<span class="string">'192.168.1.1'</span>)</span>:</span></span><br><span class="line"><span class="number">10</span>         self.ip_port_zu43 = (<span class="string">'224.0.0.50'</span>, <span class="number">4321</span>)</span><br><span class="line"><span class="number">11</span>         self.ip_port_single = (ip_gateway, <span class="number">9898</span>)</span><br><span class="line"><span class="number">12</span>         self.ip_port_zu9898=(<span class="string">'224.0.0.50'</span>, <span class="number">9898</span>)</span><br><span class="line"><span class="number">13</span> </span><br><span class="line"><span class="number">14</span>     <span class="function"><span class="keyword">def</span> <span class="title">whois</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="number">15</span>         s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM, <span class="number">0</span>)</span><br><span class="line"><span class="number">16</span>         comd = &#123;<span class="string">'cmd'</span>: <span class="string">'whois'</span>&#125;</span><br><span class="line"><span class="number">17</span>         order = json.dumps(comd)</span><br><span class="line"><span class="number">18</span>         s.sendto(bytes(order, encoding=<span class="string">"utf-8"</span>), self.ip_port_zu43)</span><br><span class="line"><span class="number">19</span>         data_bytes, addr = s.recvfrom(<span class="number">1024</span>)</span><br><span class="line"><span class="number">20</span>         data_dic = json.loads(str(data_bytes, encoding=<span class="string">'utf-8'</span>))</span><br><span class="line"><span class="number">21</span>         s.close()</span><br><span class="line"><span class="number">22</span>         <span class="keyword">return</span> data_dic</span><br><span class="line"><span class="number">23</span> </span><br><span class="line"><span class="number">24</span>     <span class="function"><span class="keyword">def</span> <span class="title">get_id_list</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="number">25</span>         s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM, <span class="number">0</span>)</span><br><span class="line"><span class="number">26</span>         comd = &#123;<span class="string">'cmd'</span>: <span class="string">'get_id_list'</span>&#125;</span><br><span class="line"><span class="number">27</span>         order = json.dumps(comd)</span><br><span class="line"><span class="number">28</span>         s.sendto(bytes(order, encoding=<span class="string">"utf-8"</span>), self.ip_port_single)</span><br><span class="line"><span class="number">29</span>         data_bytes, addr = s.recvfrom(<span class="number">1024</span>)</span><br><span class="line"><span class="number">30</span>         data_dic = json.loads(str(data_bytes, encoding=<span class="string">'utf-8'</span>))</span><br><span class="line"><span class="number">31</span>         s.close()</span><br><span class="line"><span class="number">32</span>         <span class="keyword">return</span> data_dic</span><br><span class="line"><span class="number">33</span> </span><br><span class="line"><span class="number">34</span>     <span class="function"><span class="keyword">def</span> <span class="title">read_sid</span><span class="params">(self, sid)</span>:</span></span><br><span class="line"><span class="number">35</span>         s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM, <span class="number">0</span>)</span><br><span class="line"><span class="number">36</span>         comd = &#123;<span class="string">'cmd'</span>: <span class="string">'read'</span>, <span class="string">'sid'</span>: sid&#125;</span><br><span class="line"><span class="number">37</span>         order = json.dumps(comd)</span><br><span class="line"><span class="number">38</span>         s.sendto(bytes(order, encoding=<span class="string">"utf-8"</span>), self.ip_port_single)</span><br><span class="line"><span class="number">39</span>         data_bytes, addr = s.recvfrom(<span class="number">1024</span>)</span><br><span class="line"><span class="number">40</span>         data_dic = json.loads(str(data_bytes, encoding=<span class="string">'utf-8'</span>))</span><br><span class="line"><span class="number">41</span>         s.close()</span><br><span class="line"><span class="number">42</span>         <span class="keyword">return</span> data_dic</span><br><span class="line"><span class="number">43</span> </span><br><span class="line"><span class="number">44</span>     <span class="function"><span class="keyword">def</span> <span class="title">write_plug</span><span class="params">(self, status)</span>:</span></span><br><span class="line"><span class="number">45</span>         s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM, <span class="number">0</span>)</span><br><span class="line"><span class="number">46</span>         key_encrypt = udp_token_key.get_token_encrypty()</span><br><span class="line"><span class="number">47</span>         comd = &#123;<span class="string">"cmd"</span>: <span class="string">"write"</span>, <span class="string">"model"</span>: <span class="string">"plug"</span>, <span class="string">"sid"</span>: <span class="string">"设备id"</span>, <span class="string">"short_id"</span>: 设备short_id,</span><br><span class="line"><span class="number">48</span>                 <span class="string">"data"</span>: &#123;<span class="string">"status"</span>: status, <span class="string">'key'</span>: key_encrypt&#125;&#125;</span><br><span class="line"><span class="number">49</span>         order = json.dumps(comd)</span><br><span class="line"><span class="number">50</span>         s.sendto(bytes(order, encoding=<span class="string">"utf-8"</span>), self.ip_port_single)</span><br><span class="line"><span class="number">51</span>         data_bytes, addr = s.recvfrom(<span class="number">1024</span>)</span><br><span class="line"><span class="number">52</span>         data_dic = json.loads(str(data_bytes, encoding=<span class="string">'utf-8'</span>))</span><br><span class="line"><span class="number">53</span>         s.close()</span><br><span class="line"><span class="number">54</span>         <span class="keyword">return</span> data_dic</span><br><span class="line"><span class="number">55</span> </span><br><span class="line"><span class="number">56</span>     <span class="function"><span class="keyword">def</span> <span class="title">read_all_sid</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="number">57</span>         s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM, <span class="number">0</span>)</span><br><span class="line"><span class="number">58</span>         ls = json.loads(self.get_id_list().get(<span class="string">'data'</span>))</span><br><span class="line"><span class="number">59</span>         ls_sensor_state = []</span><br><span class="line"><span class="number">60</span>         <span class="keyword">for</span> sid <span class="keyword">in</span> ls:</span><br><span class="line"><span class="number">61</span>             comd = &#123;<span class="string">'cmd'</span>: <span class="string">'read'</span>, <span class="string">'sid'</span>: sid&#125;</span><br><span class="line"><span class="number">62</span>             order = json.dumps(comd)</span><br><span class="line"><span class="number">63</span>             s.sendto(bytes(order, encoding=<span class="string">"utf-8"</span>), self.ip_port_single)</span><br><span class="line"><span class="number">64</span>             data_bytes, addr = s.recvfrom(<span class="number">1024</span>)</span><br><span class="line"><span class="number">65</span>             data_dic = json.loads(str(data_bytes, encoding=<span class="string">'utf-8'</span>))</span><br><span class="line"><span class="number">66</span>             <span class="comment">#            print(data_dic)</span></span><br><span class="line"><span class="number">67</span>             ls_sensor_state.append(data_dic)</span><br><span class="line"><span class="number">68</span>         s.close()</span><br><span class="line"><span class="number">69</span>         <span class="keyword">return</span> ls_sensor_state</span><br><span class="line"><span class="number">70</span> </span><br><span class="line"><span class="number">71</span>     <span class="function"><span class="keyword">def</span> <span class="title">get_dict_model_sid</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="number">72</span>         dic_gw=self.whois()</span><br><span class="line"><span class="number">73</span>         ls=self.read_all_sid()</span><br><span class="line"><span class="number">74</span>         dic_model_sid = &#123;&#125;</span><br><span class="line"><span class="number">75</span>         <span class="keyword">for</span> dic <span class="keyword">in</span> ls:</span><br><span class="line"><span class="number">76</span>             model = dic.get(<span class="string">'model'</span>)</span><br><span class="line"><span class="number">77</span>             sid = dic.get(<span class="string">'sid'</span>)</span><br><span class="line"><span class="number">78</span>             dic_model_sid[model] = sid</span><br><span class="line"><span class="number">79</span>         dic_model_sid[<span class="string">'gateway'</span>] = dic_gw.get(<span class="string">'sid'</span>)</span><br><span class="line"><span class="number">80</span>         <span class="keyword">return</span> dic_model_sid</span><br><span class="line"><span class="number">81</span> </span><br><span class="line"><span class="number">82</span> </span><br><span class="line"><span class="number">83</span> <span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span><br><span class="line"><span class="number">84</span>     <span class="keyword">import</span> time</span><br><span class="line"><span class="number">87</span>     gw=udp_gw(<span class="string">'你的网关ip'</span>)</span><br><span class="line"><span class="number">88</span>     tmp = gw.read_sid(<span class="string">'子设备ID'</span>)</span><br><span class="line"><span class="number">89</span> <span class="comment">#    print(tmp1)</span></span><br><span class="line"><span class="number">90</span> <span class="comment">#    time.sleep(5)</span></span><br><span class="line"><span class="number">91</span> <span class="comment">#    gw.write_plug('off')</span></span><br><span class="line"><span class="number">92</span> <span class="comment">#    time.sleep(5)</span></span><br><span class="line"><span class="number">93</span> <span class="comment">#    tmp=gw.read_sid(')</span></span><br><span class="line"><span class="number">94</span> </span><br><span class="line"><span class="number">95</span>     print(tmp)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python之socket编程</title>
      <link href="/2018/07/python+socket/"/>
      <url>/2018/07/python+socket/</url>
      
        <content type="html"><![CDATA[<p>链接： <a href="http://www.runoob.com/python/python-socket.html" target="_blank" rel="noopener">http://www.runoob.com/python/python-socket.html</a></p>]]></content>
      
      
      <categories>
          
          <category> socket </category>
          
      </categories>
      
      
        <tags>
            
            <tag> socket </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TCP/IP、Http、Socket的区别</title>
      <link href="/2018/07/tcp+socket/"/>
      <url>/2018/07/tcp+socket/</url>
      
        <content type="html"><![CDATA[<p>经常在笔试、面试或者工作的时候听到这些协议，虽然以前没怎么涉及过，但至少知道这些是和网络编程密不可分的知识，作为一个客户端开发程序员，如果可以懂得网络编程的话，他的作用和能力肯定会提升一个档次。原因很简单，这是个信息化时代，由于网络的存在使得人与人、人与网络的联系变得及其地紧密，游戏联网了才好玩，音视频在线了才更方便看。而且，对于一个程序员来说，懂得网络编程将使得自己的能力和价值得到更大的提升，从很多高级软件开发职位的招聘信息就可以看得出来：熟悉http，socket等网络连接编程，了解TCP/IP协议…那还等什么啊，TMD赶紧学啊，觉得对就要赶紧开个头，先把Tcp/Ip、Http、Socket都是些什么东西以及它们之间的区别搞清楚再说！</p><p>  大学学习网络基础的时候老师讲过，网络由下往上分为物理层、数据链路层、网络层、传输层、会话层、表示层和应用层。通过初步的了解，我知道IP协议对应于网络层，TCP协议对应于传输层，而HTTP协议对应于应用层，三者从本质上来说没有可比性，socket则是对TCP/IP协议的封装和应用（程序员层面上）。也可以说，TPC/IP协议是传输层协议，主要解决数据如何在网络中传输，而HTTP是应用层协议，主要解决如何包装数据。关于TCP/IP和HTTP协议的关系，网络有一段比较容易理解的介绍：</p><p>  “我们在传输数据时，可以只使用（传输层）TCP/IP协议，但是那样的话，如果没有应用层，便无法识别数据内容，如果想要使传输的数据有意义，则必须使用到应用层协议，应用层协议有很多，比如HTTP、FTP、TELNET等，也可以自己定义应用层协议。WEB使用HTTP协议作应用层协议，以封装HTTP文本信息，然后使用TCP/IP做传输层协议将它发到网络上。”</p><p>  而我们平时说的最多的socket是什么呢，实际上socket是对TCP/IP协议的封装，Socket本身并不是协议，而是一个调用接口（API），通过Socket，我们才能使用TCP/IP协议。实际上，Socket跟TCP/IP协议没有必然的联系。Socket编程接口在设计的时候，就希望也能适应其他的网络协议。所以说，Socket的出现只是使得程序员更方便地使用TCP/IP协议栈而已，是对TCP/IP协议的抽象，从而形成了我们知道的一些最基本的函数接口，比如create、listen、connect、accept、send、read和write等等。网络有一段关于socket和TCP/IP协议关系的说法比较容易理解：</p><p>  “TCP/IP只是一个协议栈，就像操作系统的运行机制一样，必须要具体实现，同时还要提供对外的操作接口。这个就像操作系统会提供标准的编程接口，比如win32编程接口一样，TCP/IP也要提供可供程序员做网络开发所用的接口，这就是Socket编程接口。”</p><p>  关于TCP/IP协议的相关只是，用博大精深来讲我想也不为过，单单查一下网上关于此类只是的资料和书籍文献的数量就知道，这个我打算会买一些经典的书籍（比如《TCP/IP详解：卷一、卷二、卷三》）进行学习，今天就先总结一些基于基于TCP/IP协议的应用和编程接口的知识，也就是刚才说了很多的HTTP和Socket。</p><p>  CSDN上有个比较形象的描述：HTTP是轿车，提供了封装或者显示数据的具体形式；Socket是发动机，提供了网络通信的能力。</p><p>  实际上，传输层的TCP是基于网络层的IP协议的，而应用层的HTTP协议又是基于传输层的TCP协议的，而Socket本身不算是协议，就像上面所说，它只是提供了一个针对TCP或者UDP编程的接口。</p><p>下面是一些经常在笔试或者面试中碰到的重要的概念，特在此做摘抄和总结。</p><p>一、 什么是TCP连接的三次握手</p><p>第一次握手：客户端发送syn包(syn=j)到服务器，并进入SYN_SEND状态，等待服务器确认；<br>第二次握手：服务器收到syn包，必须确认客户的SYN（ack=j+1），同时自己也发送一个SYN包（syn=k），即SYN+ACK包，此时服务器进入SYN_RECV状态；<br>第三次握手：客户端收到服务器的SYN＋ACK包，向服务器发送确认包ACK(ack=k+1)，此包发送完毕，客户端和服务器进入ESTABLISHED状态，完成三次握手。<br>  握手过程中传送的包里不包含数据，三次握手完毕后，客户端与服务器才正式开始传送数据。理想状态下，TCP连接一旦建立，在通信双方中的任何一方主动关闭连接之前，TCP 连接都将被一直保持下去。断开连接时服务器和客户端均可以主动发起断开TCP连接的请求，断开过程需要经过“四次握手”（过程就不细写了，就是服务器和客户端交互，最终确定断开）</p><p>二、 利用Socket建立网络连接的步骤</p><p>建立Socket连接至少需要一对套接字，其中一个运行于客户端，称为ClientSocket ，另一个运行于服务器端，称为ServerSocket 。</p><p>套接字之间的连接过程分为三个步骤：服务器监听，客户端请求，连接确认。</p><p>1。服务器监听：服务器端套接字并不定位具体的客户端套接字，而是处于等待连接的状态，实时监控网络状态，等待客户端的连接请求。</p><p>2。客户端请求：指客户端的套接字提出连接请求，要连接的目标是服务器端的套接字。为此，客户端的套接字必须首先描述它要连接的服务器的套接字，指出服务器端套接字的地址和端口号，然后就向服务器端套接字提出连接请求。</p><p>3。连接确认：当服务器端套接字监听到或者说接收到客户端套接字的连接请求时，就响应客户端套接字的请求，建立一个新的线程，把服务器端套接字的描述发给客户端，一旦客户端确认了此描述，双方就正式建立连接。而服务器端套接字继续处于监听状态，继续接收其他客户端套接字的连接请求。</p><p>三、 HTTP链接的特点</p><p>HTTP协议即超文本传送协议(Hypertext Transfer Protocol )，是Web联网的基础，也是手机联网常用的协议之一，HTTP协议是建立在TCP协议之上的一种应用。</p><p>HTTP连接最显著的特点是客户端发送的每次请求都需要服务器回送响应，在请求结束后，会主动释放连接。从建立连接到关闭连接的过程称为“一次连接”。</p><p>四、 TCP和UDP的区别（考得最多。。快被考烂了我觉得- -//）</p><p>1。TCP是面向链接的，虽然说网络的不安全不稳定特性决定了多少次握手都不能保证连接的可靠性，但TCP的三次握手在最低限度上（实际上也很大程度上保证了）保证了连接的可靠性；而UDP不是面向连接的，UDP传送数据前并不与对方建立连接，对接收到的数据也不发送确认信号，发送端不知道数据是否会正确接收，当然也不用重发，所以说UDP是无连接的、不可靠的一种数据传输协议。</p><p>2。也正由于1所说的特点，使得UDP的开销更小数据传输速率更高，因为不必进行收发数据的确认，所以UDP的实时性更好。</p><p>知道了TCP和UDP的区别，就不难理解为何采用TCP传输协议的MSN比采用UDP的QQ传输文件慢了，但并不能说QQ的通信是不安全的，因为程序员可以手动对UDP的数据收发进行验证，比如发送方对每个数据包进行编号然后由接收方进行验证啊什么的，即使是这样，UDP因为在底层协议的封装上没有采用类似TCP的“三次握手”而实现了TCP所无法达到的传输效率。</p>]]></content>
      
      
      <categories>
          
          <category> socket </category>
          
      </categories>
      
      
        <tags>
            
            <tag> socket </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTP状态码</title>
      <link href="/2018/07/http+zhuangtaima/"/>
      <url>/2018/07/http+zhuangtaima/</url>
      
        <content type="html"><![CDATA[<h3 id="HTTP状态码"><a href="#HTTP状态码" class="headerlink" title="HTTP状态码"></a>HTTP状态码</h3><p>当浏览者访问一个网页时，浏览者的浏览器会向网页所在服务器发出请求。当浏览器接收并显示网页前，此网页所在的服务器会返回一个包含HTTP状态码的信息头（server header）用以响应浏览器的请求。<br>HTTP状态码的英文为HTTP Status Code。<br>下面是常见的HTTP状态码：<br>200 - 请求成功<br>301 - 资源（网页等）被永久转移到其它URL<br>404 - 请求的资源（网页等）不存在<br>500 - 内部服务器错误<br>HTTP状态码分类<br>HTTP状态码由三个十进制数字组成，第一个十进制数字定义了状态码的类型，后两个数字没有分类的作用。HTTP状态码共分为5种类型：<br>HTTP状态码分类<br>分类  分类描述<br>1<strong> 信息，服务器收到请求，需要请求者继续执行操作<br>2</strong> 成功，操作被成功接收并处理<br>3<strong> 重定向，需要进一步的操作以完成请求<br>4</strong> 客户端错误，请求包含语法错误或无法完成请求<br>5** 服务器错误，服务器在处理请求的过程中发生了错误<br>HTTP状态码列表:<br>HTTP状态码列表</p><h3 id="状态码-状态码英文名称-中文描述"><a href="#状态码-状态码英文名称-中文描述" class="headerlink" title="状态码 状态码英文名称 中文描述"></a>状态码 状态码英文名称 中文描述</h3><p>100 Continue  继续。客户端应继续其请求<br>101 Switching Protocols 切换协议。服务器根据客户端的请求切换协议。只能切换到更高级的协议，例如，切换到HTTP的新版本协议<br>200 OK  请求成功。一般用于GET与POST请求<br>201 Created 已创建。成功请求并创建了新的资源<br>202 Accepted  已接受。已经接受请求，但未处理完成<br>203 Non-Authoritative Information 非授权信息。请求成功。但返回的meta信息不在原始的服务器，而是一个副本<br>204 No Content  无内容。服务器成功处理，但未返回内容。在未更新网页的情况下，可确保浏览器继续显示当前文档<br>205 Reset Content 重置内容。服务器处理成功，用户终端（例如：浏览器）应重置文档视图。可通过此返回码清除浏览器的表单域<br>206 Partial Content 部分内容。服务器成功处理了部分GET请求<br>300 Multiple Choices  多种选择。请求的资源可包括多个位置，相应可返回一个资源特征与地址的列表用于用户终端（例如：浏览器）选择<br>301 Moved Permanently 永久移动。请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动定向到新URI。今后任何新的请求都应使用新的URI代替<br>302 Found 临时移动。与301类似。但资源只是临时被移动。客户端应继续使用原有URI<br>303 See Other 查看其它地址。与301类似。使用GET和POST请求查看<br>304 Not Modified  未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。客户端通常会缓存访问过的资源，通过提供一个头信息指出客户端希望只返回在指定日期之后修改的资源<br>305 Use Proxy 使用代理。所请求的资源必须通过代理访问<br>306 Unused  已经被废弃的HTTP状态码<br>307 Temporary Redirect  临时重定向。与302类似。使用GET请求重定向<br>400 Bad Request 客户端请求的语法错误，服务器无法理解<br>401 Unauthorized  请求要求用户的身份认证<br>402 Payment Required  保留，将来使用<br>403 Forbidden 服务器理解请求客户端的请求，但是拒绝执行此请求<br>404 Not Found 服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置”您所请求的资源无法找到”的个性页面<br>405 Method Not Allowed  客户端请求中的方法被禁止<br>406 Not Acceptable  服务器无法根据客户端请求的内容特性完成请求<br>407 Proxy Authentication Required 请求要求代理的身份认证，与401类似，但请求者应当使用代理进行授权<br>408 Request Time-out  服务器等待客户端发送的请求时间过长，超时<br>409 Conflict  服务器完成客户端的PUT请求是可能返回此代码，服务器处理请求时发生了冲突<br>410 Gone  客户端请求的资源已经不存在。410不同于404，如果资源以前有现在被永久删除了可使用410代码，网站设计人员可通过301代码指定资源的新位置<br>411 Length Required 服务器无法处理客户端发送的不带Content-Length的请求信息<br>412 Precondition Failed 客户端请求信息的先决条件错误<br>413 Request Entity Too Large  由于请求的实体过大，服务器无法处理，因此拒绝请求。为防止客户端的连续请求，服务器可能会关闭连接。如果只是服务器暂时无法处理，则会包含一个Retry-After的响应信息<br>414 Request-URI Too Large 请求的URI过长（URI通常为网址），服务器无法处理<br>415 Unsupported Media Type  服务器无法处理请求附带的媒体格式<br>416 Requested range not satisfiable 客户端请求的范围无效<br>417 Expectation Failed  服务器无法满足Expect的请求头信息<br>500 Internal Server Error 服务器内部错误，无法完成请求<br>501 Not Implemented 服务器不支持请求的功能，无法完成请求<br>502 Bad Gateway 充当网关或代理的服务器，从远端服务器接收到了一个无效的请求<br>503 Service Unavailable 由于超载或系统维护，服务器暂时的无法处理客户端的请求。延时的长度可包含在服务器的Retry-After头信息中<br>504 Gateway Time-out  充当网关或代理的服务器，未及时从远端服务器获取请求<br>505 HTTP Version not supported  服务器不支持请求的HTTP协议的版本，无法完成处理</p>]]></content>
      
      
      <categories>
          
          <category> http </category>
          
      </categories>
      
      
        <tags>
            
            <tag> http </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bitmex合约交易规则</title>
      <link href="/2018/07/Bitbex+rule/"/>
      <url>/2018/07/Bitbex+rule/</url>
      
        <content type="html"><![CDATA[<h3 id="期货合约"><a href="#期货合约" class="headerlink" title="期货合约"></a>期货合约</h3><p>期货合约就是指由期货交易所统一制订的、规定在将来某一特定的时间和地点交割一定数量和质量实物商品或金融商品的标准化合约。</p><p>简单的说就是一种合约，一种将来必须履行的合约。合约的内容是统一的、标准化的，惟有合约的价格，会因各种市场因素的变化而发生大小不同的波动。所以买卖合约转收益。</p><p>bitmex就是提供了合约交易平台，只不过是基于比特币和其他数字货币等的合约类型。交割的是xbt。</p><p>在bitmex上面提供各种期货合约，如上图所示，BitMEX上提供了十几种期货和掉期合约产品。比特币是其中交易最活跃的品种，其下又分为三种合约类型：XBTU18（比特币/美元期货，futures），XBJZ18（比特币/日元期货）和XBTUSD（比特币/美元永续掉期，perpetual swap）。</p><p>在bitmex的期货合约XBTU18。代号中的XBT表示比特币，U18表示2018年9月底交割（settle）。每个季度会有新的期货产品出现，通常在前一个季度合约交割前半个月上线交易。下一批期货的代号会以Z18结尾，将在2018年12月底交割。</p><p>期货月份代号分别是： F 一月 G 二月 H 三月 J 四月 K 五月 M 六月 N 七月 Q 八月 U 九月 V 十月 X 十一月 Z 十二月</p><p>bitmex上每份XBTZ17合约价值一美元。bitmex只用xbt结算，买卖合约并不真的用到美元本身，只要提供以比特币计价的保证金（margin）。</p><p>美元称为计价货币，xbt是bitmex上的基础货币。</p><h3 id="期货的做多和做空"><a href="#期货的做多和做空" class="headerlink" title="期货的做多和做空"></a>期货的做多和做空</h3><p>简单的说：</p><p>你预测期货会涨，那么你就先买入，涨了之后再卖出去，就是做多。</p><p>相反，如果你感觉会下跌，那就先卖出去，下跌之后再买回来，这就是做空。</p><h3 id="在bitmex上"><a href="#在bitmex上" class="headerlink" title="在bitmex上"></a>在bitmex上</h3><h4 id="仓位"><a href="#仓位" class="headerlink" title="仓位"></a>仓位</h4><p>仓位就是指你的合约量，下边的例子中10000张合约就是仓位。</p><h4 id="平仓"><a href="#平仓" class="headerlink" title="平仓"></a>平仓</h4><p>就是将合约交易做完， 做多的，买入了—–再卖出就平仓了。 做空的，卖出了—–再买入就平仓了。</p><h4 id="爆仓"><a href="#爆仓" class="headerlink" title="爆仓"></a>爆仓</h4><p>交易因某些原因（保证金亏没了）被强制平仓了</p><h4 id="下单"><a href="#下单" class="headerlink" title="下单"></a>下单</h4><p>下单就是你挂出你想做的交易，比如你想买入做多，或者是卖出做空，下的单就是委托单，有好几种类型，最常用的是市价单（market order）和限价单（limit order）。</p><h3 id="市价单"><a href="#市价单" class="headerlink" title="市价单"></a>市价单</h3><p>市价单最简单，按照现在的市价进行买卖。</p><p>首先设定好仓位大小。10000美元就是10000张合约。做多的话点绿色的”市价买入“，做空的话点红色的”市价卖出“。市价单能保证立刻被全部执行（除非你的单特别大，击穿市场上的所有挂单），弊端是成交价不一定等于当前的最好出价。比如最低卖单是100张$20000，其次有1000张$20002。那么当你以市价购买200张合约时，有100张以$20000买入，另100张则以$20002成交，所以平均买入价是$20001。执行市价单降低了市场的流动性，所以交易所会向委托方收取0.075%的手续费。</p><h3 id="举个例子"><a href="#举个例子" class="headerlink" title="举个例子"></a>举个例子</h3><p>bitmex就是提供了合约交易平台，只不过是基于比特币，交割的是xbt。</p><p>假如比特币市价$20000/BTC，你觉得比特币的价格还会继续涨，那么你可以做多（long）。先不考虑杠杆、溢价和手续费，你按$20000/BTC的价格买入10000张合约。由于每张合约永远价值一美元，所以你的多单总值 = 10000 / 20000 = 0.5 BTC。在不加杠杆的情况下，你需要提供0.5 BTC的保证金。等到交割时，BitMEX根据Bitstamp和GDAX两家交易所的成交价计算出一个指数价格.BXBT。如果价格涨到$40000/BTC，那么你10000张多单对应10000 / 40000 = 0.25 BTC。获利0.5 - 0.25 = 0.25 BTC，收益比0.25 / 0.5 = 50%。如果价格腰斩，跌到$10000，那么10000张合约对应10000 / 10000 = 1 BTC。获利0.5 - 1 = -0.5 BTC，损失100%。</p><p>类似地，如果你觉得比特币价格会从$20000跌落，那么你应该做空（short），也就是卖出合约。卖出10000张合约时，空单总值同样等于10000 / 20000 = 0.5 BTC，需要0.5 BTC保证金。如果价格跌到$10000，合约价值10000 / 10000 = 1 BTC。获利-0.5 - (-1) = 0.5 BTC，收益比0.5 / 0.5 = 100%。如果价格翻倍，涨到$40000，那么合约平仓价值是10000 / 40000 = 0.25 BTC，获利-0.5 - (-0.25) = -0.25 BTC，收益比-0.25 / 0.5 = -50%。</p><h3 id="限价单"><a href="#限价单" class="headerlink" title="限价单"></a>限价单</h3><p>限价单不光需要指定仓位大小，还需要指定一个限价，就是按照自己的意愿出价。</p><p>只有当市场价小于等于做多方的限价或大于等于做空方的限价时，委托单才会被执行。好处是成交价完全由你自己指定，没有达到预期的话就不会执行。而且一旦成交，由于你增加了市场流动性，所以能得到0.025%的手续费返点。弊端是市场变化难料，你的委托单有可能永远不能成交，或者只能部分成交。</p><p>可以看出，无论做多还是做空，收益曲线都不是线性的，因为盈亏 = 合约数 * (1/开仓价格 - 1/平仓价格）。</p><p>由于最后交割价格的不确定性，期货价格会与现货价格有差异。大部分时候，比特币期货价格高于现货价格，这反映了市场对币价上扬走势的一种预期。这种以溢价（premium）交易的市场被称为正价差市场（Contango market）。反之，以折价（discount）交易的市场叫逆价差市场（Backwardation market）。随着合约到期日的临近，这种不确定性会逐步降低，价格基差（basis）会收敛于零。</p><h3 id="杠杆"><a href="#杠杆" class="headerlink" title="杠杆"></a>杠杆</h3><p>你想做大的投资，又没有钱怎么办？</p><p>杠杆就是根据一定比例把资金放大，以小博大的金融工具，和保证金相对应。</p><p>比如：</p><p>如果杠杆是1:10，保证金就是10%，资金放大的倍数就是10倍。在金融市场上，如本来一百万的东西，如果没有杠杆，就必须拿出100万来投资，如采用1:100的杠杆，则只需一万，你就可以买到一百万的投资，当投资标的涨幅到达1%时，你的盈利就是1%X100=1万，当然风险也会放大100倍。</p><h3 id="爆仓-1"><a href="#爆仓-1" class="headerlink" title="爆仓"></a>爆仓</h3><p>如果价格下跌幅度超过你实际投资额度了怎么办？在交割日之前的任何时刻，一旦保证金不足以支付你的潜在损失时，交易所会强制平仓（liquidate，俗称爆仓），自动卖出你的多单防止亏损进一步扩大。你也可以不等交割，按当时的交易价平仓，主动止盈或者止损。</p><p>杠杆（leverage）可以助你四两拨千斤，用少量资金做大宗交易，副作用则是增大仓位的风险。BitMEX的期货合约通常给与最大100x的杠杆倍率。注意一个新手常犯的错误：在仓位不变的情况下，你的杠杆数只影响保证金的额度和相对回报率（ROE%）的计算，完全不改变盈亏的绝对值。别以为光是把杠杆拉到100x就能把原先1 BTC的盈利神奇般地提高到100 BTC。</p><p>杠杆越高，仓位（position）所需的保证金越少。同等资金下，能开的仓位也越大，潜在回报越高。同时，强平价格（liquidation price）更接近你的开仓价格（entry price）。这意味着你的仓位更经受不起价格波动，更容易由于价格逆行导致爆仓。</p><h3 id="怎么才能不爆仓"><a href="#怎么才能不爆仓" class="headerlink" title="怎么才能不爆仓"></a>怎么才能不爆仓</h3><p>为了防止爆仓，你可以追加保证金，降低杠杆，或者补仓（按更低价格做多或按更高价格做空），不玩了重新做人。</p><h3 id="永续掉期"><a href="#永续掉期" class="headerlink" title="永续掉期"></a>永续掉期</h3><p>期货合约在到期日交割后就停止交易。XBTUSD永续掉期合约则没有到期日，可以一直持仓。</p><p>在bitmex上，为了防止XBTUSD的交易价格过度偏离现货市场的标记价格（mark price），BitMEX会每分钟采样计算两者的价差，每隔八小时算出一个资金费率（funding fee），让多方给空方（或者反向）缴费，从而把成交价朝现货的成交价方向拉。</p><p>资金费率可以在左边的“合约明细”栏看到。正数表示交易价偏高，多方要向空方缴费，反之多方会从空方收取费用。绿色数字表示当前的仓位在下个缴费时刻可以收款；红色表示不平仓的话你会在下个时段缴费。鼠标移到数字上方时可以看到下下个时段的预测费率。</p><p>每天有三次缴费时间：北京时间凌晨4点，中午12点，傍晚8点。在这三个时刻持仓才参与缴费。所以如果你在前一秒钟平仓的话就不受影响。费率不高的时候，没必要为了逃避缴费就提早平仓，因为你可能因小失大，错过新一轮的行情。</p><p>但是你可以及时结算合约，及时止盈或者止损。</p><h3 id="保值基本策略"><a href="#保值基本策略" class="headerlink" title="保值基本策略"></a>保值基本策略</h3><p>如果你要为手头的比特币保值，减少币价暴跌的风险，那么可以在现货市场买入比特币，然后在期货市场以低杠杆或无杠杆卖出对应价值的合约（XBTUSD或XBTZ18）。币价上升时，空单的损失会和现货的升值对冲。币价下降时，你会获得更多比特币，对冲币价下跌的损失。期货溢价可以让你赚取到现货的时间价值。</p>]]></content>
      
      
      <categories>
          
          <category> bitmex </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bitmex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo添加页面</title>
      <link href="/2018/04/hexo+yemian/"/>
      <url>/2018/04/hexo+yemian/</url>
      
        <content type="html"><![CDATA[<p>hexo添加右侧公众号页面记录<br><a id="more"></a><br>HTML代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">.paral</span><br><span class="line">&#123;</span><br><span class="line">  position: absolute; </span><br><span class="line">  top: 10%;  </span><br><span class="line">  right: 0; </span><br><span class="line">  width:200px; </span><br><span class="line">  height:140px;</span><br><span class="line">  -webkit-user-select:none;   ##禁止鼠标选中</span><br><span class="line">  -moz-user-select:none;</span><br><span class="line">  -ms-user-select:none;</span><br><span class="line">  user-select:none;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">.zi</span><br><span class="line">&#123;</span><br><span class="line">  position: absolute;  </span><br><span class="line">  right: 0; </span><br><span class="line">  width:30px; </span><br><span class="line">  height:120px;</span><br><span class="line">  writing-mode: vertical-lr;   ##文字垂直</span><br><span class="line">  text-align:center;   ##文字居中</span><br><span class="line">  background-color:#e2e5b7;</span><br><span class="line">  font-size:18px;</span><br><span class="line">  cursor:pointer;   ##划过时鼠标样式</span><br><span class="line">  top:50%;</span><br><span class="line">  transform:translateY(-50%);  ##p标签垂直居中</span><br><span class="line">  border:1px solid #d1d8bd;</span><br><span class="line">  border-radius:5px;   ##边框圆角</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">.img</span><br><span class="line">&#123;</span><br><span class="line">  position: absolute;   </span><br><span class="line">  right: 60px; </span><br><span class="line">  width: 140px;</span><br><span class="line">  height: 140px;</span><br><span class="line">  display: none;   ##默认不显示图片</span><br><span class="line">&#125;</span><br><span class="line">p:hover +.img &#123;</span><br><span class="line">    display: block;  ##鼠标划过时，改变class--img属性为显示</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;paral&quot;&gt;</span><br><span class="line">  &lt;p class=&quot;zi&quot;&gt;公众号&lt;/p&gt;</span><br><span class="line">    &lt;img src=&quot;zhiliaonote.jpg&quot; class=&quot;img&quot;&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p>css添加在主题文件下的source/css/_schemes/主题名称文件夹/_layout</p><p>HTML代码添加到主题文件夹下layout/_layout.swig中class为main中</p><p>大功告成！</p>]]></content>
      
      
      <categories>
          
          <category> html </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>分享小众软件-屏幕时钟</title>
      <link href="/2018/04/Fliqlo/"/>
      <url>/2018/04/Fliqlo/</url>
      
        <content type="html"><![CDATA[<p><img src="/2018/04/Fliqlo/Fliqlo.jpg" alt><br><a id="more"></a></p><h3 id="Fliqlo"><a href="#Fliqlo" class="headerlink" title="Fliqlo"></a>Fliqlo</h3><p>带动态翻页效果的数字时钟屏保，和htc手机上的超大字体数字时钟相似，<br>可以让整个显示器显示一个数字时钟，时间改变时还会有翻页效果，十分<br>的典雅.</p><p>mac版(<a href="http://www.pc6.com/mac/123733.html" target="_blank" rel="noopener">http://www.pc6.com/mac/123733.html</a>)<br>windows版(<a href="http://www.bkill.com/download/21409.html" target="_blank" rel="noopener">http://www.bkill.com/download/21409.html</a>)</p>]]></content>
      
      
      <categories>
          
          <category> mac </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git忽略文件gitignore梳理</title>
      <link href="/2018/04/git-gitignore/"/>
      <url>/2018/04/git-gitignore/</url>
      
        <content type="html"><![CDATA[<p>对于经常使用Git的朋友来说，.gitignore配置一定不会陌生。废话不说多了，接下来就来说说这个.gitignore的使用。</p><p>首先要强调一点，这个文件的完整文件名就是”.gitignore”，注意最前面有个“.”。<br>一般来说每个Git项目中都需要一个“.gitignore”文件，这个文件的作用就是告诉Git哪些文件不需要添加到版本管理中。实际项目中，很多文件都是不需要版本管理的，比如Python的.pyc文件和一些包含密码的配置文件等等。这个文件的内容是一些规则，Git会根据这些规则来判断是否将文件添加到版本控制中。</p><p>下面我们看看常用的规则：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1）/mtk/               过滤整个文件夹</span><br><span class="line">2）*.zip                过滤所有.zip文件</span><br><span class="line">3）/mtk/do.c         过滤某个具体文件</span><br></pre></td></tr></table></figure><p>很简单吧，被过滤掉的文件就不会出现在git仓库中（gitlab或github）了，当然本地库中还有，只是push的时候不会上传。<br>需要注意的是，gitignore还可以指定要将哪些文件添加到版本管理中：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1）!*.zip</span><br><span class="line">2）!/mtk/one.txt</span><br></pre></td></tr></table></figure></p><p>唯一的区别就是规则开头多了一个感叹号，Git会将满足这类规则的文件添加到版本管理中。<br>为什么要有两种规则呢？想象一个场景：假如我们只需要管理/mtk/目录中的one.txt文件，这个目录中的其他文件都不需要管理，那么我们就需要使用：<br>1）/mtk/<br>2）!/mtk/one.txt<br>假设我们只有过滤规则，而没有添加规则，那么我们就需要把/mtk/目录下除了one.txt以外的所有文件都写出来！</p><p>最后需要强调的一点是，如果你不慎在创建.gitignore文件之前就push了项目，那么即使你在.gitignore文件中写入新的过滤规则，这些规则也不会起作用，Git仍然会对所有文件进行版本管理。<br>简单来说，出现这种问题的原因就是Git已经开始管理这些文件了，所以你无法再通过过滤规则过滤它们。因此一定要养成在项目开始就创建.gitignore文件的习惯，否则一旦push，处理起来会非常麻烦。</p><p>.gitignore配置文件用于配置不需要加入版本管理的文件，配置好该文件可以为版本管理带来很大的便利，以下是对于配置.gitignore的一些心得记录：<br>1）配置语法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">以斜杠“/”开头表示目录；</span><br><span class="line">以星号“*”通配多个字符；</span><br><span class="line">以问号“?”通配单个字符</span><br><span class="line">以方括号“[]”包含单个字符的匹配列表；</span><br><span class="line">以叹号“!”表示不忽略(跟踪)匹配到的文件或目录；</span><br></pre></td></tr></table></figure></p><p>此外，git 对于 .ignore 配置文件是按行从上到下进行规则匹配的，意味着如果前面的规则匹配的范围更大，则后面的规则将不会生效；</p><p>注意：<br>不要误解了 .gitignore 文件的用途，该文件只能作用于 Untracked Files，也就是那些从来没有被 Git 记录过的文件（自添加以后，从未 add 及 commit 过的文件）。<br>如果文件曾经被 Git 记录过，那么.gitignore 就对它们完全无效。</p>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Warning: date() ：It is not safe to rely on the system&#39;s timezone settings</title>
      <link href="/2018/04/php-waring/"/>
      <url>/2018/04/php-waring/</url>
      
        <content type="html"><![CDATA[<p>在执行php文件时会出现下面的错误： </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PHP Warning: date(): It is not safe to rely on the system&apos;s timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected &apos;UTC&apos; for &apos;8.0/no DST&apos; instead in /usr/local/apache/htdocs/test.php on line 50 。</span><br><span class="line"></span><br><span class="line">Cause:</span><br></pre></td></tr></table></figure><p>   这是因为PHP所取的时间是格林威治标准时间，所以和你当地的时间会有出入格林威治标准时间和北京时间大概差8个小时左右，我们可以按照下面的方法解决。</p><p>解决办法：</p><p>1、在页头使用date_default_timezone_set()设置我的默认时区为北京时间，即</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">date_default_timezone_set(&quot;PRC&quot;);</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>就可以了。</p><p>2、在php.ini中设置date.timezone的值为PRC，设置好以后的为：date.timezone=PRC，同时取消这一行代码的注释，即去掉前面的分号就可以了。</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mac下如何修改apache根目录</title>
      <link href="/2018/04/mac-apache/"/>
      <url>/2018/04/mac-apache/</url>
      
        <content type="html"><![CDATA[<p>众所周知，Mac自带tomcat，并且根目录在/Library/WebServer/Document ，如果直接访问localhost就会访问到这个根目录，但是这个目录带有修改权限，那么如何解决这个问题呢,最好的办法就是修改apache的根目录，下面介绍如何修改</p><p>命令 过程中需要用到</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo apachectl start    启动apache</span><br><span class="line">sudo apachectl restart  重新启动apache  </span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">首先修改httpd.conf配置文件 </span><br><span class="line">在终端中输入</span><br></pre></td></tr></table></figure><p>sudo vim /etc/apache2/httpd.conf<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">在文件最下面找到这句</span><br></pre></td></tr></table></figure></p><p>Include /private/etc/apache2/extra/httpd-vhosts.conf</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">确保Include前面没有# 否则去掉# 保存并且推出</span><br><span class="line"></span><br><span class="line">继续在终端中输入</span><br></pre></td></tr></table></figure><p>sudo vim /etc/apache2/extra/httpd-vhosts.conf<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">把80的端口修改为</span><br></pre></td></tr></table></figure></p><p><virtualhost *:80><br>    ServerName    localhost<br>    DocumentRoot ‘你想要的路径’<br>    <directory "你想要的路径"><br>        AllowOverride none<br>        Require all denied<br>        Options Indexes FollowSymLinks<br>        AllowOverride None<br>        Require all granted<br>    </directory><br></virtualhost><br><code>`</code></p><p>保存推出，重启apache 现在访问<a href="http://localhost就是你自己的路径了" target="_blank" rel="noopener">http://localhost就是你自己的路径了</a></p>]]></content>
      
      
      <categories>
          
          <category> apache </category>
          
      </categories>
      
      
        <tags>
            
            <tag> apache </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>黎明之前</title>
      <link href="/2017/12/limingzhiqian/"/>
      <url>/2017/12/limingzhiqian/</url>
      
        <content type="html"><![CDATA[<p><img src="/2017/12/limingzhiqian/liming.jpg" alt><br><a id="more"></a><br>　　《黎明之前》<br>　　<br>　　黎明之前最是黑暗<br>　　在黎明之前忍受住寒冷<br>　　没有被冻死的人们<br>　　终会撕破漆黑如墨的夜色望见美丽的朝阳</p><p>　　分离的人啊<br>　　都是为了更好的相聚和所谓的光辉前程<br>　　若是在黎明前被冻死了<br>　　分离便没有了意义</p><p>　　光辉的明天中<br>　　我们终会殊途同归</p>]]></content>
      
      
      <categories>
          
          <category> 周记整理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 周记整理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如果生活不够慷慨</title>
      <link href="/2017/12/ruguoshenghuobugoukangkai/"/>
      <url>/2017/12/ruguoshenghuobugoukangkai/</url>
      
        <content type="html"><![CDATA[<p><img src="/2017/12/ruguoshenghuobugoukangkai/rizhao.jpg" alt><br><a id="more"></a></p><p>　　《如果生活不够慷慨》</p><p>　　如果生活不够慷慨</p><p>　　我们也不必回报吝啬</p><p>　　何必要细细的盘算</p><p>　　付出和得到的必须一般多</p><p>　　如果能够大方</p><p>　　何必显得猥琐</p><p>　　如果能够潇洒</p><p>　　何必选择寂寞</p><p>　　获得是一种满足</p><p>　　给予是一种快乐</p>]]></content>
      
      
      <categories>
          
          <category> 周记整理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 周记整理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>冬季就让它寒冷吧</title>
      <link href="/2017/12/dongji/"/>
      <url>/2017/12/dongji/</url>
      
        <content type="html"><![CDATA[<p><img src="/2017/12/dongji/冬.png" alt><br><a id="more"></a></p><p>《冬季就让它寒冷吧》 </p><p>作者：郑煜洲 </p><p>穿过八月桂花飘香的夜<br>走进又一轮明月<br>我放轻脚步<br>不忍惊醒沉睡的秋<br>生怕你　　醒来<br>带走我的红叶以及果实<br>我额上的皱纹<br>就是征战冬天风刀霜剑的印记 </p><p>穿过九月夕阳满山的路<br>这里的海拔无关高度<br>我只是一匹从草原进入林间的野马<br>速度是苍鹰的<br>我是悠闲的<br>在斜阳静静的余晖中<br>在草木萧萧的晴空下<br>我想把盛夏的余温全部安葬<br>冬季就让它寒冷吧<br>﹎﹎﹎﹎﹎﹎﹎﹎﹎﹎﹎﹎﹎﹎ </p>]]></content>
      
      
      <categories>
          
          <category> 周记整理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 周记整理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo框架基于next主题定制</title>
      <link href="/2017/10/hexo-next+dingzhi/"/>
      <url>/2017/10/hexo-next+dingzhi/</url>
      
        <content type="html"><![CDATA[<p>继 <a href="http://www.aisun.org/2017/09/hexo+github+pages/">Hexo+GitHub Pages搭建的个人博客</a> 之后，在基础上hexo框架基于next主题深度定制方案<br><a id="more"></a></p><p>主要有：</p><ul><li>在右上角或者左上角实现fork me on github</li><li>添加RSS</li><li>背景配置</li><li>添加动态背景</li><li>实现点击出现桃心效果</li><li>修改文章内链接文本样式</li><li>修改文章底部的那个带#号的标签</li><li>在每篇文章末尾统一添加“本文结束”标记</li><li>修改作者头像并旋转</li><li>博文压缩</li><li>修改“代码块自定义样式</li><li>侧边栏社交小图标设置</li><li>主页文章添加阴影效果</li><li>在网站底部加上访问量</li><li>添加热度</li><li>网站底部字数统计</li><li>添加 README.md 文件</li><li>设置网站的图标Favicon</li><li>实现统计功能</li><li>添加顶部加载条</li><li>在文章底部增加版权信息</li><li>添加Gitment评论系统</li><li>隐藏网页底部powered By Hexo / 强力驱动</li><li>修改网页底部的桃心</li><li>文章加密访问</li><li>添加jiathis分享</li><li>博文置顶</li><li>修改字体大小</li><li>修改打赏字体不闪动</li><li>侧边栏推荐阅读</li><li>自定义鼠标样式</li><li>hexo 添加百度站长推送</li><li>hexo NexT主题首页title链接的优化</li><li>Hexo NexT主题修改文章标题样式</li><li>hexo 添加百度站长推送</li></ul><h2 id="在右上角或者左上角实现fork-me-on-github"><a href="#在右上角或者左上角实现fork-me-on-github" class="headerlink" title="在右上角或者左上角实现fork me on github"></a>在右上角或者左上角实现fork me on github</h2><p>具体实现方法<br>点击<a href="https://github.com/blog/273-github-ribbons" target="_blank" rel="noopener">这里</a> 挑选自己喜欢的样式，并复制代码。 例如，我是复制如下代码： </p><p>然后粘贴刚才复制的代码到themes/next/layout/_layout.swig文件中放在<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="headband"&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p>的下面，并把href改为你的github地址 </p><h2 id="添加RSS"><a href="#添加RSS" class="headerlink" title="添加RSS"></a>添加RSS</h2><p>具体实现方法<br>切换到你的blog的路径，例如我是在/Users/Hexo/blog这个路径上，也就是在你的根目录下 </p><p>然后安装 Hexo 插件：(这个插件会放在node_modules这个文件夹里)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save hexo-generator-feed</span><br></pre></td></tr></table></figure></p><p>接下来打开配置文件</p><p>在里面的末尾添加：(请注意在冒号后面要加一个空格，不然会发生错误！)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Extensions</span><br><span class="line">## Plugins: http://hexo.io/plugins/</span><br><span class="line">plugins: hexo-generate-feed</span><br></pre></td></tr></table></figure></p><p>然后打开next主题文件夹里面的_config.yml,在里面配置为如下样子：(就是在rss:的后面加上/atom.xml,注意在冒号后面要加一个空格)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Set rss to false to disable feed link.</span><br><span class="line"># Leave rss as empty to use site&apos;s feed link.</span><br><span class="line"># Set rss to specific value if you have burned your feed already.</span><br><span class="line">rss: /atom.xml</span><br></pre></td></tr></table></figure></p><p>配置完之后运行：<br>$ hexo g</p><p>重新生成一次，你会在./public 文件夹中看到 atom.xml 文件。然后启动服务器查看是否有效，之后再部署到 Github 中。</p><h2 id="背景配置"><a href="#背景配置" class="headerlink" title="背景配置"></a>背景配置</h2><p>背景透明</p><p>博客根目录 themes\next\source\css\_schemes\Pisces\_layout.styl这个文件的<br>第65行background:删除掉</p><p>按钮背景</p><p>博客根目录 themes\next\source\css\_common\components\post\post-button.styl 第七行修  background: ;</p><p>站点概况背景</p><p>博客根目录 themes\next\source\css\_schemes\Pisces\_sidebar.styl </p><p>菜单栏背景</p><p>next\source\css_schemes\Pisces\_layout.styl 文件里.header-inner 这个选择器下的background 就是背景色</p><h2 id="添加动态背景"><a href="#添加动态背景" class="headerlink" title="添加动态背景"></a>添加动态背景</h2><p>具体实现方法<br>修改代码</p><p>打开next/layout/_layout.swig，在之前添加如下代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.canvas_nest %&#125;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></p><p>修改主题配置文件</p><p>打开/next/_config.yml，添加以下代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># --------------------------------------------------------------</span><br><span class="line"># background settings</span><br><span class="line"># --------------------------------------------------------------</span><br><span class="line"># add canvas-nest effect</span><br><span class="line"># see detail from https://github.com/hustcc/canvas-nest.js</span><br><span class="line">canvas_nest: true</span><br></pre></td></tr></table></figure></p><p>运行hexo clean 和 hexo g hexo s之后就可以看到效果了</p><h2 id="实现点击出现桃心效果"><a href="#实现点击出现桃心效果" class="headerlink" title="实现点击出现桃心效果"></a>实现点击出现桃心效果</h2><p>具体实现方法<br>点击这里<a href="http://7u2ss1.com1.z0.glb.clouddn.com/love.js" target="_blank" rel="noopener">love.js</a></p><p>然后将里面的代码copy一下，新建love.js文件并且将代码复制进去，然后保存。将love.js文件放到路径/themes/next/source/js/src里面，然后打开\themes\next\layout_layout.swig文件,在末尾（在前面引用会出现找不到的bug）添加以下代码：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 页面点击小红心 --&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"/js/src/love.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p><h2 id="修改文章内链接文本样式"><a href="#修改文章内链接文本样式" class="headerlink" title="修改文章内链接文本样式"></a>修改文章内链接文本样式</h2><p>具体实现方法<br>修改文件 themes\next\source\css_common\components\post\post.styl，在末尾添加如下css样式，：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 文章内链接文本样式</span><br><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">p</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#0593d3</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#0593d3</span>;</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    <span class="selector-tag">color</span>: <span class="selector-id">#fc6423</span>;</span><br><span class="line">    <span class="selector-tag">border-bottom</span>: <span class="selector-tag">none</span>;</span><br><span class="line">    <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fc6423</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>其中选择.post-body 是为了不影响标题，选择 p 是为了不影响首页“阅读全文”的显示样式,颜色可以自己定义。</p><h2 id="修改文章底部的那个带-号的标签"><a href="#修改文章底部的那个带-号的标签" class="headerlink" title="修改文章底部的那个带#号的标签"></a>修改文章底部的那个带#号的标签</h2><p>具体实现方法<br>修改模板/themes/next/layout/_macro/post.swig，搜索 rel=”tag”&gt;#，将 # 换成<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;i class="fa fa-tag"&gt;&lt;/i&gt;</span><br></pre></td></tr></table></figure></p><h2 id="在每篇文章末尾统一添加“本文结束”标记"><a href="#在每篇文章末尾统一添加“本文结束”标记" class="headerlink" title="在每篇文章末尾统一添加“本文结束”标记"></a>在每篇文章末尾统一添加“本文结束”标记</h2><p>具体实现方法<br>在路径 \themes\next\layout_macro 中新建 passage-end-tag.swig 文件,并添加以下内容：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center;color: #ccc;font-size:14px;"</span>&gt;</span>-------------本文结束<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-paw"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>感谢您的阅读-------------<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>接着打开\themes\next\layout_macro\post.swig文件，在post-body 之后， post-footer 之前添加如下画红色部分代码（post-footer之前两个DIV）：</p><p>代码如下：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span>&gt;</span><br><span class="line">  &#123;% if not is_index %&#125;</span><br><span class="line">    &#123;% include 'passage-end-tag.swig' %&#125;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p>然后打开主题配置文件（_config.yml),在末尾添加：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 文章末尾添加“本文结束”标记</span><br><span class="line">passage_end_tag:</span><br><span class="line">  enabled: true</span><br></pre></td></tr></table></figure></p><p>完成以上设置之后，在每篇文章之后都会添加如上效果图的样子。</p><h2 id="修改作者头像并旋转"><a href="#修改作者头像并旋转" class="headerlink" title="修改作者头像并旋转"></a>修改作者头像并旋转</h2><p>具体实现方法</p><p>打开\themes\next\source\css_common\components\sidebar\sidebar-author.styl，在里面添加如下代码：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.site-author-image</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">padding</span>: $site-author-image-padding;</span><br><span class="line">  <span class="attribute">max-width</span>: $site-author-image-width;</span><br><span class="line">  <span class="attribute">height</span>: $site-author-image-height;</span><br><span class="line">  <span class="attribute">border</span>: $site-author-image-border-width solid $site-author-image-border-color;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 头像圆形 */</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">-webkit-border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">-moz-border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: inset <span class="number">0</span> -<span class="number">1px</span> <span class="number">0</span> <span class="number">#333</span>sf;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 设置循环动画 [animation: (play)动画名称 (2s)动画播放时长单位秒或微秒 (ase-out)动画播放的速度曲线为以低速结束 </span></span><br><span class="line"><span class="comment">    (1s)等待1秒然后开始动画 (1)动画播放次数(infinite为循环播放) ]*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 鼠标经过头像旋转360度 */</span></span><br><span class="line">  <span class="attribute">-webkit-transition</span>: -webkit-transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">  <span class="attribute">-moz-transition</span>: -moz-transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="comment">/* 鼠标经过停止头像旋转 </span></span><br><span class="line"><span class="comment">  -webkit-animation-play-state:paused;</span></span><br><span class="line"><span class="comment">  animation-play-state:paused;*/</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 鼠标经过头像旋转360度 */</span></span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">  <span class="attribute">-moz-transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Z 轴旋转动画 */</span></span><br><span class="line">@-<span class="keyword">webkit</span>-<span class="keyword">keyframes</span> play &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateZ</span>(0deg);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateZ</span>(-360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@-<span class="keyword">moz</span>-<span class="keyword">keyframes</span> play &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">-moz-transform</span>: <span class="built_in">rotateZ</span>(0deg);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">-moz-transform</span>: <span class="built_in">rotateZ</span>(-360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">keyframes</span> play &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(0deg);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(-360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="博文压缩"><a href="#博文压缩" class="headerlink" title="博文压缩"></a>博文压缩</h2><p>在站点的根目录下执行以下命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install gulp -g</span><br><span class="line">$ npm install gulp-minify-css gulp-uglify gulp-htmlmin gulp-htmlclean gulp --save</span><br></pre></td></tr></table></figure></p><p>在如下图所示，新建 gulpfile.js ，并填入以下内容：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"><span class="keyword">var</span> minifycss = <span class="built_in">require</span>(<span class="string">'gulp-minify-css'</span>);</span><br><span class="line"><span class="keyword">var</span> uglify = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>);</span><br><span class="line"><span class="keyword">var</span> htmlmin = <span class="built_in">require</span>(<span class="string">'gulp-htmlmin'</span>);</span><br><span class="line"><span class="keyword">var</span> htmlclean = <span class="built_in">require</span>(<span class="string">'gulp-htmlclean'</span>);</span><br><span class="line"><span class="comment">// 压缩 public 目录 css</span></span><br><span class="line">gulp.task(<span class="string">'minify-css'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'./public/**/*.css'</span>)</span><br><span class="line">        .pipe(minifycss())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 压缩 public 目录 html</span></span><br><span class="line">gulp.task(<span class="string">'minify-html'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> gulp.src(<span class="string">'./public/**/*.html'</span>)</span><br><span class="line">    .pipe(htmlclean())</span><br><span class="line">    .pipe(htmlmin(&#123;</span><br><span class="line">         removeComments: <span class="literal">true</span>,</span><br><span class="line">         minifyJS: <span class="literal">true</span>,</span><br><span class="line">         minifyCSS: <span class="literal">true</span>,</span><br><span class="line">         minifyURLs: <span class="literal">true</span>,</span><br><span class="line">    &#125;))</span><br><span class="line">    .pipe(gulp.dest(<span class="string">'./public'</span>))</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 压缩 public/js 目录 js</span></span><br><span class="line">gulp.task(<span class="string">'minify-js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'./public/**/*.js'</span>)</span><br><span class="line">        .pipe(uglify())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 执行 gulp 命令时执行的任务</span></span><br><span class="line">gulp.task(<span class="string">'default'</span>, [</span><br><span class="line">    <span class="string">'minify-html'</span>,<span class="string">'minify-css'</span>,<span class="string">'minify-js'</span></span><br><span class="line">]);</span><br></pre></td></tr></table></figure></p><p>生成博文是执行 hexo g &amp;&amp; gulp 就会根据 gulpfile.js 中的配置，对 public 目录中的静态资源文件进行压缩。</p><h2 id="修改“代码块自定义样式"><a href="#修改“代码块自定义样式" class="headerlink" title="修改“代码块自定义样式"></a>修改“代码块自定义样式</h2><p>具体实现方法<br>打开\themes\next\source\css_custom\custom.styl,向里面加入：(颜色可以自己定义)<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// Custom styles.</span><br><span class="line"><span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ff7600</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fbf7f8</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line">// 大代码块的自定义样式</span><br><span class="line"><span class="selector-class">.highlight</span>, <span class="selector-tag">pre</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span>, <span class="selector-tag">code</span>, <span class="selector-tag">pre</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d6d6d6</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="侧边栏社交小图标设置"><a href="#侧边栏社交小图标设置" class="headerlink" title="侧边栏社交小图标设置"></a>侧边栏社交小图标设置</h2><p>具体实现方法<br>打开主题配置文件（_config.yml），搜索social_icons:,在图标库找自己喜欢的小图标，并将名字复制在如下位置，保存即可</p><h2 id="主页文章添加阴影效果"><a href="#主页文章添加阴影效果" class="headerlink" title="主页文章添加阴影效果"></a>主页文章添加阴影效果</h2><p>具体实现方法<br>打开\themes\next\source\css_custom\custom.styl,向里面加入：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 主页文章添加阴影效果</span><br><span class="line"> <span class="selector-class">.post</span> &#123;</span><br><span class="line">   <span class="attribute">margin-top</span>: <span class="number">60px</span>;</span><br><span class="line">   <span class="attribute">margin-bottom</span>: <span class="number">60px</span>;</span><br><span class="line">   <span class="attribute">padding</span>: <span class="number">25px</span>;</span><br><span class="line">   <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(202, 203, 203, .5);</span><br><span class="line">   <span class="attribute">-moz-box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(202, 203, 204, .5);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p><h2 id="在网站底部加上访问量"><a href="#在网站底部加上访问量" class="headerlink" title="在网站底部加上访问量"></a>在网站底部加上访问量</h2><p>具体实现方法<br>打开\themes\next\layout_partials\footer.swig文件,在copyright前加上画红线这句话： </p><p>代码如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script <span class="keyword">async</span> src=<span class="string">"https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p><p>然后再合适的位置添加显示统计的代码，如图： </p><p>代码如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"powered-by"</span>&gt;</span><br><span class="line">&lt;i <span class="class"><span class="keyword">class</span></span>=<span class="string">"fa fa-user-md"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_site_uv"</span>&gt;</span></span></span><br><span class="line"><span class="xml">  本站访客数:<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_site_uv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure></p><p>在这里有两中不同计算方式的统计代码： </p><ol><li>pv的方式，单个用户连续点击n篇文章，记录n次访问量<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;span id="busuanzi_container_site_pv"&gt;</span><br><span class="line">    本站总访问量&lt;span id="busuanzi_value_site_pv"&gt;&lt;/span&gt;次</span><br><span class="line">&lt;/span&gt;</span><br></pre></td></tr></table></figure></li></ol><p>uv的方式，单个用户连续点击n篇文章，只记录1次访客数<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;span id="busuanzi_container_site_uv"&gt;</span><br><span class="line">  本站总访问量&lt;span id="busuanzi_value_site_uv"&gt;&lt;/span&gt;次</span><br><span class="line">&lt;/span&gt;</span><br></pre></td></tr></table></figure></p><p>添加之后再执行hexo d -g，然后再刷新页面就能看到效果</p><h2 id="添加热度"><a href="#添加热度" class="headerlink" title="添加热度"></a>添加热度</h2><p>具体实现方法<br>next主题集成leanCloud，打开/themes/next/layout/_macro/post.swig,在画红线的区域添加℃：</p><p>然后打开，/themes/next/languages/zh-Hans.yml,将画红框的改为热度就可以了 </p><h2 id="网站底部字数统计"><a href="#网站底部字数统计" class="headerlink" title="网站底部字数统计"></a>网站底部字数统计</h2><p>具体方法实现<br>切换到根目录下，然后运行如下代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure></p><p>然后在/themes/next/layout/_partials/footer.swig文件尾部加上：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="theme-info"&gt;</span><br><span class="line">  &lt;div class="powered-by"&gt;&lt;/div&gt;</span><br><span class="line">  &lt;span class="post-count"&gt;博客全站共&#123;&#123; totalcount(site) &#125;&#125;字&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><h2 id="添加-README-md-文件"><a href="#添加-README-md-文件" class="headerlink" title="添加 README.md 文件"></a>添加 README.md 文件</h2><p>每个项目下一般都有一个 README.md 文件，但是使用 hexo 部署到仓库后，项目下是没有 README.md 文件的。<br>在 Hexo 目录下的 source 根目录下添加一个 README.md 文件，修改站点配置文件 _config.yml，将 skip_render 参数的值设置为<br>skip_render: README.md</p><p>保存退出即可。再次使用 hexo d 命令部署博客的时候就不会在渲染 README.md 这个文件了。</p><h2 id="设置网站的图标Favicon"><a href="#设置网站的图标Favicon" class="headerlink" title="设置网站的图标Favicon"></a>设置网站的图标Favicon</h2><p>具体方法实现<br>在EasyIcon中找一张（32*32）的ico图标,或者去别的网站下载或者制作，并将图标名称改为favicon.ico，然后把图标放在/themes/next/source/images里，并且修改主题配置文件：<br># Put your favicon.ico into <code>hexo-site/source/</code> directory.<br>favicon: /favicon.ico</p><h2 id="实现统计功能"><a href="#实现统计功能" class="headerlink" title="实现统计功能"></a>实现统计功能</h2><p>具体实现方法<br>在根目录下安装 hexo-wordcount,运行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure></p><p>然后在主题的配置文件中，配置如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Post wordcount display settings</span><br><span class="line"># Dependencies: https://github.com/willin/hexo-wordcount</span><br><span class="line">post_wordcount:</span><br><span class="line">  item_text: true</span><br><span class="line">  wordcount: true</span><br><span class="line">  min2read: true</span><br></pre></td></tr></table></figure></p><h2 id="添加顶部加载条"><a href="#添加顶部加载条" class="headerlink" title="添加顶部加载条"></a>添加顶部加载条</h2><p>具体实现方法<br>打开/themes/next/layout/_partials/head.swig文件，添加红框上的代码 </p><p>代码如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"//cdn.bootcss.com/pace/1.0.2/pace.min.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;link href=<span class="string">"//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css"</span> rel=<span class="string">"stylesheet"</span>&gt;</span><br></pre></td></tr></table></figure></p><p>但是，默认的是粉色的，要改变颜色可以在/themes/next/layout/_partials/head.swig文件中添加如下代码（接在刚才link的后面）<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.pace</span> <span class="selector-class">.pace-progress</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">background</span>: <span class="selector-id">#1E92FB</span>; <span class="comment">/*进度条颜色*/</span></span></span><br><span class="line"><span class="undefined">        height: 3px;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.pace</span> <span class="selector-class">.pace-progress-inner</span> &#123;</span></span><br><span class="line"><span class="css">         <span class="selector-tag">box-shadow</span>: 0 0 10<span class="selector-tag">px</span> <span class="selector-id">#1E92FB</span>, 0 0 5<span class="selector-tag">px</span>     <span class="selector-id">#1E92FB</span>; <span class="comment">/*阴影颜色*/</span></span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.pace</span> <span class="selector-class">.pace-activity</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">border-top-color</span>: <span class="selector-id">#1E92FB</span>;    <span class="comment">/*上边框颜色*/</span></span></span><br><span class="line"><span class="css">        <span class="selector-tag">border-left-color</span>: <span class="selector-id">#1E92FB</span>;    <span class="comment">/*左边框颜色*/</span></span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>目前，博主的增加顶部加载条的pull request 已被Merge<br>现在升级最新版的next主题，升级后只需修改主题配置文件(_config.yml)将pace: false改为pace: true就行了，你还可以换不同样式的加载条. </p><h2 id="在文章底部增加版权信息"><a href="#在文章底部增加版权信息" class="headerlink" title="在文章底部增加版权信息"></a>在文章底部增加版权信息</h2><p>在目录 next/layout/_macro/下添加 my-copyright.swig：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if page.copyright %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"my_post_copyright"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- JS库 sweetalert 可修改路径 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"http://jslibs.wuxubj.cn/sweetalert_mini/jquery-1.7.1.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.mini.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>本文标题:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(page.path) &#125;&#125;"</span>&gt;</span>&#123;&#123; page.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>文章作者:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span> <span class="attr">title</span>=<span class="string">"访问 &#123;&#123; theme.author &#125;&#125; 的个人博客"</span>&gt;</span>&#123;&#123; theme.author &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>发布时间:<span class="tag">&lt;/<span class="name">span</span>&gt;</span>&#123;&#123; page.date.format("YYYY年MM月DD日 - HH:MM") &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>最后更新:<span class="tag">&lt;/<span class="name">span</span>&gt;</span>&#123;&#123; page.updated.format("YYYY年MM月DD日 - HH:MM") &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>原始链接:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(page.path) &#125;&#125;"</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; page.title &#125;&#125;"</span>&gt;</span>&#123;&#123; page.permalink &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"copy-path"</span>  <span class="attr">title</span>=<span class="string">"点击复制文章链接"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-clipboard"</span> <span class="attr">data-clipboard-text</span>=<span class="string">"&#123;&#123; page.permalink &#125;&#125;"</span>  <span class="attr">aria-label</span>=<span class="string">"复制成功！"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>许可协议:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-creative-commons"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">rel</span>=<span class="string">"license"</span> <span class="attr">href</span>=<span class="string">"https://creativecommons.org/licenses/by-nc-nd/4.0/"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">title</span>=<span class="string">"Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)"</span>&gt;</span>署名-非商业性使用-禁止演绎 4.0 国际<span class="tag">&lt;/<span class="name">a</span>&gt;</span> 转载请保留原文链接及作者。<span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"> </span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> clipboard = <span class="keyword">new</span> Clipboard(<span class="string">'.fa-clipboard'</span>);</span></span><br><span class="line"><span class="javascript">    clipboard.on(<span class="string">'success'</span>, $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      $(<span class="string">".fa-clipboard"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">        swal(&#123;   </span></span><br><span class="line"><span class="javascript">          title: <span class="string">""</span>,   </span></span><br><span class="line"><span class="javascript">          text: <span class="string">'复制成功'</span>,   </span></span><br><span class="line"><span class="javascript">          html: <span class="literal">false</span>,</span></span><br><span class="line"><span class="undefined">          timer: 500,   </span></span><br><span class="line"><span class="javascript">          showConfirmButton: <span class="literal">false</span></span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined">      &#125;);</span></span><br><span class="line"><span class="undefined">    &#125;));  </span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></p><p>在目录next/source/css/_common/components/post/下添加my-post-copyright.styl：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.my_post_copyright</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">85%</span>;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">45em</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">2.8em</span> auto <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0.5em</span> <span class="number">1.0em</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d3d3d3</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.93rem</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.6em</span>;</span><br><span class="line">  <span class="attribute">word-break</span>: break-all;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,0.4);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-tag">p</span>&#123;<span class="attribute">margin</span>:<span class="number">0</span>;&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">5.2em</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#b5b5b5</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-class">.raw</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">5em</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#808080</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#a3d2a3</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.fa-clipboard</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-class">.post-url</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-class">.copy-path</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1em</span>;</span><br><span class="line">  +mobile()&#123;display:none;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-class">.copy-path</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#808080</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>修改next/layout/_macro/post.swig，在代码<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      &#123;% if not is_index %&#125;</span><br><span class="line">        &#123;% include 'wechat-subscriber.swig' %&#125;</span><br><span class="line">      &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>之前添加增加如下代码：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      &#123;% if not is_index %&#125;</span><br><span class="line">        &#123;% include 'my-copyright.swig' %&#125;</span><br><span class="line">      &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>如下：</p><p>修改next/source/css/_common/components/post/post.styl文件，在最后一行增加代码：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@import "my-post-copyright"</span></span><br></pre></td></tr></table></figure></p><p>保存重新生成即可。<br>如果要在该博文下面增加版权信息的显示，需要在 Markdown 中增加 copyright: true 的设置，类似：<br>小技巧：如果你觉得每次都要输入 copyright: true 很麻烦的话,那么在 /scaffolds/post.md 文件中添加： </p><p>这样每次hexo new “你的内容”之后，生成的md文件会自动把copyright:加到里面去<br>(注意：如果解析出来之后，你的原始链接有问题：如：<a href="http://yoursite.com/前端小项目：使用canvas绘画哆啦A梦.html,那么在根目录下_config.yml中写成类似这样：）" target="_blank" rel="noopener">http://yoursite.com/前端小项目：使用canvas绘画哆啦A梦.html,那么在根目录下_config.yml中写成类似这样：）</a><br>就行了。</p><h2 id="添加Gitment评论系统"><a href="#添加Gitment评论系统" class="headerlink" title="添加Gitment评论系统"></a>添加Gitment评论系统</h2><p>具体实现方法见 <a href="http://www.aisun.org/2017/09/hexo+next+gitment/">为 hexo NexT 添加 Gitment 评论插件</a></p><h2 id="隐藏网页底部powered-By-Hexo-强力驱动"><a href="#隐藏网页底部powered-By-Hexo-强力驱动" class="headerlink" title="隐藏网页底部powered By Hexo / 强力驱动"></a>隐藏网页底部powered By Hexo / 强力驱动</h2><p>打开themes/next/layout/_partials/footer.swig,使用””隐藏之间的代码即可，或者直接删除。</p><h2 id="修改网页底部的桃心"><a href="#修改网页底部的桃心" class="headerlink" title="修改网页底部的桃心"></a>修改网页底部的桃心</h2><p>还是打开themes/next/layout/_partials/footer.swig，找到：<br>，然后还是在图标库中找到你自己喜欢的图标，然后修改画红线的部分就可以了。</p><h2 id="文章加密访问"><a href="#文章加密访问" class="headerlink" title="文章加密访问"></a>文章加密访问</h2><p>具体实现方法<br>打开themes-&gt;next-&gt;layout-&gt;_partials-&gt;head.swig文件,在以下位置插入这样一段代码：</p><p>代码如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">'&#123;&#123; page.password &#125;&#125;'</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (prompt(<span class="string">'请输入文章密码'</span>) !== <span class="string">'&#123;&#123; page.password &#125;&#125;'</span>)&#123;</span><br><span class="line">                alert(<span class="string">'密码错误！'</span>);</span><br><span class="line">                history.back();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="添加jiathis分享"><a href="#添加jiathis分享" class="headerlink" title="添加jiathis分享"></a>添加jiathis分享</h2><p>在主题配置文件中，jiathis为true，就行了，如下图</p><p>默认是这样子的： </p><p>如果你想自定义话，打开themes/next/layout/_partials/share/jiathis.swig修改画红线部分就可以了 </p><h2 id="博文置顶"><a href="#博文置顶" class="headerlink" title="博文置顶"></a>博文置顶</h2><p>修改 hero-generator-index 插件，把文件：node_modules/hexo-generator-index/lib/generator.js 内的代码替换为：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"><span class="keyword">var</span> pagination = <span class="built_in">require</span>(<span class="string">'hexo-pagination'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">locals</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> config = <span class="keyword">this</span>.config;</span><br><span class="line">  <span class="keyword">var</span> posts = locals.posts;</span><br><span class="line">    posts.data = posts.data.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(a.top &amp;&amp; b.top) &#123; <span class="comment">// 两篇文章top都有定义</span></span><br><span class="line">            <span class="keyword">if</span>(a.top == b.top) <span class="keyword">return</span> b.date - a.date; <span class="comment">// 若top值一样则按照文章日期降序排</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> b.top - a.top; <span class="comment">// 否则按照top值降序排</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(a.top &amp;&amp; !b.top) &#123; <span class="comment">// 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!a.top &amp;&amp; b.top) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> b.date - a.date; <span class="comment">// 都没定义按照文章日期降序排</span></span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="keyword">var</span> paginationDir = config.pagination_dir || <span class="string">'page'</span>;</span><br><span class="line">  <span class="keyword">return</span> pagination(<span class="string">''</span>, posts, &#123;</span><br><span class="line">    perPage: config.index_generator.per_page,</span><br><span class="line">    layout: [<span class="string">'index'</span>, <span class="string">'archive'</span>],</span><br><span class="line">    format: paginationDir + <span class="string">'/%d/'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">      __index: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>在文章中添加 top 值，数值越大文章越靠前，如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 解决Charles乱码问题</span><br><span class="line">date: 2017-05-22 22:45:48</span><br><span class="line">tags: 技巧</span><br><span class="line">categories: 技巧</span><br><span class="line">copyright: true</span><br><span class="line">top: 100</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><h2 id="修改字体大小"><a href="#修改字体大小" class="headerlink" title="修改字体大小"></a>修改字体大小</h2><p>打开\themes\next\source\css\_variables\base.styl文件，将 $font-size-base改成16px ，如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$font-size-base            = 16px</span><br></pre></td></tr></table></figure></p><h2 id="修改打赏字体不闪动"><a href="#修改打赏字体不闪动" class="headerlink" title="修改打赏字体不闪动"></a>修改打赏字体不闪动</h2><p>修改文件next/source/css/_common/components/post/post-reward.styl，然后注释其中的函数wechat:hover和alipay:hover，如下：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 注释文字闪动函数</span></span><br><span class="line"><span class="comment"> #wechat:hover p&#123;</span></span><br><span class="line"><span class="comment">    animation: roll 0.1s infinite linear;</span></span><br><span class="line"><span class="comment">    -webkit-animation: roll 0.1s infinite linear;</span></span><br><span class="line"><span class="comment">    -moz-animation: roll 0.1s infinite linear;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"> #alipay:hover p&#123;</span></span><br><span class="line"><span class="comment">   animation: roll 0.1s infinite linear;</span></span><br><span class="line"><span class="comment">    -webkit-animation: roll 0.1s infinite linear;</span></span><br><span class="line"><span class="comment">    -moz-animation: roll 0.1s infinite linear;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></p><h2 id="侧边栏推荐阅读"><a href="#侧边栏推荐阅读" class="headerlink" title="侧边栏推荐阅读"></a>侧边栏推荐阅读</h2><p>打开主题配置文件修改成这样就行了(links里面写你想要的链接):<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Blogrolls</span><br><span class="line">links_title: 推荐阅读</span><br><span class="line">#links_layout: block</span><br><span class="line">links_layout: inline</span><br><span class="line">links:</span><br><span class="line">  优设: http://www.uisdc.com/</span><br><span class="line">  张鑫旭: http://www.zhangxinxu.com/</span><br><span class="line">  Web前端导航: http://www.alloyteam.com/nav/</span><br><span class="line">  前端书籍资料: http://www.36zhen.com/t?id=3448</span><br><span class="line">  百度前端技术学院: http://ife.baidu.com/</span><br><span class="line">  google前端开发基础: http://wf.uisdc.com/cn/</span><br></pre></td></tr></table></figure></p><h2 id="自定义鼠标样式"><a href="#自定义鼠标样式" class="headerlink" title="自定义鼠标样式"></a>自定义鼠标样式</h2><p>打开themes/next/source/css/_custom/custom.styl,在里面写下如下代码<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 鼠标样式</span><br><span class="line">  * &#123;</span><br><span class="line">      <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">"http://om8u46rmb.bkt.clouddn.com/sword2.ico"</span>),auto<span class="meta">!important</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">      <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">"http://om8u46rmb.bkt.clouddn.com/sword1.ico"</span>),auto<span class="meta">!important</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p><p>其中 url 里面必须是 ico 图片，ico 图片可以上传到网上（我是使用七牛云图床），然后获取外链，复制到 url 里就行了</p><h2 id="hexo-添加百度站长推送"><a href="#hexo-添加百度站长推送" class="headerlink" title="hexo 添加百度站长推送"></a>hexo 添加百度站长推送</h2><p>具体实现方法见 <a href="http://www.aisun.org/2017/09/baidu+hexo+zhanzhang/">hexo 添加百度站长推送</a></p><h2 id="hexo-NexT主题首页title链接的优化"><a href="#hexo-NexT主题首页title链接的优化" class="headerlink" title="hexo NexT主题首页title链接的优化"></a>hexo NexT主题首页title链接的优化</h2><p>具体实现方法见 <a href="http://www.aisun.org/2017/09/hexo+next+title/">hexo NexT主题首页title链接的优化</a></p><h2 id="Hexo-NexT主题修改文章标题样式"><a href="#Hexo-NexT主题修改文章标题样式" class="headerlink" title="Hexo NexT主题修改文章标题样式"></a>Hexo NexT主题修改文章标题样式</h2><p>进入主题目录</p><p>hexo\themes\next\source\css\_common\components\post</p><p>修改post.styl文件，在配置的后面添加下面的代码。该文件是博文的样式表。</p><p>注意如果想把主页标题样式一同修改，可以用把 .page-post-detail 去掉<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*添加下面的CSS代码来修改博客标题样式*/</span></span><br><span class="line"><span class="selector-class">.page-post-detail</span> <span class="selector-class">.post-title</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">26px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">word-break</span>: break-word;</span><br><span class="line">  <span class="attribute">font-weight</span>: $posts-expand-title-font-weight</span><br><span class="line">  background-color: <span class="number">#b9d3ee</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>:.<span class="number">3em</span>;</span><br><span class="line">  <span class="attribute">line-height</span>:<span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">padding-bottom</span>:.<span class="number">12em</span>;</span><br><span class="line">  <span class="attribute">padding-top</span>:.<span class="number">12em</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>:<span class="number">2px</span> <span class="number">2px</span> <span class="number">7px</span> <span class="number">#9fb6cd</span>;</span><br><span class="line">  +mobile() &#123;</span><br><span class="line">    <span class="selector-tag">font-size</span>: 22<span class="selector-tag">px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*添加上面的CSS代码来修改博客标题样式*/</span></span><br><span class="line">@<span class="keyword">import</span> <span class="string">"post-expand"</span>;</span><br><span class="line">@<span class="keyword">import</span> <span class="string">"post-collapse"</span>;</span><br><span class="line">@<span class="keyword">import</span> <span class="string">"post-type"</span>;</span><br><span class="line">@<span class="keyword">import</span> <span class="string">"post-title"</span>;</span><br></pre></td></tr></table></figure></p><h2 id="hexo-添加百度站长推送-1"><a href="#hexo-添加百度站长推送-1" class="headerlink" title="hexo 添加百度站长推送"></a>hexo 添加百度站长推送</h2><p>具体见 <a href="http://www.aisun.org/2017/09/baidu+hexo+zhanzhang/">hexo 添加百度站长推送</a></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>更新vim8.0后，MacVim中YouCompleteMe出错</title>
      <link href="/2017/10/vim+YouCompleteMe-unavailable/"/>
      <url>/2017/10/vim+YouCompleteMe-unavailable/</url>
      
        <content type="html"><![CDATA[<p>vim 中YouCompleteMe出错：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">YouCompleteMe unavailable: dlopen(/usr/local/Cellar/python/2.7.12/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-d</span><br><span class="line">ynload/_io.so, 2): Symbol not found: __PyCodecInfo_GetIncrementalDecoder</span><br><span class="line">  Referenced from: /usr/local/Cellar/python/2.7.12/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-dynload/_io.so</span><br><span class="line">  Expected in: flat namespace</span><br><span class="line"> in /usr/local/Cellar/python/2.7.12/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-dynload/_io.so</span><br></pre></td></tr></table></figure><a id="more"></a><p>首先在终端里运行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo find / -name _io.so</span><br></pre></td></tr></table></figure></p><p>会把系统下所有名字带_io.so的文件路径都列出来:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/Applications/Google Drive.app/Contents/Resources/lib/python2.7/lib-dynload/_io.so</span><br><span class="line">/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-dynload/_io.so</span><br><span class="line">/Users/Nico/macports/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-dynload/_io.so</span><br><span class="line">/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-dynload/_io.so</span><br></pre></td></tr></table></figure></p><p>然后备份2.7.13的io文件到桌面<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd Desktop</span><br><span class="line">mkdir backup_python</span><br><span class="line">cp /usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-dynload/_io.so backup_python/2.7.13_io.so</span><br></pre></td></tr></table></figure></p><p>然后用老文件替换2.7.13的文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-dynload/_io.so /usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-dynload/_io.so</span><br></pre></td></tr></table></figure></p><p>然后YouCompleteMe就可以完美的工作啦！</p><p>进入vim之后出现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YouCompleteMe unavailable no module named XXX</span><br></pre></td></tr></table></figure></p><p>原因就是你或者没用Vundle安装，或者Vundle由于网速太慢下载到一半不能把安装依赖包完全下载下来<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">解决方案：</span><br><span class="line"></span><br><span class="line">进入到YouCompleteMe目录，在terminal窗口敲入   git submodule update --init --recursive</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> vim </category>
          
      </categories>
      
      
        <tags>
            
            <tag> youcompleteme </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vim 安装YouCompleteMe 插件</title>
      <link href="/2017/10/vim+youcompleteme/"/>
      <url>/2017/10/vim+youcompleteme/</url>
      
        <content type="html"><![CDATA[<p>要安装YouCompleteMe ，vim须支持python。可以命令输入vim –version 查看， 如果python前有+号，就是支持，减号就是不支持。<a id="more"></a></p><p>如果不支持，需要以编译安装方式重新安装vim。</p><p>编译配置选项：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">./configure --with-features=huge --enable-pythoninterp --enable-python3interp --enable-luainterp --enable-multibyte --enable-sniff --enable-fontset</span><br></pre></td></tr></table></figure></p><p>安装vundle插件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">git clone https://github.com/gmarik/vundle.git ~/.vim/bundle/vundle</span><br></pre></td></tr></table></figure></p><p>在.vimrc中配置：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">set nocompatible              &quot; be iMproved, required</span><br><span class="line">filetype off                  &quot; required</span><br><span class="line"></span><br><span class="line">&quot; set the runtime path to include Vundle and initialize</span><br><span class="line">set rtp+=~/.vim/bundle/vundle/</span><br><span class="line">call vundle#rc()</span><br><span class="line">&quot; alternatively, pass a path where Vundle should install plugins</span><br><span class="line">&quot;let path = &apos;~/some/path/here&apos;</span><br><span class="line">&quot;call vundle#rc(path)</span><br><span class="line"></span><br><span class="line">&quot; let Vundle manage Vundle, required</span><br><span class="line">Plugin &apos;gmarik/vundle&apos;</span><br><span class="line"></span><br><span class="line">&quot; The following are examples of different formats supported.</span><br><span class="line">&quot; Keep Plugin commands between here and filetype plugin indent on.</span><br><span class="line">&quot; scripts on GitHub repos</span><br><span class="line">Plugin &apos;tpope/vim-fugitive&apos;</span><br><span class="line">Plugin &apos;Lokaltog/vim-easymotion&apos;</span><br><span class="line">Plugin &apos;tpope/vim-rails.git&apos;</span><br><span class="line">&quot; The sparkup vim script is in a subdirectory of this repo called vim.</span><br><span class="line">&quot; Pass the path to set the runtimepath properly.</span><br><span class="line">Plugin &apos;rstacruz/sparkup&apos;, &#123;&apos;rtp&apos;: &apos;vim/&apos;&#125;</span><br><span class="line">&quot; scripts from http://vim-scripts.org/vim/scripts.html</span><br><span class="line">Plugin &apos;L9&apos;</span><br><span class="line">Plugin &apos;FuzzyFinder&apos;</span><br><span class="line">&quot; scripts not on GitHub</span><br><span class="line">Plugin &apos;git://git.wincent.com/command-t.git&apos;</span><br><span class="line">&quot; git repos on your local machine (i.e. when working on your own plugin)</span><br><span class="line">&quot;Plugin &apos;file:///home/gmarik/path/to/plugin&apos;</span><br><span class="line">&quot; ...</span><br><span class="line"></span><br><span class="line">filetype plugin indent on     &quot; required</span><br><span class="line">Bundle &apos;Valloric/YouCompleteMe&apos;</span><br></pre></td></tr></table></figure></p><p>保存退出，打开vim，输入 :BundleInstall 进行自动安装</p><p>+号表示已经安装，&gt;表示正在安装;</p><p>在.vimrc 中添加:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let mapleader = &quot;,&quot;  &quot; 这个leader就映射为逗号“，”</span><br><span class="line"></span><br><span class="line">let g:ycm_global_ycm_extra_conf = &apos;~/.vim/bundle/YouCompleteMe/cpp/ycm/.ycm_extra_conf.py&apos;   “配置默认的ycm_extra_conf.py</span><br><span class="line">nnoremap &lt;leader&gt;jd :YcmCompleter GoToDefinitionElseDeclaration&lt;CR&gt;   “按,jd 会跳转到定义</span><br><span class="line">let g:ycm_confirm_extra_conf=0    “打开vim时不再询问是否加载ycm_extra_conf.py配置</span><br><span class="line">let g:ycm_collect_identifiers_from_tag_files = 1 &quot;使用ctags生成的tags文件</span><br></pre></td></tr></table></figure></p><p>重启vim之后出现需要更高版本的vim，需要先升级vim，</p><p>首先，要下载vim的源代码。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line"></span><br><span class="line">git clone https://github.com/vim/vim.git</span><br><span class="line"></span><br><span class="line">cd vim</span><br></pre></td></tr></table></figure></p><p> 进入源代码的src目录中，执行：<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure --with-features=huge --enable-pythoninterp=yes --enable-cscope --enable-fontset --enable-perlinterp --enable-rubyinterp --with-python-config-dir=/usr/lib/python2.7/config --prefix=/usr/local</span><br></pre></td></tr></table></figure></p><p>需要注意的是，不能写上–enable-gui，这是开启gui特性的，但是我们是在终端环境下安装的，因此不能开启这个特性，否则会出现编译错误。之后<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd ..</span><br><span class="line"></span><br><span class="line">sudo make install</span><br><span class="line"></span><br><span class="line">which vim</span><br></pre></td></tr></table></figure></p><p>将src目录下编译好的vim执行文件替换上边which vim路径内的vim文件就升级ok了；</p>]]></content>
      
      
      <categories>
          
          <category> vim </category>
          
      </categories>
      
      
        <tags>
            
            <tag> youcompleteme </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>csv用excel打开数据都在第一列解决办法</title>
      <link href="/2017/10/excel+csv/"/>
      <url>/2017/10/excel+csv/</url>
      
        <content type="html"><![CDATA[<p>Excel打开CSV时出现所有数据都在第一列，如何分列？<br><a id="more"></a><br>CSV保存时设置了一定的分隔符号，在Excel中打开文件，选中第一列，点击菜单栏–数据–分列–分隔符号<br>按照自定义的分隔符号设置分列就OK了!</p>]]></content>
      
      
      <categories>
          
          <category> csv </category>
          
      </categories>
      
      
        <tags>
            
            <tag> csv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python 列表转换成字符串输出</title>
      <link href="/2017/10/Python+list+str/"/>
      <url>/2017/10/Python+list+str/</url>
      
        <content type="html"><![CDATA[<p>列表转换成字符串输出<br><a id="more"></a><br>例如：我的列表是：<br>a=[1, 0, 0, 0, 0, 0, 0, 0]<br>然后输出100000<br>字符之间有无空格：<br>没有空格:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">""</span>.join(map(int, a))</span><br></pre></td></tr></table></figure></p><p>有空格：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">" "</span>.join([str(a[i])+str(a[i+<span class="number">1</span>]) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(a),<span class="number">2</span>)])</span><br></pre></td></tr></table></figure></p><p>字符的类型需要修改，int或者str其他类型。</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>scrapy指定item输出项顺序到csv</title>
      <link href="/2017/10/python+scrapy+item/"/>
      <url>/2017/10/python+scrapy+item/</url>
      
        <content type="html"><![CDATA[<p>scrapy指定输出项顺序到csv<br>scrapy -o csv格式输出的时候，发现字段/item/Field的顺序不是在items.py或者在scrapy中指定的顺序，如果后续有继续读取csv文件的时候，因为不是按指定顺序排列，很可能字段会搞错。 本文描述如何在输出csv的时候指定顺序字段。<a id="more"></a></p><ol><li>在scrapy的spiders同层目录，新建my_project_csv_item_exporter.py文件内容如下（文件名可改，目录定死）</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scrapy.conf <span class="keyword">import</span> settings</span><br><span class="line"><span class="keyword">from</span> scrapy.contrib.exporter <span class="keyword">import</span> CsvItemExporter</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyProjectCsvItemExporter</span><span class="params">(CsvItemExporter)</span>:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, *args, **kwargs)</span>:</span></span><br><span class="line">delimiter = settings.get(<span class="string">'CSV_DELIMITER'</span>, <span class="string">','</span>)</span><br><span class="line">kwargs[<span class="string">'delimiter'</span>] = delimiter</span><br><span class="line">fields_to_export = settings.get(<span class="string">'FIELDS_TO_EXPORT'</span>, [])</span><br><span class="line"><span class="keyword">if</span> fields_to_export :</span><br><span class="line">kwargs[<span class="string">'fields_to_export'</span>] = fields_to_export</span><br><span class="line">super(</span><br><span class="line">MyProjectCsvItemExporter, self).__init__(*args, **kwargs)</span><br></pre></td></tr></table></figure><ol start="2"><li>在同层目录，settings.py文件新增如下内容（指定item,field顺序）</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">FEED_EXPORTERS = &#123;</span><br><span class="line"><span class="string">'csv'</span>: <span class="string">'my_project.my_project_csv_item_exporter.MyProjectCsvItemExporter'</span>,</span><br><span class="line">&#125; <span class="comment">#这里假设你的project名字为my_project</span></span><br><span class="line">FIELDS_TO_EXPORT = [</span><br><span class="line"><span class="string">'id'</span>,</span><br><span class="line"><span class="string">'name'</span>,</span><br><span class="line"><span class="string">'email'</span>,</span><br><span class="line"><span class="string">'address'</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><ol start="3"><li>在同层目录，settings.py文件指定分隔符</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CSV_DELIMITER = &apos;\t&apos;</span><br></pre></td></tr></table></figure><p>如果需要其他的分隔符，可以直接修改。<br>全部设定完后，执行scrapy crawl spider -o spider.csv的时候，字段就按顺序来了。</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> scrapy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>scrapy抓取的中文结果乱码解决办法</title>
      <link href="/2017/10/python+scrapy/"/>
      <url>/2017/10/python+scrapy/</url>
      
        <content type="html"><![CDATA[<p>使用scrapy抓取的结果，中文默认是Unicode,无法显示中文。<br><a id="more"></a><br>中文默认是Unicode,如:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\u5317\u4eac\u5927\u5b66</span><br></pre></td></tr></table></figure></p><p>在setting文件中设置：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FEED_EXPORT_ENCODING = &apos;utf-8&apos;</span><br></pre></td></tr></table></figure></p><p>就可以啦</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> scrapy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goodnight</title>
      <link href="/2017/09/goodnight/"/>
      <url>/2017/09/goodnight/</url>
      
        <content type="html"><![CDATA[<p>晚安世界！加油明天！</p>]]></content>
      
      
      <categories>
          
          <category> 周记整理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 周记整理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo NexT主题首页title链接的优化</title>
      <link href="/2017/09/hexo+next+title/"/>
      <url>/2017/09/hexo+next+title/</url>
      
        <content type="html"><![CDATA[<p>在默认设置下，文章链接都会改变，不利于搜索引擎收录，也不利于分享<br><a id="more"></a></p><h2 id="更改index-swig文件"><a href="#更改index-swig文件" class="headerlink" title="更改index.swig文件"></a>更改index.swig文件</h2><p>文件路径是your-hexo-site\themes\next\layout，将下面代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% block title %&#125; &#123;&#123; config.title &#125;&#125; &#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><p>改成</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% block title %&#125; &#123;&#123; config.title &#125;&#125; - &#123;&#123; theme.description &#125;&#125; &#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><p>这时候你的首页标题会更符合网站名称 - 网站描述这习惯。<br>进阶，做了seo优化，把关键词也显示在Title标题里，可改成</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% block title %&#125; &#123;&#123; theme.keywords &#125;&#125; - &#123;&#123; config.title &#125;&#125; - &#123;&#123; theme.description &#125;&#125; &#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><p>注意：别堆砌关键字，整个标题一般不超过80个字符，可以通过chinaz的seo综合查询检查。</p><h2 id="安装此插件"><a href="#安装此插件" class="headerlink" title="安装此插件"></a>安装此插件</h2><p>安装此插件后，不要在hexo s模式下更改文章文件名，否则文章将成空白。<br>安装：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure></p><p>在站点配置文件中查找代码permalink，将其更改为:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">permalink: posts/:abbrlink/  # “posts/”</span><br></pre></td></tr></table></figure></p><p>可自行更换<br>在站点配置文件中添加如下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># abbrlink config</span><br><span class="line">abbrlink:</span><br><span class="line">  alg: crc32  # 算法：crc16(default) and crc32 </span><br><span class="line">  rep: hex    # 进制：dec(default) and hex</span><br></pre></td></tr></table></figure><p>可选择模式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">crc16 &amp; hex</span><br><span class="line">crc16 &amp; dec</span><br><span class="line">crc32 &amp; hex</span><br><span class="line">crc32 &amp; dec</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>为 hexo NexT 添加 Gitment 评论插件</title>
      <link href="/2017/09/hexo+next+gitment/"/>
      <url>/2017/09/hexo+next+gitment/</url>
      
        <content type="html"><![CDATA[<p>Gitment 是作者imsun实现的一款基于 GitHub Issues 的评论系统. 支持在前端直接引入, 不需要任何后端代码. 可以在页面进行登录, 查看, 评论, 点赞等操作. 同时有完整的 Markdown / GFM 和代码高亮支持. 尤为适合各种基于 GitHub Pages 的静态博客或项目页面.</p><p>这篇文章仅介绍如果在 hexo-NexT 中添加 Gitment 评论插件, 并且增加一个点开显示评论的按钮, 对于 Gitment 的使用请参考 imsun 的博客.<a id="more"></a></p><p>另外, 本教程的按钮样式和代码均直接取自 ehlxr 博主.</p><h2 id="“显示-Gitment-评论”-的按钮样式"><a href="#“显示-Gitment-评论”-的按钮样式" class="headerlink" title="“显示 Gitment 评论” 的按钮样式"></a>“显示 Gitment 评论” 的按钮样式</h2><p>在 next/source/css/_common/components 目录中新建一个 gitment.styl 的 css 样式文件, 复制以下代码</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.gitment_title</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#0a9caf</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: initial;</span><br><span class="line">    <span class="attribute">background-position-x</span>: initial;</span><br><span class="line">    <span class="attribute">background-position-y</span>: initial;</span><br><span class="line">    <span class="attribute">background-size</span>: initial;</span><br><span class="line">    <span class="attribute">background-repeat-x</span>: initial;</span><br><span class="line">    <span class="attribute">background-repeat-y</span>: initial;</span><br><span class="line">    <span class="attribute">background-attachment</span>: initial;</span><br><span class="line">    <span class="attribute">background-origin</span>: initial;</span><br><span class="line">    <span class="attribute">background-clip</span>: initial;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(10, 156, 175);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.gitment_title</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#0a9caf</span>;</span><br><span class="line">    <span class="attribute">border-top-color</span>: <span class="built_in">rgb</span>(10, 156, 175);</span><br><span class="line">    <span class="attribute">border-top-style</span>: solid;</span><br><span class="line">    <span class="attribute">border-top-width</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">border-right-color</span>: <span class="built_in">rgb</span>(10, 156, 175);</span><br><span class="line">    <span class="attribute">border-right-style</span>: solid;</span><br><span class="line">    <span class="attribute">border-right-width</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">border-bottom-color</span>: <span class="built_in">rgb</span>(10, 156, 175);</span><br><span class="line">    <span class="attribute">border-bottom-style</span>: solid;</span><br><span class="line">    <span class="attribute">border-bottom-width</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">border-left-color</span>: <span class="built_in">rgb</span>(10, 156, 175);</span><br><span class="line">    <span class="attribute">border-left-style</span>: solid;</span><br><span class="line">    <span class="attribute">border-left-width</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">border-image-source</span>: initial;</span><br><span class="line">    <span class="attribute">border-image-slice</span>: initial;</span><br><span class="line">    <span class="attribute">border-image-width</span>: initial;</span><br><span class="line">    <span class="attribute">border-image-outset</span>: initial;</span><br><span class="line">    <span class="attribute">border-image-repeat</span>: initial;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">border-top-left-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">border-top-right-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">border-bottom-right-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">border-bottom-left-radius</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.gitment_title</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">padding-right</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#0a9caf</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后打开同目录中的 components.styl 文件, 找个顺眼的位置添加一句<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@import "gitment"</span></span><br></pre></td></tr></table></figure></p><h2 id="添加-Gitment-插件"><a href="#添加-Gitment-插件" class="headerlink" title="添加 Gitment 插件"></a>添加 Gitment 插件</h2><p>打开 /next/layout/_partials/comments.swig 文件, 在最后一个 elseif 代码块下面添加 Gitment 的内容.</p><p>例如我的就是这样</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">... // 上面内容省略了..</span><br><span class="line">&#123;% elseif theme.changyan.appid and theme.changyan.appkey %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"SOHUCS"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% elseif theme.gitment.enable %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">onclick</span>=<span class="string">"showGitment()"</span> <span class="attr">id</span>=<span class="string">"gitment_title"</span> <span class="attr">class</span>=<span class="string">"gitment_title"</span>&gt;</span>显示 Gitment 评论<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span> <span class="attr">style</span>=<span class="string">"display:none"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://imsun.github.io/gitment/style/default.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://imsun.github.io/gitment/dist/gitment.browser.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> myTheme = &#123;</span></span><br><span class="line"><span class="undefined">    render(state, instance) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> container = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="javascript">      container.lang = <span class="string">"en-US"</span>;</span></span><br><span class="line"><span class="javascript">      container.className = <span class="string">'gitment-container gitment-root-container'</span>;</span></span><br><span class="line"><span class="undefined">      container.appendChild(instance.renderHeader(state, instance));</span></span><br><span class="line"><span class="undefined">      container.appendChild(instance.renderEditor(state, instance));</span></span><br><span class="line"><span class="undefined">      container.appendChild(instance.renderComments(state, instance));</span></span><br><span class="line"><span class="undefined">      container.appendChild(instance.renderFooter(state, instance));</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> container;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">showGitment</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    $(<span class="string">"#gitment_title"</span>).attr(<span class="string">"style"</span>, <span class="string">"display:none"</span>);</span></span><br><span class="line"><span class="javascript">    $(<span class="string">"#container"</span>).attr(<span class="string">"style"</span>, <span class="string">""</span>).addClass(<span class="string">"gitment_container"</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> gitment = <span class="keyword">new</span> Gitment(&#123;</span></span><br><span class="line"><span class="javascript">      id: <span class="built_in">window</span>.location.pathname,</span></span><br><span class="line"><span class="undefined">      theme: myTheme,</span></span><br><span class="line"><span class="javascript">      owner: <span class="string">'&#123;&#123; theme.gitment.owner &#125;&#125;'</span>,</span></span><br><span class="line"><span class="javascript">      repo: <span class="string">'&#123;&#123; theme.gitment.repo &#125;&#125;'</span>,</span></span><br><span class="line"><span class="undefined">      oauth: &#123;</span></span><br><span class="line"><span class="javascript">        client_id: <span class="string">'&#123;&#123; theme.gitment.client_id &#125;&#125;'</span>,</span></span><br><span class="line"><span class="javascript">        client_secret: <span class="string">'&#123;&#123; theme.gitment.client_secret &#125;&#125;'</span></span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="javascript">    gitment.render(<span class="string">'container'</span>);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>然后打开 NexT 主题的 _config.yml 文件, 在评论相关设置的区域添加下面的代码, 并根据 Gitment 文档说明来添加相应的值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Gitment comments</span><br><span class="line">gitment:</span><br><span class="line">  enable: true</span><br><span class="line">  owner: xxxx</span><br><span class="line">  repo: xxxx</span><br><span class="line">  client_id: xxxx</span><br><span class="line">  client_secret: xxxx</span><br><span class="line">  lazy: true</span><br></pre></td></tr></table></figure><p>lazy属性为是否直接显示评论模块，true会显示”显示评论”按钮，false会直接显示</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>百度主动推送常见问题</title>
      <link href="/2017/09/hexo+baidu/"/>
      <url>/2017/09/hexo+baidu/</url>
      
        <content type="html"><![CDATA[<p>状态反馈码详解:</p><p>您可以通过推送后返回的状态码和字段来判断数据是否推送成功。</p><p>1，状态码为200，表示推送成功，可能返回以下字段：</p><p>字段  是否必选   参数类型    说明<br><a id="more"></a><br>success  是    int    成功推送的url条数</p><p>remain   是    int    当天剩余的可推送url条数</p><p>not_same_site    否</p><p>array         由于不是本站url而未处理的url列表</p><p>not_valid        否</p><p>array         不合法的url列表</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>YES</title>
      <link href="/2017/09/YES/"/>
      <url>/2017/09/YES/</url>
      
        <content type="html"><![CDATA[<p>加油，加油！！！</p>]]></content>
      
      
      <categories>
          
          <category> 周记整理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 周记整理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Are you ok ?</title>
      <link href="/2017/09/Are-you-ok/"/>
      <url>/2017/09/Are-you-ok/</url>
      
        <content type="html"><![CDATA[<p><img src="/2017/09/Are-you-ok/1.jpg" alt></p>]]></content>
      
      
      <categories>
          
          <category> 周记整理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 周记整理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hello hexo</title>
      <link href="/2017/09/hello+hexo/"/>
      <url>/2017/09/hello+hexo/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>!<br><a id="more"></a><br>This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo 添加百度站长推送</title>
      <link href="/2017/09/baidu+hexo+zhanzhang/"/>
      <url>/2017/09/baidu+hexo+zhanzhang/</url>
      
        <content type="html"><![CDATA[<p>请看以下两篇文章<br><a id="more"></a></p><p>百度推送分为三种:<br>主动推送 <a href="http://hui-wang.info/2016/10/23/Hexo%E6%8F%92%E4%BB%B6%E4%B9%8B%E7%99%BE%E5%BA%A6%E4%B8%BB%E5%8A%A8%E6%8F%90%E4%BA%A4%E9%93%BE%E6%8E%A5/" target="_blank" rel="noopener">http://hui-wang.info/2016/10/23/Hexo%E6%8F%92%E4%BB%B6%E4%B9%8B%E7%99%BE%E5%BA%A6%E4%B8%BB%E5%8A%A8%E6%8F%90%E4%BA%A4%E9%93%BE%E6%8E%A5/</a><br>自动推送，sitemap推送 <a href="https://purewhite.io/2017/04/29/hexo-baidu-url-submit/" target="_blank" rel="noopener">https://purewhite.io/2017/04/29/hexo-baidu-url-submit/</a></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jquery-ul-li实现分页功能</title>
      <link href="/2017/09/jquery-ul-li+fenye/"/>
      <url>/2017/09/jquery-ul-li+fenye/</url>
      
        <content type="html"><![CDATA[<p>js文件代码</p><a id="more"></a><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br></pre></td><td class="code"><pre><span class="line">(function($)&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$.fn.Pages = function(options)&#123;</span><br><span class="line"></span><br><span class="line">var opts = $.extend(&#123;&#125;,$.fn.Pages.defaults, options);</span><br><span class="line"></span><br><span class="line">return this.each(function()&#123;</span><br><span class="line">  </span><br><span class="line">var $this = $(this);</span><br><span class="line">var $PagesClass = opts.PagesClass; // 分页元素</span><br><span class="line">var $AllMth = $this.find($PagesClass).length;  //总个数</span><br><span class="line">var $Mth = opts.PagesMth; //每页显示个数</span><br><span class="line">var $NavMth = opts.PagesNavMth; // 导航显示个数</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 定义分页导航</span><br><span class="line">var PagesNavHtml = "<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">\</span>"<span class="attr">Pagination</span>\"&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">\</span>"<span class="attr">javascript:</span>;\" <span class="attr">class</span>=<span class="string">\</span>"<span class="attr">homePage</span>\"&gt;</span>首页<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">\</span>"<span class="attr">javascript:</span>;\" <span class="attr">class</span>=<span class="string">\</span>"<span class="attr">PagePrev</span>\"&gt;</span>上一页<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">\</span>"<span class="attr">Ellipsis</span>\"&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>...<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">\</span>"<span class="attr">pagesnum</span>\"&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">\</span>"<span class="attr">Ellipsis</span>\"&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>...<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">\</span>"<span class="attr">javascript:</span>;\" <span class="attr">class</span>=<span class="string">\</span>"<span class="attr">PageNext</span>\"&gt;</span>下一页<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">\</span>"<span class="attr">javascript:</span>;\" <span class="attr">class</span>=<span class="string">\</span>"<span class="attr">lastPage</span>\"&gt;</span>尾页<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">cite</span> <span class="attr">class</span>=<span class="string">\</span>"<span class="attr">FormNum</span>\"&gt;</span>直接到第<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">\</span>"<span class="attr">text</span>\" <span class="attr">name</span>=<span class="string">\</span>"<span class="attr">PageNum</span>\" <span class="attr">id</span>=<span class="string">\</span>"<span class="attr">PageNum</span>\"&gt;</span>页<span class="tag">&lt;/<span class="name">cite</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">\</span>"<span class="attr">javascript:</span>;\" <span class="attr">class</span>=<span class="string">\</span>"<span class="attr">PageNumOK</span>\"&gt;</span>确定<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>";</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/*默认初始化显示*/</span><br><span class="line"></span><br><span class="line">if($AllMth &gt; $Mth)&#123;</span><br><span class="line"></span><br><span class="line">//判断显示</span><br><span class="line">var relMth = $Mth - 1;</span><br><span class="line">$this.find($PagesClass).filter(":gt("+relMth+")").hide();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 计算数量,页数</span><br><span class="line">var PagesMth = Math.ceil($AllMth / $Mth); // 计算页数</span><br><span class="line">var PagesMthTxt = "<span class="tag">&lt;<span class="name">span</span>&gt;</span>共<span class="tag">&lt;<span class="name">b</span>&gt;</span>"+$AllMth+"<span class="tag">&lt;/<span class="name">b</span>&gt;</span>条，共<span class="tag">&lt;<span class="name">b</span>&gt;</span>"+PagesMth+"<span class="tag">&lt;/<span class="name">b</span>&gt;</span>页<span class="tag">&lt;/<span class="name">span</span>&gt;</span>";</span><br><span class="line">$this.append(PagesNavHtml).find(".Pagination").append(PagesMthTxt);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 计算分页导航显示数量</span><br><span class="line"></span><br><span class="line">var PagesNavNum = "";</span><br><span class="line">for(var i=1;i<span class="tag">&lt;<span class="name">=PagesMth;i++)&#123;</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line">PagesNavNum = PagesNavNum + "&lt;a href=\"javascript:;\"&gt;"+i+"&lt;/a&gt;";</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">$this.find(".pagesnum").append(PagesNavNum).find("a:first").addClass("PageCur");</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//判断是否显示省略号</span><br><span class="line">if($NavMth <span class="tag">&lt; <span class="attr">PagesMth</span>)&#123;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">$<span class="attr">this.find</span>("<span class="attr">span.Ellipsis:last</span>")<span class="attr">.show</span>();</span></span><br><span class="line"><span class="tag"><span class="attr">var</span> <span class="attr">relNavMth</span> = <span class="string">$NavMth</span> <span class="attr">-</span> <span class="attr">1</span>;</span></span><br><span class="line"><span class="tag">$<span class="attr">this.find</span>("<span class="attr">.pagesnum</span> <span class="attr">a</span>")<span class="attr">.filter</span>("<span class="attr">:gt</span>("+<span class="attr">relNavMth</span>+")")<span class="attr">.hide</span>();</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">&#125;<span class="attr">else</span>&#123;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">$<span class="attr">this.find</span>("<span class="attr">span.Ellipsis:last</span>")<span class="attr">.hide</span>();</span></span><br><span class="line"><span class="tag">&#125;;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">/*默认显示已完成,下面是控制区域代码*/</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">//跳转页面</span></span><br><span class="line"><span class="tag"><span class="attr">var</span> $<span class="attr">input</span> = <span class="string">$this.find(</span>"<span class="attr">.Pagination</span> #<span class="attr">PageNum</span>");</span></span><br><span class="line"><span class="tag"><span class="attr">var</span> $<span class="attr">submit</span> = <span class="string">$this.find(</span>"<span class="attr">.Pagination</span> <span class="attr">.PageNumOK</span>");</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">//跳转页面文本框</span></span><br><span class="line"><span class="tag">$<span class="attr">input.keyup</span>(<span class="attr">function</span>()&#123;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">var</span> <span class="attr">pattern_d</span> = <span class="string">/^\d+$/;</span> //全数字正则</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">if</span>(!<span class="attr">pattern_d.exec</span>($<span class="attr">input.val</span>())) &#123;   </span></span><br><span class="line"><span class="tag">                  </span></span><br><span class="line"><span class="tag"><span class="attr">alert</span>("友情提示：\<span class="attr">n</span>\<span class="attr">n</span>请填写正确的数字！");</span></span><br><span class="line"><span class="tag">$<span class="attr">input.focus</span>()<span class="attr">.val</span>("");</span></span><br><span class="line"><span class="tag"><span class="attr">return</span> <span class="attr">false</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">                &#125;;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">&#125;);</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">//跳转页面确定按钮</span></span><br><span class="line"><span class="tag">$<span class="attr">submit.click</span>(<span class="attr">function</span>()&#123;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">if</span>($<span class="attr">input.val</span>() == <span class="string">""</span>)&#123;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">alert</span>("友情提示：\<span class="attr">n</span>\<span class="attr">n</span>请填写您要跳转到第几页！");</span></span><br><span class="line"><span class="tag">$<span class="attr">input.focus</span>()<span class="attr">.val</span>("");</span></span><br><span class="line"><span class="tag"><span class="attr">return</span> <span class="attr">false</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">&#125;<span class="attr">if</span>($<span class="attr">input.val</span>() &gt;</span> PagesMth)&#123;</span><br><span class="line"></span><br><span class="line">alert("友情提示：\n\n您跳转的页面不存在！");</span><br><span class="line">$input.focus().val("");</span><br><span class="line">return false</span><br><span class="line"></span><br><span class="line">&#125;else&#123;</span><br><span class="line"></span><br><span class="line">showPages($input.val());</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//导航控制分页</span><br><span class="line">var $PagesNav = $this.find(".pagesnum a"); //导航指向</span><br><span class="line">var $PagesFrist = $this.find(".homePage"); //首页</span><br><span class="line">var $PagesLast = $this.find(".lastPage"); //尾页</span><br><span class="line">var $PagesPrev = $this.find(".PagePrev"); //上一页</span><br><span class="line">var $PagesNext = $this.find(".PageNext"); //下一页</span><br><span class="line"></span><br><span class="line">//导航指向</span><br><span class="line">$PagesNav.click(function()&#123;</span><br><span class="line"></span><br><span class="line">var NavTxt = $(this).text();</span><br><span class="line">showPages(NavTxt);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//首页</span><br><span class="line">$PagesFrist.click(function()&#123;</span><br><span class="line"></span><br><span class="line">showPages(1);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//尾页</span><br><span class="line">$PagesLast.click(function()&#123;</span><br><span class="line"></span><br><span class="line">showPages(PagesMth);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//上一页</span><br><span class="line">$PagesPrev.click(function()&#123;</span><br><span class="line"></span><br><span class="line">var OldNav = $this.find(".pagesnum a[class=PageCur]");</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if(OldNav.text() == 1)&#123;alert("友情提示：\n\n不要再点啦~已经是首页啦！");&#125;else&#123;</span><br><span class="line"></span><br><span class="line">var NavTxt = parseInt(OldNav.text()) - 1;</span><br><span class="line">showPages(NavTxt);</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//下一页</span><br><span class="line">$PagesNext.click(function()&#123;</span><br><span class="line"></span><br><span class="line">var OldNav = $this.find(".pagesnum a[class=PageCur]");</span><br><span class="line"></span><br><span class="line">if(OldNav.text() == PagesMth)&#123;alert("友情提示：\n\n不要再点啦~已经是最后一页啦！");&#125;else&#123;</span><br><span class="line"></span><br><span class="line">var NavTxt = parseInt(OldNav.text()) + 1;</span><br><span class="line">showPages(NavTxt);</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// 主体显示隐藏分页函数</span><br><span class="line">function showPages(page)&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$PagesNav.each(function()&#123;</span><br><span class="line"></span><br><span class="line">var NavText = $(this).text();</span><br><span class="line"></span><br><span class="line">if(NavText == page)&#123;</span><br><span class="line"></span><br><span class="line">$(this).addClass("PageCur").siblings().removeClass("PageCur");</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//显示导航样式</span><br><span class="line">var AllMth = PagesMth / $NavMth;</span><br><span class="line">for(var i=1;i<span class="tag">&lt;<span class="name">=AllMth;i++)&#123;</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">if</span>(<span class="attr">page</span> &gt;</span> (i*$NavMth))&#123;</span><br><span class="line"></span><br><span class="line">$PagesNav.filter(":gt("+(i*$NavMth-1)+")").show();</span><br><span class="line">$PagesNav.filter(":gt("+(i*$NavMth-1+$NavMth)+")").hide();</span><br><span class="line">$PagesNav.filter(":lt("+(i*$NavMth)+")").hide();</span><br><span class="line"></span><br><span class="line">$this.find("span.Ellipsis:first").show();</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">if(page <span class="tag">&lt;<span class="name">=</span> $<span class="attr">NavMth</span>)&#123;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">$<span class="attr">PagesNav.filter</span>("<span class="attr">:gt</span>("+($<span class="attr">NavMth-1</span>)+")")<span class="attr">.hide</span>();</span></span><br><span class="line"><span class="tag">$<span class="attr">PagesNav.filter</span>("<span class="attr">:lt</span>("+$<span class="attr">NavMth</span>+")")<span class="attr">.show</span>();</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">$<span class="attr">this.find</span>("<span class="attr">span.Ellipsis:first</span>")<span class="attr">.hide</span>();</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">&#125;;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">&#125;;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">// 显示内容区域</span></span><br><span class="line"><span class="tag"><span class="attr">var</span> <span class="attr">LeftPage</span> = <span class="string">$Mth</span> * (<span class="attr">page-1</span>);</span></span><br><span class="line"><span class="tag"><span class="attr">var</span> <span class="attr">NowPage</span> = <span class="string">$Mth</span> * <span class="attr">page</span>;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">$<span class="attr">this.find</span>($<span class="attr">PagesClass</span>)<span class="attr">.hide</span>();</span></span><br><span class="line"><span class="tag">$<span class="attr">this.find</span>($<span class="attr">PagesClass</span>)<span class="attr">.filter</span>("<span class="attr">:lt</span>("+(<span class="attr">NowPage</span>)+")")<span class="attr">.show</span>();</span></span><br><span class="line"><span class="tag">$<span class="attr">this.find</span>($<span class="attr">PagesClass</span>)<span class="attr">.filter</span>("<span class="attr">:lt</span>("+(<span class="attr">LeftPage</span>)+")")<span class="attr">.hide</span>();</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">&#125;;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">&#125;; //判断结束 </span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">&#125;); //主体代码</span></span><br><span class="line"><span class="tag">&#125;;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">// 默认参数</span></span><br><span class="line"><span class="tag">$<span class="attr">.fn.Pages.defaults</span> = <span class="string">&#123;</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">PagesClass:</span>'<span class="attr">.item</span>', //需要分页的元素</span></span><br><span class="line"><span class="tag"><span class="attr">PagesMth:4</span>, //每页显示个数</span></span><br><span class="line"><span class="tag"><span class="attr">PagesNavMth:5</span> //显示导航个数</span></span><br><span class="line"><span class="tag">&#125;;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">$<span class="attr">.fn.Pages.setDefaults</span> = <span class="string">function(settings)</span> &#123;</span></span><br><span class="line"><span class="tag">$<span class="attr">.extend</span>( $<span class="attr">.fn.kkPages.defaults</span>, <span class="attr">settings</span> );</span></span><br><span class="line"><span class="tag">&#125;;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">&#125;)(<span class="attr">jQuery</span>);</span></span><br></pre></td></tr></table></figure><p>HTML文件代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://lib.sinaapp.com/js/jquery/1.7.2/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"script/jquery.Pages.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="string">'.pagelist'</span>).Pages(&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">PagesClass:<span class="string">'.item'</span>, <span class="comment">//需要分页的元素</span></span></span><br><span class="line"><span class="javascript">PagesMth:<span class="number">4</span>, <span class="comment">//每页显示个数</span></span></span><br><span class="line"><span class="javascript">PagesNavMth:<span class="number">5</span> <span class="comment">//显示导航个数</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="string">'.newslist'</span>).Pages(&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">PagesClass:<span class="string">'li'</span>, <span class="comment">//需要分页的元素</span></span></span><br><span class="line"><span class="javascript">PagesMth:<span class="number">5</span>, <span class="comment">//每页显示个数</span></span></span><br><span class="line"><span class="javascript">PagesNavMth:<span class="number">5</span> <span class="comment">//显示导航个数</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">&#125;); </span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>添加分页导航css样式</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Pages */</span></span><br><span class="line"><span class="selector-class">.Pagination</span>&#123;<span class="attribute">float</span>: right;<span class="attribute">height</span>: <span class="number">55px</span>;<span class="attribute">_height</span>: <span class="number">45px</span>; <span class="attribute">line-height</span>: <span class="number">20px</span>;<span class="attribute">margin-right</span>: <span class="number">15px</span>;<span class="attribute">_margin-right</span>: <span class="number">5px</span>; <span class="attribute">color</span>: </span><br><span class="line"><span class="number">#565656</span>;<span class="attribute">margin-top</span>: <span class="number">10px</span>;<span class="attribute">_margin-top</span>: <span class="number">20px</span>; <span class="attribute">clear</span>:both;&#125;</span><br><span class="line"><span class="selector-class">.Pagination</span> <span class="selector-tag">span</span>&#123;<span class="attribute">margin-right</span>: <span class="number">5px</span>;<span class="attribute">display</span>: block;<span class="attribute">float</span>: left;<span class="attribute">margin-left</span>: <span class="number">5px</span>;&#125;</span><br><span class="line"><span class="selector-class">.Pagination</span> <span class="selector-tag">span</span> <span class="selector-tag">b</span>&#123;<span class="attribute">padding</span>: <span class="number">0</span> <span class="number">2px</span>;&#125;</span><br><span class="line"><span class="selector-class">.Pagination</span> <span class="selector-tag">div</span> &#123;<span class="attribute">float</span>:left&#125;</span><br><span class="line"><span class="selector-class">.Pagination</span> <span class="selector-tag">a</span>&#123; <span class="attribute">font-size</span>: <span class="number">12px</span>;<span class="attribute">text-decoration</span>: none;<span class="attribute">display</span>: block;<span class="attribute">float</span>: left;<span class="attribute">color</span>: <span class="number">#565656</span>;<span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#cacaca</span>;<span class="attribute">height</span>: <span class="number">20px</span>;<span class="attribute">line-height</span>: <span class="number">20px</span>;<span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>;<span class="attribute">margin</span>: <span class="number">0</span> <span class="number">2px</span>;&#125;</span><br><span class="line"><span class="selector-class">.Pagination</span> <span class="selector-class">.Ellipsis</span> &#123;<span class="attribute">line-height</span>: <span class="number">32px</span>;<span class="attribute">overflow</span>: hidden; <span class="attribute">display</span>:none;&#125;</span><br><span class="line"><span class="selector-tag">cite</span><span class="selector-class">.FormNum</span>&#123;<span class="attribute">display</span>: block;<span class="attribute">float</span>: left;<span class="attribute">line-height</span>: <span class="number">20px</span>;<span class="attribute">height</span>: <span class="number">20px</span>; <span class="attribute">font-style</span>:  normal; <span class="attribute">padding-left</span>:<span class="number">10px</span>;&#125;</span><br><span class="line"><span class="selector-id">#PageNum</span>&#123; <span class="attribute">color</span>:<span class="number">#777</span>;<span class="attribute">width</span>: <span class="number">30px</span>;<span class="attribute">height</span>: <span class="number">20px</span>;<span class="attribute">line-height</span>: <span class="number">20px</span>; <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#cacaca</span>; <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">5px</span>; <span class="attribute">text-align</span>:center;&#125;</span><br><span class="line"><span class="selector-class">.Pagination</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,<span class="selector-class">.Pagination</span> <span class="selector-tag">a</span><span class="selector-class">.PageCur</span>&#123;<span class="attribute">background-color</span>: <span class="number">#ee6600</span>;<span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d64c01</span>;<span class="attribute">color</span>: <span class="number">#ffffff</span>; &#125;</span><br></pre></td></tr></table></figure><p>调用方法：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$('.newslist').Pages(&#123; </span><br><span class="line">    &amp;nbsp;&amp;nbsp;&amp;nbsp;PagesClass:'li', //需要分页的元素</span><br><span class="line">    &amp;nbsp;&amp;nbsp;&amp;nbsp;PagesMth:5, //每页显示个数 </span><br><span class="line">    &amp;nbsp;&amp;nbsp;&amp;nbsp;PagesNavMth:5 //显示导航个数</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mac双系统用磁盘工具合并windows分区后 开机还会 出现win分区</title>
      <link href="/2017/09/mac+win/"/>
      <url>/2017/09/mac+win/</url>
      
        <content type="html"><![CDATA[<p>如何删除开机硬盘的选择项<a id="more"></a><br>打开终端，输入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mount -t msdos /dev/disk0s1 /mnt</span><br></pre></td></tr></table></figure><p>在Finer中会出现EFI盘，删除其中的Apple文件以外的文件即可（Apple千万不要删除），然后重启，按住Alt看看效果，win分区选择项会不见了</p>]]></content>
      
      
      <categories>
          
          <category> mac </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>tmux配置</title>
      <link href="/2017/09/tmux-conf/"/>
      <url>/2017/09/tmux-conf/</url>
      
        <content type="html"><![CDATA[<p>我的tmux配置，<br><a id="more"></a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">bind k selectp -U</span><br><span class="line"></span><br><span class="line">bind j selectp -D</span><br><span class="line"></span><br><span class="line">bind h selectp -L</span><br><span class="line">bind l selectp -R</span><br><span class="line">bind -r ^k resizep -U 5</span><br><span class="line">bind -r ^j resizep -D 5</span><br><span class="line">bind -r ^h resizep -L 5</span><br><span class="line">bind -r ^l resizep -R 5</span><br><span class="line"> </span><br><span class="line">set -g default-command &quot;reattach-to-user-namespace -l /usr/local/bin/zsh&quot;</span><br><span class="line"></span><br><span class="line">bind r source-file ~/.tmux.conf \; display-message &quot;Config reloaded&quot;</span><br><span class="line"></span><br><span class="line">setw -g mode-keys vi</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">set-option -g default-command &quot;reattach-to-user-namespace -l zsh&quot;</span><br><span class="line">bind-key -t vi-copy v begin-selection</span><br><span class="line"> </span><br><span class="line">bind-key -t vi-copy y copy-pipe &quot;reattach-to-user-namespace pbcopy&quot;</span><br><span class="line"> </span><br><span class="line">set -g status-bg black</span><br><span class="line"> </span><br><span class="line">set -g status-fg white</span><br><span class="line"> </span><br><span class="line">set-option -g status-justify centre</span><br><span class="line"> </span><br><span class="line">set-option -g status-left &apos;#[bg=black,fg=green]\[#[fg=cyan]#S#[fg=green]]&apos;</span><br><span class="line"> </span><br><span class="line">set-option -g status-left-length 20</span><br><span class="line"></span><br><span class="line">setw -g automatic-rename on</span><br><span class="line"></span><br><span class="line">set-window-option -g window-status-format &apos;#[dim]#I:#[default]#W#[fg=grey,dim]&apos;</span><br><span class="line">set-window-option -g window-status-current-format &apos;#[fg=cyan,bold]#I#[fg=blue]:#[fg=cyan]#W#[fg=dim]&apos;</span><br><span class="line">set -g status-right &apos;#[fg=green]\[#[fg=cyan]%Y-%m-%d#[fg=green]]&apos;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> tmux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tmux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js距离现在时间计算</title>
      <link href="/2017/09/js+time/"/>
      <url>/2017/09/js+time/</url>
      
        <content type="html"><![CDATA[<p>js距离现在时间计算,如题js文件代码<br><a id="more"></a><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">"javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> biryear = <span class="number">2015</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> birmonth = <span class="number">12</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> birday = <span class="number">11</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> year = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> getyear = year.getYear();</span></span><br><span class="line"><span class="javascript">TMonth = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">'Jan'</span>,<span class="string">'Feb'</span>,<span class="string">'Mar'</span>,<span class="string">'Apr'</span>,<span class="string">'May'</span>,<span class="string">'June'</span>,<span class="string">'July'</span>,<span class="string">'Aug'</span>,<span class="string">'Sep'</span>,<span class="string">'Oct'</span>,<span class="string">'Nov'</span>,<span class="string">'Dec'</span>);</span></span><br><span class="line"><span class="undefined">nowMonth = birmonth - 1;</span></span><br><span class="line"><span class="undefined">bmonth = TMonth[nowMonth];</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> timerid;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> timerRunning = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> startday = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> enday = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> minPerDay = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> secsLeft = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> secsRound = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> secsRemain = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> minLeft = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> minRound = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> minRemain = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> timeRemain = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">showtime</span>(<span class="params"></span>) </span></span></span><br><span class="line"><span class="undefined">&#123;</span></span><br><span class="line"><span class="javascript">startday = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">""</span>+bmonth+<span class="string">" "</span>+birday+<span class="string">", "</span>+biryear+<span class="string">" 00:00 EDT"</span>);</span></span><br><span class="line"><span class="javascript">startday.setYear(<span class="string">""</span>+biryear+<span class="string">""</span>);</span></span><br><span class="line"><span class="javascript">today = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="undefined">secsPerDay = 1000 ;</span></span><br><span class="line"><span class="undefined">minPerDay = 60 * 1000 ;</span></span><br><span class="line"><span class="undefined">hoursPerDay = 60 * 60 * 1000;</span></span><br><span class="line"><span class="undefined">PerDay = 24 * 60 * 60 * 1000;</span></span><br><span class="line"><span class="undefined">secsLeft = (today.getTime() - startday.getTime()) / minPerDay;</span></span><br><span class="line"><span class="javascript">secsRound = <span class="built_in">Math</span>.round(secsLeft);</span></span><br><span class="line"><span class="undefined">secsRemain = secsLeft - secsRound;</span></span><br><span class="line"><span class="xml">secsRemain = (secsRemain <span class="tag">&lt; <span class="attr">0</span>) ? <span class="attr">secsRemain</span> = <span class="string">60</span> <span class="attr">-</span> ((<span class="attr">secsRound</span> <span class="attr">-</span> <span class="attr">secsLeft</span>) * <span class="attr">60</span>) <span class="attr">:</span> <span class="attr">secsRemain</span> = <span class="string">(secsLeft</span> <span class="attr">-</span> <span class="attr">secsRound</span>) * <span class="attr">60</span>;</span></span></span><br><span class="line"><span class="javascript">secsRemain = <span class="built_in">Math</span>.round(secsRemain);</span></span><br><span class="line"><span class="undefined">minLeft = ((today.getTime() - startday.getTime()) / hoursPerDay);</span></span><br><span class="line"><span class="javascript">minRound = <span class="built_in">Math</span>.round(minLeft);</span></span><br><span class="line"><span class="undefined">minRemain = minLeft - minRound;</span></span><br><span class="line"><span class="xml">minRemain = (minRemain <span class="tag">&lt; <span class="attr">0</span>) ? <span class="attr">minRemain</span> = <span class="string">60</span> <span class="attr">-</span> ((<span class="attr">minRound</span> <span class="attr">-</span> <span class="attr">minLeft</span>) * <span class="attr">60</span>) <span class="attr">:</span> <span class="attr">minRemain</span> = <span class="string">((minLeft</span> <span class="attr">-</span> <span class="attr">minRound</span>) * <span class="attr">60</span>);</span></span></span><br><span class="line"><span class="javascript">minRemain = <span class="built_in">Math</span>.round(minRemain - <span class="number">0.495</span>);</span></span><br><span class="line"><span class="undefined">hoursLeft = ((today.getTime() - startday.getTime()) / PerDay);</span></span><br><span class="line"><span class="javascript">hoursRound = <span class="built_in">Math</span>.round(hoursLeft);</span></span><br><span class="line"><span class="undefined">hoursRemain = hoursLeft - hoursRound;</span></span><br><span class="line"><span class="xml">hoursRemain = (hoursRemain <span class="tag">&lt; <span class="attr">0</span>) ?    <span class="attr">hoursRemain</span> = <span class="string">((hoursLeft</span> <span class="attr">-</span> <span class="attr">hoursRound</span>) * <span class="attr">24</span> +<span class="attr">12</span>) <span class="attr">:</span> <span class="attr">hoursRemain</span> = <span class="string">12</span> <span class="attr">-</span> ((<span class="attr">hoursRound</span> <span class="attr">-</span> <span class="attr">hoursLeft</span>) * <span class="attr">24</span>);</span></span></span><br><span class="line"><span class="javascript">hoursRemain = <span class="built_in">Math</span>.round(hoursRemain - <span class="number">0.5</span>);</span></span><br><span class="line"><span class="undefined">daysLeft = ((today.getTime() - startday.getTime()) / PerDay);</span></span><br><span class="line"><span class="undefined">daysLeft = (daysLeft + 0.5);</span></span><br><span class="line"><span class="javascript">daysRound = <span class="built_in">Math</span>.round(daysLeft);</span></span><br><span class="line"><span class="undefined">daysRemain = daysRound;</span></span><br><span class="line"><span class="javascript">day_rem = <span class="string">" 天 "</span></span></span><br><span class="line"><span class="javascript">hour_rem = <span class="string">" 小时 "</span></span></span><br><span class="line"><span class="javascript">min_rem = <span class="string">" 分 "</span></span></span><br><span class="line"><span class="javascript">sec_rem = <span class="string">" 秒 "</span></span></span><br><span class="line"><span class="undefined">timeRemain =daysRemain + day_rem + hoursRemain + hour_rem + minRemain + min_rem + secsRemain + sec_rem;</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.up.face.value = timeRemain;</span></span><br><span class="line"><span class="javascript">timerid = setTimeout(<span class="string">"showtime()"</span>,<span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript">timerRunning = <span class="literal">true</span>;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>在html文件中</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;FORM name=up onsubmit=1 align=&quot;center&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;INPUT class=&quot;forever&quot;  value=&quot;计算出您的精彩人生！&quot; name= &quot;face&quot; readonly onfocus=&quot;this.blur()&quot; align=&quot;center&quot;&gt;</span><br><span class="line">&lt;/FORM&gt;</span><br></pre></td></tr></table></figure><p>input标签css样式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.forever &#123;background-color:transparent;width:1000px;height:80px;text-align:center;font-size:80px;font-family:&quot;微软雅黑&quot;;border-left: 0;border-top: 0;border-right: 0;border-bottom: 0;&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>bootstrap使用</title>
      <link href="/2017/09/bootstrap+use/"/>
      <url>/2017/09/bootstrap+use/</url>
      
        <content type="html"><![CDATA[<p>如题</p><p>原文链接：<a href="http://www.cnblogs.com/chuangshaogreat/p/6719659.html" target="_blank" rel="noopener">http://www.cnblogs.com/chuangshaogreat/p/6719659.html</a><br><a id="more"></a><br>官网：<a href="http://v3.bootcss.com/components/" target="_blank" rel="noopener">http://v3.bootcss.com/components/</a></p>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bootstrap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>终端命令</title>
      <link href="/2017/09/shellmingling/"/>
      <url>/2017/09/shellmingling/</url>
      
        <content type="html"><![CDATA[<p>shell命令</p><h2 id="一-启动-关机-登入-登出相关命令"><a href="#一-启动-关机-登入-登出相关命令" class="headerlink" title="一. 启动,关机,登入,登出相关命令"></a>一. 启动,关机,登入,登出相关命令</h2><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;login&gt; 登录</span><br><span class="line"></span><br><span class="line">&lt;logout&gt; 登出</span><br><span class="line"></span><br><span class="line">&lt;exit&gt; 登出</span><br><span class="line"></span><br><span class="line">&lt;shutdown&gt; 停止系统</span><br><span class="line"></span><br><span class="line">&lt;halt&gt; 停止系统</span><br><span class="line"></span><br><span class="line">&lt;reboot&gt; 重启动</span><br><span class="line"></span><br><span class="line">&lt;poweroff&gt; 切断电源</span><br><span class="line"></span><br><span class="line">&lt;sync&gt; 把内存里的内容写入磁盘</span><br><span class="line"></span><br><span class="line">&lt;lilo&gt; 安装lilo启动管理程序</span><br><span class="line"></span><br><span class="line">&lt;grub&gt; 安装lilo启动管理程序</span><br></pre></td></tr></table></figure><h2 id="二-Shell相关命令"><a href="#二-Shell相关命令" class="headerlink" title="二. Shell相关命令"></a>二. Shell相关命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;chsh&gt; 切换Shell</span><br><span class="line"></span><br><span class="line">&lt;history&gt; 显示命令履历</span><br><span class="line"></span><br><span class="line">&lt;alias&gt; 设置命令别名</span><br><span class="line"></span><br><span class="line">&lt;unalias&gt; 取消命令别名</span><br><span class="line"></span><br><span class="line">&lt;which&gt; 显示命令所在位置</span><br><span class="line"></span><br><span class="line">&lt;type&gt; 查询命令种类</span><br><span class="line"></span><br><span class="line">&lt;echo&gt; 显示字符串或者变量内容</span><br><span class="line"></span><br><span class="line">&lt;set&gt; 设置/显示Shell变量</span><br><span class="line"></span><br><span class="line">&lt;printenv&gt; 显示环境变量</span><br><span class="line"></span><br><span class="line">&lt;export&gt; 设置环境变量</span><br><span class="line"></span><br><span class="line">&lt;env&gt; 设置临时环境变量</span><br><span class="line"></span><br><span class="line">&lt;unset&gt; 释放环境变量</span><br><span class="line"></span><br><span class="line">&lt;setenv&gt; 设置环境变量</span><br><span class="line"></span><br><span class="line">&lt;unsetenv&gt; 释放环境变量</span><br><span class="line"></span><br><span class="line">&lt;source&gt; 执行文件当中的命令</span><br><span class="line"></span><br><span class="line">&lt;man&gt; 查询命令手册</span><br><span class="line"></span><br><span class="line">&lt;info&gt; 查询超文本命令手册</span><br><span class="line"></span><br><span class="line">&lt;whatis&gt; 显示命令简介</span><br><span class="line"></span><br><span class="line">&lt;apropos&gt; 通过关键字查询手册</span><br></pre></td></tr></table></figure><h2 id="三-用户管理相关命令"><a href="#三-用户管理相关命令" class="headerlink" title="三. 用户管理相关命令"></a>三. 用户管理相关命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;su&gt; 切换到其他用户</span><br><span class="line"></span><br><span class="line">&lt;useradd&gt; 追加用户</span><br><span class="line"></span><br><span class="line">&lt;adduser&gt; 追加用户</span><br><span class="line"></span><br><span class="line">&lt;userdel&gt; 删除用户</span><br><span class="line"></span><br><span class="line">&lt;usermod&gt; 修改用户设置</span><br><span class="line"></span><br><span class="line">&lt;chfn&gt; 修改用户私人信息</span><br><span class="line"></span><br><span class="line">&lt;groupadd&gt; 追加组</span><br><span class="line"></span><br><span class="line">&lt;groupdel&gt; 删除组</span><br><span class="line"></span><br><span class="line">&lt;groupmod&gt; 修改组设置</span><br><span class="line"></span><br><span class="line">&lt;passwd&gt; 更改密码</span><br><span class="line"></span><br><span class="line">&lt;whoami&gt; 显示用户名</span><br><span class="line"></span><br><span class="line">&lt;logname&gt; 显示登录用户帐号</span><br><span class="line"></span><br><span class="line">&lt;users&gt; 显示所有登录用户信息</span><br><span class="line"></span><br><span class="line">&lt;who&gt; 查询登录用户信息</span><br><span class="line"></span><br><span class="line">&lt;w&gt; 查询登录用户信息</span><br><span class="line"></span><br><span class="line">&lt;id&gt; 显示指定用户的ID信息</span><br><span class="line"></span><br><span class="line">&lt;groups&gt; 显示指定用户的所属组</span><br><span class="line"></span><br><span class="line">&lt;finger&gt; 显示指定用户的个人信息</span><br><span class="line"></span><br><span class="line">&lt;mesg&gt; 开关与他人收发消息</span><br><span class="line"></span><br><span class="line">&lt;write&gt; 给其他用户发消息</span><br><span class="line"></span><br><span class="line">&lt;wall&gt; 给所有用户发消息</span><br><span class="line"></span><br><span class="line">&lt;\talk&gt; 和其他用户聊天</span><br></pre></td></tr></table></figure><h2 id="四-系统消息相关命令"><a href="#四-系统消息相关命令" class="headerlink" title="四. 系统消息相关命令"></a>四. 系统消息相关命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;date&gt; 显示/设置当前时间</span><br><span class="line"></span><br><span class="line">&lt;uptime&gt; 显示系统运行时间</span><br><span class="line"></span><br><span class="line">&lt;arch&gt; 显示机器的核心构架（如i386）</span><br><span class="line"></span><br><span class="line">&lt;uname&gt; 显示操作系统信息</span><br><span class="line"></span><br><span class="line">&lt;tty&gt; 显示终端名</span><br><span class="line"></span><br><span class="line">&lt;last&gt; 显示登录/登出在履历</span><br><span class="line"></span><br><span class="line">&lt;lastb&gt; 显示非法登录信息</span><br><span class="line"></span><br><span class="line">&lt;dumpkeys&gt; 显示当前键盘配置</span><br><span class="line"></span><br><span class="line">&lt;loadkeys&gt; 变更键盘配置</span><br><span class="line"></span><br><span class="line">&lt;df&gt; 查询磁盘使用信息</span><br><span class="line"></span><br><span class="line">&lt;du&gt; 查询磁盘使用信息</span><br><span class="line"></span><br><span class="line">&lt;dmesg&gt; 显示系统启动消息</span><br><span class="line"></span><br><span class="line">&lt;script&gt; 保存输入输出到文件</span><br></pre></td></tr></table></figure><h2 id="五-文件操作相关命令"><a href="#五-文件操作相关命令" class="headerlink" title="五. 文件操作相关命令"></a>五. 文件操作相关命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;ls&gt; 显示文件列表</span><br><span class="line"></span><br><span class="line">&lt;tree&gt; 显示目录树</span><br><span class="line"></span><br><span class="line">&lt;pwd&gt; 显示当前路径</span><br><span class="line"></span><br><span class="line">&lt;cd&gt; 更改当前路径</span><br><span class="line"></span><br><span class="line">&lt;pushd&gt; 追加路径到目录堆栈</span><br><span class="line"></span><br><span class="line">&lt;popd&gt; 从目录堆栈删除路径</span><br><span class="line"></span><br><span class="line">&lt;dirs&gt; 显示目录堆栈的内容</span><br><span class="line"></span><br><span class="line">&lt;mkdir&gt; 创建路径</span><br><span class="line"></span><br><span class="line">&lt;rmdir&gt; 删除路径</span><br><span class="line"></span><br><span class="line">&lt;cp&gt; 复制文件/目录</span><br><span class="line"></span><br><span class="line">&lt;rm&gt; 删除文件/目录</span><br><span class="line"></span><br><span class="line">&lt;mv&gt; 移动文件/目录，修改文件名</span><br><span class="line"></span><br><span class="line">&lt;chown&gt; 更改文件/目录的所有者</span><br><span class="line"></span><br><span class="line">&lt;chgrp&gt; 修改文件/目录的所有组</span><br><span class="line"></span><br><span class="line">&lt;chmod&gt; 修改文件/目录的权限</span><br><span class="line"></span><br><span class="line">&lt;touch&gt; 更改文件时间</span><br><span class="line"></span><br><span class="line">&lt;ln&gt; 建立文件/目录链接</span><br><span class="line"></span><br><span class="line">&lt;find&gt; 查找文件</span><br><span class="line"></span><br><span class="line">&lt;whereis&gt; 显示文件存在的路径名</span><br><span class="line"></span><br><span class="line">&lt;file&gt; 查询文件种类</span><br><span class="line"></span><br><span class="line">&lt;size&gt; 查询文件大小</span><br></pre></td></tr></table></figure><h2 id="六-文件编辑相关命令"><a href="#六-文件编辑相关命令" class="headerlink" title="六. 文件编辑相关命令"></a>六. 文件编辑相关命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;cat&gt; 显示文件内容</span><br><span class="line"></span><br><span class="line">&lt;tee&gt; 输出到文件和屏幕</span><br><span class="line"></span><br><span class="line">&lt;more&gt; 分屏显示文件内容</span><br><span class="line"></span><br><span class="line">&lt;less&gt; 分屏显示文件内容</span><br><span class="line"></span><br><span class="line">&lt;head&gt; 显示文件头部内容</span><br><span class="line"></span><br><span class="line">&lt;tail&gt; 显示文件尾部内容</span><br><span class="line"></span><br><span class="line">&lt;fold&gt; 折叠显示长行</span><br><span class="line"></span><br><span class="line">&lt;sort&gt; 排列文件的行</span><br><span class="line"></span><br><span class="line">&lt;cmp&gt; 比较文件内容</span><br><span class="line"></span><br><span class="line">&lt;diff&gt; 显示文件差异</span><br><span class="line"></span><br><span class="line">&lt;nkf&gt; 更改日语文件编码</span><br><span class="line"></span><br><span class="line">&lt;dd&gt; 变更文件之后复制</span><br><span class="line"></span><br><span class="line">&lt;wc&gt; 统计文本单词数，文件大小等</span><br><span class="line"></span><br><span class="line">&lt;split&gt; 分割文件</span><br><span class="line"></span><br><span class="line">&lt;paste&gt; 以行连接文件</span><br><span class="line"></span><br><span class="line">&lt;join&gt; 以字段连接文件</span><br><span class="line"></span><br><span class="line">&lt;grep&gt; 查询文字</span><br><span class="line"></span><br><span class="line">&lt;uniq&gt; 过滤重复部分显示文件内容</span><br><span class="line"></span><br><span class="line">&lt;tr&gt; 替换文字</span><br><span class="line"></span><br><span class="line">&lt;sed&gt; 替换文字</span><br></pre></td></tr></table></figure><h2 id="七-压缩-解压缩相关命令"><a href="#七-压缩-解压缩相关命令" class="headerlink" title="七. 压缩/解压缩相关命令"></a>七. 压缩/解压缩相关命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;ar&gt; 压缩/解压缩文件</span><br><span class="line"></span><br><span class="line">&lt;tar&gt; 压缩/解压缩文件</span><br><span class="line"></span><br><span class="line">&lt;compress&gt; 压缩/解压缩文件</span><br><span class="line"></span><br><span class="line">&lt;uncompress&gt; 解压缩</span><br><span class="line"></span><br><span class="line">&lt;gzip&gt; 压缩/解压缩文件</span><br><span class="line"></span><br><span class="line">&lt;gunzip&gt; 解压缩</span><br><span class="line"></span><br><span class="line">&lt;zcat&gt; 显示压缩文件的内容</span><br><span class="line"></span><br><span class="line">&lt;lha&gt; 压缩/解压缩文件</span><br><span class="line"></span><br><span class="line">&lt;uuencode&gt; 把二进制文件编码为文本文件</span><br><span class="line"></span><br><span class="line">&lt;uudecode&gt; 把经过编码的文本文件还原为二进制文件</span><br></pre></td></tr></table></figure><h2 id="八-MS-DOS工具集-mtools-命令"><a href="#八-MS-DOS工具集-mtools-命令" class="headerlink" title="八. MS-DOS工具集[mtools]命令"></a>八. MS-DOS工具集[mtools]命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;mdir&gt; 显示文件列表</span><br><span class="line"></span><br><span class="line">&lt;mcd&gt; 改变当前目录</span><br><span class="line"></span><br><span class="line">&lt;mmd&gt; 新建目录</span><br><span class="line"></span><br><span class="line">&lt;mrd&gt; 删除目录</span><br><span class="line"></span><br><span class="line">&lt;mdeltree&gt; 删除目录树</span><br><span class="line"></span><br><span class="line">&lt;mcopy&gt; 复制文件</span><br><span class="line"></span><br><span class="line">&lt;mdel&gt; 删除文件</span><br><span class="line"></span><br><span class="line">&lt;mmove&gt; 移动文件</span><br><span class="line"></span><br><span class="line">&lt;mren&gt; 更改文件或目录名</span><br><span class="line"></span><br><span class="line">&lt;mattrib&gt; 修改文件属性</span><br><span class="line"></span><br><span class="line">&lt;mtype&gt; 显示文件内容</span><br><span class="line"></span><br><span class="line">&lt;mdu&gt; 查询文件或目录大小</span><br><span class="line"></span><br><span class="line">&lt;minfo&gt; 显示磁盘信息</span><br><span class="line"></span><br><span class="line">&lt;mformat&gt; 以MS-DOS方式格式化磁盘</span><br><span class="line"></span><br><span class="line">&lt;mlabel&gt; 设置磁盘标签</span><br></pre></td></tr></table></figure><h2 id="九-控制外部设备相关命令"><a href="#九-控制外部设备相关命令" class="headerlink" title="九. 控制外部设备相关命令"></a>九. 控制外部设备相关命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;mount&gt; mount上设备</span><br><span class="line"></span><br><span class="line">&lt;umount&gt; 解除已经mount上的设备</span><br><span class="line"></span><br><span class="line">&lt;eject&gt; 弹出（CD/DVD等）</span><br><span class="line"></span><br><span class="line">&lt;fdformat&gt; 格式化软盘</span><br><span class="line"></span><br><span class="line">&lt;fdisk&gt; 配置/显示硬盘分区</span><br><span class="line"></span><br><span class="line">&lt;mkfs&gt; 格式化磁盘分区</span><br><span class="line"></span><br><span class="line">&lt;fsck&gt; 检查/修复磁盘错误</span><br><span class="line"></span><br><span class="line">&lt;lpr&gt; 打印到打印机</span><br><span class="line"></span><br><span class="line">&lt;lprm&gt; 中断打印任务</span><br><span class="line"></span><br><span class="line">&lt;lpq&gt; 显示打印任务的状态</span><br><span class="line"></span><br><span class="line">&lt;lpc&gt; 管理/控制打印任务</span><br><span class="line"></span><br><span class="line">&lt;ifconfig&gt; 显示/设定NIC配置</span><br></pre></td></tr></table></figure><h2 id="十-进程及任务管理相关命令"><a href="#十-进程及任务管理相关命令" class="headerlink" title="十. 进程及任务管理相关命令"></a>十. 进程及任务管理相关命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;ps&gt; 显示正在运行的进程</span><br><span class="line"></span><br><span class="line">&lt;jobs&gt; 显示后台运行任务</span><br><span class="line"></span><br><span class="line">&lt;fg&gt; 把任务切换到前台</span><br><span class="line"></span><br><span class="line">&lt;bg&gt; 把任务切换到后台</span><br><span class="line"></span><br><span class="line">&lt;kill&gt; 中止进程或任务</span><br><span class="line"></span><br><span class="line">&lt;killall&gt; 中止进程或任务</span><br><span class="line"></span><br><span class="line">&lt;wait&gt; 等待进程或任务的结束</span><br><span class="line"></span><br><span class="line">&lt;at&gt; 设置定时执行任务</span><br><span class="line"></span><br><span class="line">&lt;atq&gt; 显示尚未执行的任务</span><br><span class="line"></span><br><span class="line">&lt;atrm&gt; 删除定时执行任务</span><br><span class="line"></span><br><span class="line">&lt;batch&gt; 在系统负荷减轻的时候执行任务</span><br><span class="line"></span><br><span class="line">&lt;nice&gt; 改变优先度并执行任务</span><br><span class="line"></span><br><span class="line">&lt;nohup&gt; 在后台执行任务，Logout之后也不退出</span><br><span class="line"></span><br><span class="line">&lt;sleep&gt; 休眠一定的时间</span><br></pre></td></tr></table></figure><h2 id="十一-网络管理相关命令"><a href="#十一-网络管理相关命令" class="headerlink" title="十一. 网络管理相关命令"></a>十一. 网络管理相关命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;netstat&gt; 显示当前网络连接状况</span><br><span class="line"></span><br><span class="line">&lt;route&gt; 显示/设置路由</span><br><span class="line"></span><br><span class="line">&lt;host&gt; 显示网络主机情况</span><br><span class="line"></span><br><span class="line">&lt;hostname&gt; 显示/设置当前主机的名字</span><br><span class="line"></span><br><span class="line">&lt;ping&gt; 确认和远程机器的连接情况</span><br><span class="line"></span><br><span class="line">&lt;traceroute&gt; 显示路由信息</span><br><span class="line"></span><br><span class="line">&lt;rwho&gt; 查询网上机器的登陆用户</span><br><span class="line"></span><br><span class="line">&lt;ruptime&gt; 查询网上机器的系统运行时间</span><br><span class="line"></span><br><span class="line">&lt;rlogin&gt; 登陆到远程机器</span><br><span class="line"></span><br><span class="line">&lt;telnet&gt; 用telnet登陆到远程机器</span><br><span class="line"></span><br><span class="line">&lt;rsh&gt; 给远程机器发送命令</span><br><span class="line"></span><br><span class="line">&lt;rcp&gt; 在远程机器之间复制文件</span><br><span class="line"></span><br><span class="line">&lt;mail&gt; 收取邮件</span><br><span class="line"></span><br><span class="line">&lt;sendmail&gt; 发送邮件</span><br><span class="line"></span><br><span class="line">&lt;mailq&gt; 确认邮件队列</span><br><span class="line"></span><br><span class="line">&lt;ftp&gt; 用ftp传输文件</span><br></pre></td></tr></table></figure><h2 id="十二-其他命令"><a href="#十二-其他命令" class="headerlink" title="十二. 其他命令"></a>十二. 其他命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;cal&gt; 显示日历</span><br><span class="line"></span><br><span class="line">&lt;clear&gt; 清屏</span><br><span class="line"></span><br><span class="line">&lt;gcc&gt; 编译C语言代码</span><br><span class="line"></span><br><span class="line">&lt;as&gt; 汇编</span><br><span class="line"></span><br><span class="line">&lt;bc&gt; 计算</span><br><span class="line"></span><br><span class="line">&lt;rpm&gt; Redhat的包管理</span><br><span class="line"></span><br><span class="line">&lt;dpkg&gt; Debian的包管理</span><br><span class="line"></span><br><span class="line">&lt;installpkg&gt; Slackware的包安装（删除命令则是removepkg）</span><br><span class="line"></span><br><span class="line">&lt;XF86Setup,turboxfg,Xconfigurator&gt; 配置 X 服务器</span><br><span class="line"></span><br><span class="line">&lt;startx&gt; 启动 X-Window 系统</span><br></pre></td></tr></table></figure><h2 id="附：组合命令"><a href="#附：组合命令" class="headerlink" title="附：组合命令"></a>附：组合命令</h2><h3 id="重定向，如"><a href="#重定向，如" class="headerlink" title="重定向，如"></a>重定向，如</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ls -l /bin &gt; ls-output</span><br><span class="line"></span><br><span class="line">$ more ls-output</span><br></pre></td></tr></table></figure><h3 id="管道命令，如"><a href="#管道命令，如" class="headerlink" title="管道命令，如"></a>管道命令，如</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cat file1 file2 | sort | uniq</span><br></pre></td></tr></table></figure><p>经常被用于管道的命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk, fold, grep, head, nnkf, pr, sed, sort, tail, tee, tr, uniq, wc</span><br></pre></td></tr></table></figure></p><h2 id="UNIX操作命令"><a href="#UNIX操作命令" class="headerlink" title="UNIX操作命令"></a>UNIX操作命令</h2><h3 id="第一章-登录和退出"><a href="#第一章-登录和退出" class="headerlink" title="第一章  登录和退出"></a>第一章  登录和退出</h3><p>   用户在登录前，首先要向系统管理员申请一个用户注册名，不论用户从哪台计</p><p>算机登录到ITPNET上都将访问相同的文件系统。</p><h4 id="1-1-登录"><a href="#1-1-登录" class="headerlink" title="1.1 登录"></a>1.1 登录</h4><p>   当屏幕上出现Login提示符时，用户可以输入自己的用户注册名，并按回车键。</p><p>若有口令，系统将提示用户输入密码，并按回车键，口令输入正确后，用户登录成</p><p>功。这时，屏幕上会显示出一些信息和命令提示符。如：</p><p>   Login: guest [Enter]</p><p>   passwd: <strong>**</strong>  [Enter]</p><p>   sun%</p><p>注: 用户名要用小写字母输入，UNIX系统区分大小写字母。</p><h4 id="1-2-退出"><a href="#1-2-退出" class="headerlink" title="1.2 退出"></a>1.2 退出</h4><p>   当用户准备退出自己的计算机帐号时，可在系统示符下输入logout或exit或按</p><p>[Ctrl-D]。当屏幕出现Login时，用户可以安全地离开计算机了。如：</p><p>   sun% logout [Enter]</p><p>   Login：</p><h4 id="1-3-修改口令"><a href="#1-3-修改口令" class="headerlink" title="1.3 修改口令"></a>1.3 修改口令</h4><p>   为了防止他人使用自己的帐号，在你首次登录后，请用passwd命令修改只有本</p><p>人知道的保密口令，口令通常由此可6到8个字母数字组成。如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sun% passwd [Enter]</span><br><span class="line"></span><br><span class="line">Old Passwd: ******</span><br><span class="line"></span><br><span class="line">New Passwd: ******</span><br><span class="line"></span><br><span class="line">Retype New Passwd: ******</span><br></pre></td></tr></table></figure></p><p>注：当你退出系统再次登录时，就要使用新的口令。</p><h3 id="第二章-目录操作命令"><a href="#第二章-目录操作命令" class="headerlink" title="第二章  目录操作命令"></a>第二章  目录操作命令</h3><h4 id="2-1-显示目录"><a href="#2-1-显示目录" class="headerlink" title="2.1 显示目录"></a>2.1 显示目录</h4><p>   命令：pwd（print working directory）</p><p>   格式：pwd</p><p>   功能：显示出用户当前工作目录的全路径名。</p><p>   例如：% pwd</p><h4 id="2-2-建立目录"><a href="#2-2-建立目录" class="headerlink" title="2.2 建立目录"></a>2.2 建立目录</h4><p>   命令：mkdir（make directory）</p><p>   格式：mkdir directory_name</p><p>   功能：建立新目录</p><p>   例如：% mkdir directory</p><h4 id="2-3-改变目录"><a href="#2-3-改变目录" class="headerlink" title="2.3 改变目录"></a>2.3 改变目录</h4><p>   命令：cd（change directory）</p><p>   格式：cd directory_name</p><p>   功能：改变当前工作目录</p><p>   注释：目录名选项有:</p><pre><code>(1) 目录名，转到当前目录下的子目录。(2) .. 表示转到当前目录的父目录。(3) /  表示转到根目录。(4) 没有选项时，转到用户的主目录。</code></pre><p>   例如：% cd directory</p><h4 id="2-4-删除目录"><a href="#2-4-删除目录" class="headerlink" title="2.4 删除目录"></a>2.4 删除目录</h4><p>   命令：rmdir (remove directory)</p><p>   格式：rmdir directory_name</p><p>   功能：删除不存在文件的子目录名。</p><p>   注释：</p><pre><code>(1) 删除子目录时，要求被删除的目录中不存在文件或子目录，否则无法删除。(2) 若被删除的目录中有文件或子目录，请参考命令rm -r directory_name。</code></pre><p>  例如：% rmdir directory</p><h3 id="第三章-文件操作命令"><a href="#第三章-文件操作命令" class="headerlink" title="第三章  文件操作命令"></a>第三章  文件操作命令</h3><h4 id="3-1-列出文件目录"><a href="#3-1-列出文件目录" class="headerlink" title="3.1 列出文件目录"></a>3.1 列出文件目录</h4><p>   命令：ls (list)</p><p>   格式：ls [option] directory_name</p><p>   功能：列出指定目录中的文件名和子目录名。当无子目录名时，列出当前目录</p><pre><code>中的文件名和子目录名。</code></pre><p>   选项：-a列出所有文件，包括以点开头的隐含文件。</p><pre><code>-l按长格式列出文件名，包括文件类型标识，权限，链接数，文件主名，  文件组名，字节数，日期。-r列出包括子目录下所有文件-g在长格式中给出用户组的标识。-t安文件生成日期排序。</code></pre><p>   例如：% ls -la</p><h4 id="3-2-显示文件内容"><a href="#3-2-显示文件内容" class="headerlink" title="3.2 显示文件内容"></a>3.2 显示文件内容</h4><p>   命令：cat (catenae)</p><p>   格式：cat filename</p><p>   功能：显示出文件的内容。</p><p>   注释：当文件内容在屏幕上滚动显示时，可按Ctrl+S键屏幕滚暂停，按Ctrl+Q</p><pre><code>键继续显示。</code></pre><p>   例如：% cat filename</p><h4 id="3-3-按屏幕显示文件内容"><a href="#3-3-按屏幕显示文件内容" class="headerlink" title="3.3 按屏幕显示文件内容"></a>3.3 按屏幕显示文件内容</h4><p>   命令：more</p><p>   格式：more filename</p><p>   功能：按屏幕一屏一屏显示出文件内容</p><p>   选项：</p><p>   注释：在屏幕显示过程中有功能键。空格键 继续下一屏的输出；回车键 看下</p><pre><code>一行的输出；q键 跳出more状态；/字符串 查旬字符串所在处；a键 返回到上一屏。</code></pre><p>   例如：% more filename</p><h4 id="3-4-分页显示文件内容"><a href="#3-4-分页显示文件内容" class="headerlink" title="3.4 分页显示文件内容"></a>3.4 分页显示文件内容</h4><p>   命令：pg (page)</p><p>   格式：pg [option] filename</p><p>   功能：分页显示指定文件的内容。在显示一页文件时，最后一行将显示等待用</p><pre><code>户输入指令。可输入的指令有如下选项。</code></pre><p>   选项：h          显示pg命令中可使用的帮助(help)命令。</p><pre><code>q          退出pg命令。[return]   显示下一页正文。1          显示正文的下一行[Space]    显示下一页d/[Ctrl-D] 将屏幕滚动半屏。n          显示pg命令行中说明的下一个文件。p          显示pg命令行中说明的前一个文件。%          显示正文当前页的前面一页。/pattern   在文件中向前搜索指定的字符模式。?pattern   在文件中向后搜索指定的字符模式。</code></pre><p>   注释：当pg命令显示到文件的末尾时，显示一个文件结束信息EOF(end of file)。</p><p>   例如：% pg filename</p><h4 id="3-5-读文件"><a href="#3-5-读文件" class="headerlink" title="3.5 读文件"></a>3.5 读文件</h4><p>   命令：view</p><p>   格式：view filename</p><p>   功能：只能读出文件内容。</p><p>   注释：此命令不能对读出的原文件进行写操作。若对原文件进行了修改，可利</p><pre><code>用命令“：w newfilename”将修改后的文件写到新文件中。</code></pre><p>   例如：% view filename</p><h4 id="3-6-显示文件头部"><a href="#3-6-显示文件头部" class="headerlink" title="3.6 显示文件头部"></a>3.6 显示文件头部</h4><p>   命令：head</p><p>   格式：head [option] filename</p><p>   功能：显示文件的头部</p><p>   选项：缺省  显示文件的头10行。</p><pre><code>-i    显示文件的开始 i行。</code></pre><p>   例如：% head filename</p><h4 id="3-7-显示文件尾部"><a href="#3-7-显示文件尾部" class="headerlink" title="3.7 显示文件尾部"></a>3.7 显示文件尾部</h4><p>   命令：tail</p><p>   格式：tail [option] filename</p><p>   功能：显示文件的尾部</p><p>   选项：缺省  显示文件的末10行。</p><pre><code>-i    显示文件最后 i行。+i    从文件的第i行开始显示。</code></pre><p>   例如：% tail filename</p><h4 id="3-8-显示格式化的文件内容"><a href="#3-8-显示格式化的文件内容" class="headerlink" title="3.8 显示格式化的文件内容"></a>3.8 显示格式化的文件内容</h4><p>   命令：pr (print)</p><p>   格式：pr filename</p><p>   功能：在屏幕上显示格式化的文件内容，即印出每页66行的文本文件，包括５</p><pre><code>行页头和５行页尾。页头包括两行空行，一行含有文件的时间、文件名和页号，另外两行为空行。页尾为５行空行。</code></pre><p>   例如：% pr filename</p><h4 id="3-9-拷贝文件"><a href="#3-9-拷贝文件" class="headerlink" title="3.9 拷贝文件"></a>3.9 拷贝文件</h4><p>   命令：cp (copy)</p><p>   格式：cp [option] filename1 filename2</p><pre><code>cp [option] filename... directorycp -r directory1 directon2</code></pre><p>   功能：把一个文件的全部内容拷贝到另一个文件，也可将一个或多个文件拷贝</p><pre><code>到另一个目录中。</code></pre><p>   选项：-i 按提示进行拷贝文件。</p><pre><code>-p 按原文件日期进行拷贝。-r 对子目录下所有文件进行拷贝。</code></pre><p>   注释：当filename1拷贝到filename2时，若filename2已经存在，则filename2</p><pre><code>的内容将被filename1覆盖。</code></pre><p>   例如：% cp filename1 filename2</p><h4 id="3-10移动文件或文件改名"><a href="#3-10移动文件或文件改名" class="headerlink" title="3.10移动文件或文件改名"></a>3.10移动文件或文件改名</h4><p>   命令：mv (move)</p><p>   格式：mv filename1 filename2</p><pre><code>mv filename... directionmv direction1 direction2</code></pre><p>   功能：改变文件或目录的名子，或把一些文件移到另一目录下。</p><p>   注释：当filename1更名为filename2时，若filename2已经存在，则filename2</p><pre><code>的内容将被filename1覆盖</code></pre><p>   例如：% mv filename1 filename2</p><h4 id="3-11删除文件"><a href="#3-11删除文件" class="headerlink" title="3.11删除文件"></a>3.11删除文件</h4><p>   命令：rm (remove)</p><p>   格式：rm filename</p><pre><code>rm -r directionrm -r –f direction(不提示)</code></pre><p>   功能：删除指定的文件或一个目录中的文件。</p><p>   注释：用-r选项时，将删除指定目录的所用文件，包括目录名。</p><p>   例如：% rm filename</p><h4 id="3-12链接文件"><a href="#3-12链接文件" class="headerlink" title="3.12链接文件"></a>3.12链接文件</h4><p>   命令：ln (link)</p><p>   格式：ln [option] filename linkname</p><pre><code>ln [option] directory pathname</code></pre><p>   功能：为文件或目录建立一个链。其中，filename和directory是源文件名和</p><pre><code>源目录名；linkname和pathname分别表示与源文件或源目录名相链接的文件或目录。</code></pre><p>   选项：-s  为文件或目录建立符号链接。</p><p>   注释：链接的目地在于，对一个文件或目录赋予两个以上的名字，使其可以出</p><pre><code>现在不同的目录中，既可以使文件或目录共享，又可以节省磁盘空间。</code></pre><p>   例如：% ln -s filename linkname</p><h4 id="3-13改变文件读取权限"><a href="#3-13改变文件读取权限" class="headerlink" title="3.13改变文件读取权限"></a>3.13改变文件读取权限</h4><p>   命令：chmod (change mode)</p><p>   格式：chmod {u|g|o|a}{+|-|=}{r|w|x} filename</p><pre><code>chmod [who][op][mode] directory</code></pre><p>   功能：改变文件的读写和执行权限。有符号法和八进制数字法。</p><p>   选项：(1)符号法：</p><pre><code>u (user)   表示用户本人。g (group)  表示同组用户。o (oher)   表示其他用户。a (all)    表示所有用户。+          用于给予指定用户的许可权限。-          用于取消指定用户的许可权限。=          将所许可的权限赋给文件。r (read)   读许可，表示可以拷贝该文件或目录的内容。w (write)  写许可，表示可以修改该文件或目录的内容。x (execute)执行许可，表示可以执行该文件或进入目录。(2)八进制数字法：此方法用三位八进制数作任选项，每位数字分别表示用户本人、同组用户、其他用户的权限，其中：4 (100)    表示可读。2 (010)    表示可写。1 (001)    表示可执行。</code></pre><p>   注释：</p><p>   例如：% chmod a+rx filename</p><pre><code>  让所有用户可以读和执行文件filename。% chmod go-rx filename  取消同组和其他用户的读和执行文件filename的权限。% chmod 741 filename  让本人可读写执行、同组用户可读、其他用户可执行文件filename。</code></pre><h4 id="3-14改变文件所有权"><a href="#3-14改变文件所有权" class="headerlink" title="3.14改变文件所有权"></a>3.14改变文件所有权</h4><p>   命令：chown (change owner)</p><p>   格式：chown username filename</p><pre><code>chown -R username directory</code></pre><p>   功能：改变文件或目录的所有权。</p><p>   选项：-R 将改变目录中所有文件及目录的拥有者。</p><p>   注释：只有文件的主人和超级用户才能改变文件的所有权。</p><p>   例如：% chown username filename</p><h4 id="3-15寻找文件"><a href="#3-15寻找文件" class="headerlink" title="3.15寻找文件"></a>3.15寻找文件</h4><p>   命令：find</p><p>   格式：find pathname [option] expression</p><p>   功能：在所给的路经名下寻找符合表达式相匹配的文件。</p><p>   选项：-name     表示文件名</p><pre><code>-user     用户名，选取该用户所属的文件-group    组名，选取该用户组属的文件-mtime n  选取n天内被修改的文件-newer fn 选取比文件名为fn更晚修改的文件</code></pre><p>   注释：</p><p>   例如：% find . -name ‘<em>abc</em>‘ -print</p><h4 id="3-16搜索文件中匹配符"><a href="#3-16搜索文件中匹配符" class="headerlink" title="3.16搜索文件中匹配符"></a>3.16搜索文件中匹配符</h4><p>   命令：grep</p><p>   格式：grep [option] pattern filenames</p><p>   功能：逐行搜索所指定的文件或标准输入，并显示匹配模式的每一行。</p><p>   选项：-v 找出模式失配的行</p><pre><code>-c 统计匹配行的数量-n 显示匹配模式的每一行</code></pre><p>   注释：</p><p>   例如：% ps -aux | grep R</p><h4 id="3-17比较文件不同"><a href="#3-17比较文件不同" class="headerlink" title="3.17比较文件不同"></a>3.17比较文件不同</h4><p>   命令：diff (difference)</p><p>   格式：diff filename1 filename2</p><p>   功能：显示两文件的不同之处。</p><p>   选项：</p><p>   注释：</p><p>   例如：% diff file1 file2</p><h4 id="3-18比较文件"><a href="#3-18比较文件" class="headerlink" title="3.18比较文件"></a>3.18比较文件</h4><p>   命令：cmp (compare)</p><p>   格式：cmp [-l] [-s] filename1 filename2</p><p>   功能：显示比较两文件不同处的信息</p><p>   选项：-l 给出两文件不同的字节数</p><pre><code>-s 不显示两文件的不同处，给出比较结果</code></pre><p>   注释：</p><p>   例如：% cmp file1 file2</p><h4 id="3-19比较文件共同处"><a href="#3-19比较文件共同处" class="headerlink" title="3.19比较文件共同处"></a>3.19比较文件共同处</h4><p>   命令：comm (common)</p><p>   格式：comm [-123] filename1 filename2</p><p>   功能：选择或拒绝比较两文件出现的共同行</p><p>   选项：-1 不显示第1列</p><pre><code>-2 不显示第2列-3 不显示第3列</code></pre><p>   注释：输出三列，第一列表示在file1中出现的行，第二列表示在file2中出现</p><pre><code>的行，第三列表示在file1和file2中共同出现的行。</code></pre><p>   例如：% comm file1 file2</p><h4 id="3-20排序文件"><a href="#3-20排序文件" class="headerlink" title="3.20排序文件"></a>3.20排序文件</h4><p>   命令：sort</p><p>   格式：sort [option] filename</p><p>   功能：将制定的文件按要求排序</p><p>   选项：-r 按字母倒排序</p><pre><code>-n 按数字的值从小到大排序-r 按当前排序规则逆序排序-f 不区分大小写排序-d 按典型顺序排序</code></pre><p>   注释：选项缺省时按ascii码顺序排序</p><p>   例如：% sort -nr file</p><h4 id="3-21压缩文件"><a href="#3-21压缩文件" class="headerlink" title="3.21压缩文件"></a>3.21压缩文件</h4><p>   命令：compress</p><p>   格式：compress [option] filename</p><p>   功能：压缩文件。</p><p>   选项：-f 强制压缩</p><pre><code>-v 压缩时显示压缩百分比</code></pre><p>   注释：</p><p>   例如：% compress files</p><h4 id="3-22解缩文件"><a href="#3-22解缩文件" class="headerlink" title="3.22解缩文件"></a>3.22解缩文件</h4><p>   命令：uncompress</p><pre><code>zcat</code></pre><p>   格式：compress [option] filename</p><pre><code>zcat filename</code></pre><p>   功能：展开或显示压缩文件。</p><p>   选项：-c 不改变文件写到标准输出</p><p>   注释：zcat命令相当于uncompress -c</p><p>   例如：% uncomproess files.Z</p><h4 id="3-23显示文件类型"><a href="#3-23显示文件类型" class="headerlink" title="3.23显示文件类型"></a>3.23显示文件类型</h4><p>   命令：file</p><p>   格式：file filename …</p><p>   功能：按文件内容来推测文件类型，如text，ascii，C，executable，core。</p><p>   选项：</p><p>   注释：</p><p>   例如：% file *</p><h4 id="3-24建立档案文件"><a href="#3-24建立档案文件" class="headerlink" title="3.24建立档案文件"></a>3.24建立档案文件</h4><p>   命令：tar (tape archive)</p><p>   格式：tar [option] tarfile filename</p><p>   功能：建立文件的存档或读存档文件。</p><p>   选项：-c 建立一个新的档案文件</p><pre><code>-x 从档案文件中读取文件-v 显示处理文件的信息-f 指定档案文件名，缺省时为磁带机即/dev/rmt/0-t 列出存档文件的信息</code></pre><p>   注释：</p><p>   例如：% tar cvf tarfile .</p><pre><code>% tar xvf tarfile% tar tvf tarfile</code></pre><h4 id="3-25磁带拷贝文件"><a href="#3-25磁带拷贝文件" class="headerlink" title="3.25磁带拷贝文件"></a>3.25磁带拷贝文件</h4><p>   命令：dd</p><p>   格式：dd [option=value]</p><p>   功能：用磁带机转换或拷贝文件。</p><p>   选项：if=name 指定输入文件名</p><pre><code>of=name 指定输出文件名ibs=n   指定输入文件块大小为n字节（缺省为512字节）obs=n   指定输出文件块大小为n字节（缺省为512字节）</code></pre><p>   注释：</p><p>   例如：% dd if=filename of=/dev/rmt/0</p><pre><code>% dd if=/dev/rmt/0 of=filename ibs=1024</code></pre><h4 id="3-26修改文件日期"><a href="#3-26修改文件日期" class="headerlink" title="3.26修改文件日期"></a>3.26修改文件日期</h4><p>   命令：touch</p><p>   格式：touch filenae</p><p>   功能：改变文件的日期，不对文件的内容做改动，若文件不存在则建立新文件。</p><p>   选项：</p><p>   注释：</p><p>   例如：% touch file</p><h4 id="3-27统计文件字数"><a href="#3-27统计文件字数" class="headerlink" title="3.27统计文件字数"></a>3.27统计文件字数</h4><p>   命令：wc (word characters)</p><p>   格式：wc [option] filename</p><p>   功能：统计文件中的文件行数、字数和字符数。</p><p>   选项：-l 统计文件的行数</p><p> -w 统计文件的字数</p><p> -c 统计文件的字符数</p><p>   注释：若缺省文件名则指标准输入</p><p>   例如：% wc file</p><h4 id="3-28检查拼写"><a href="#3-28检查拼写" class="headerlink" title="3.28检查拼写"></a>3.28检查拼写</h4><p>   命令：spell (spelling)</p><p>   格式：spell [option] filename …</p><p>   功能：检查文件中的拼写错误</p><p>   选项：-b 按英国拼法检查</p><pre><code>-v 显示字面上不在拼法字典上的词-x 显示每一个可能合理的词根</code></pre><p>   注释：</p><p>   例如：% spell file</p><h3 id="第四章-有关状态信息命令"><a href="#第四章-有关状态信息命令" class="headerlink" title="第四章  有关状态信息命令"></a>第四章  有关状态信息命令</h3><h4 id="4-1显示当前注册的用户"><a href="#4-1显示当前注册的用户" class="headerlink" title="4.1显示当前注册的用户"></a>4.1显示当前注册的用户</h4><p>   命令：w</p><p>   格式：w [option] [username]</p><p>   功能：显示当前正在使用系统的用户名、注册时间和当前执行的命令。</p><p>   选项：-h 不显示起始行</p><pre><code>-s 按短格式显示-l 按长格式显示（缺省设置）</code></pre><p>   注释：</p><p>   例如：% w</p><h4 id="4-2-显示都谁登录到机器上"><a href="#4-2-显示都谁登录到机器上" class="headerlink" title="4.2 显示都谁登录到机器上"></a>4.2 显示都谁登录到机器上</h4><p>   命令：who</p><p>   格式：who</p><p>   功能：显示当前正在系统中的所有用户名字，使用终端设备号，注册时间。</p><p>   例如：% who</p><h4 id="4-3-显示当前终端上的用户名"><a href="#4-3-显示当前终端上的用户名" class="headerlink" title="4.3 显示当前终端上的用户名"></a>4.3 显示当前终端上的用户名</h4><p>   命令：whoami</p><p>   格式：whoami</p><p>   功能：显示出当前终端上使用的用户。</p><p>   例如：% whoami</p><h4 id="4-4-确定命令位置"><a href="#4-4-确定命令位置" class="headerlink" title="4.4 确定命令位置"></a>4.4 确定命令位置</h4><p>   命令：whereis</p><p>   格式：whereis command</p><p>   功能：确定一个命令的二进制行码、源码及联机手册所在的位置。</p><p>   选项：</p><p>   注释：</p><p>   例如：% whereis ls</p><h4 id="4-5-查找非标准命令"><a href="#4-5-查找非标准命令" class="headerlink" title="4.5 查找非标准命令"></a>4.5 查找非标准命令</h4><p>   命令：which</p><p>   格式：which command</p><p>   功能：查找非标准命令，即使用别名或系统中标准命令集之外的命令。</p><p>   选项：</p><p>   注释：</p><p>   例如：% which ls</p><h4 id="4-6-显示日期"><a href="#4-6-显示日期" class="headerlink" title="4.6 显示日期"></a>4.6 显示日期</h4><p>   命令：date</p><p>   格式：date</p><p>   功能：显示或设置日期和时间。</p><p>   选项：</p><p>   注释：只有超级用户有权设置日期。</p><p>   例如：% date</p><h4 id="4-7-显示日历"><a href="#4-7-显示日历" class="headerlink" title="4.7 显示日历"></a>4.7 显示日历</h4><p>   命令：cal (calendar)</p><p>   格式：cal [month] year</p><p>   功能：显示某年内指定的日历</p><p>   选项：</p><p>   注释：</p><p>   例如：% cal 1998</p><h4 id="4-8-计算命令执行时间"><a href="#4-8-计算命令执行时间" class="headerlink" title="4.8 计算命令执行时间"></a>4.8 计算命令执行时间</h4><p>   命令：time</p><p>   格式：time [command]</p><p>   功能：计算程序或命令在执行其间所用的时间。</p><p>   选项：</p><p>   注释：计算出的时间为：real是命令在系统驻留的总时间，user是命令消耗CPU</p><pre><code>的时间，sys是命令I/O所开销的时间。</code></pre><p>   例如：% time myprog</p><h4 id="4-9-查询帐目"><a href="#4-9-查询帐目" class="headerlink" title="4.9 查询帐目"></a>4.9 查询帐目</h4><p>   命令：acseek (account seek)</p><p>   格式：acseek [-d n] [-m usersname]</p><p>   功能：查询本月的用户帐目。</p><p>   选项：-d n</p><pre><code>-m username</code></pre><p>   注释：若没有选项，则显示本人当月的帐单。</p><p>   例如：% acseek</p><h4 id="4-10显示用户标识"><a href="#4-10显示用户标识" class="headerlink" title="4.10显示用户标识"></a>4.10显示用户标识</h4><p>   命令：id</p><p>   格式：id [option] [user]</p><p>   功能：显示用户标识及用户所属的所有组。</p><p>   选项：-a 显示用户名、用户标识及用户所属的所有组</p><p>   注释：</p><p>   例如：% id username</p><h4 id="4-11显示主机标识"><a href="#4-11显示主机标识" class="headerlink" title="4.11显示主机标识"></a>4.11显示主机标识</h4><p>   命令：hostid</p><p>   格式：hostid</p><p>   功能：显示主机的唯一标识，是被用来限时软件的使用权限，不可改变。</p><p>   选项：</p><p>   注释：</p><p>   例如：% hostid</p><h4 id="4-12显示主机名"><a href="#4-12显示主机名" class="headerlink" title="4.12显示主机名"></a>4.12显示主机名</h4><p>   命令：hostname</p><p>   格式：hostname</p><p>   功能：显示或设置主机名。</p><p>   选项：</p><p>   注释：只有超级用户才能设置主机名。</p><p>   例如：% hostname</p><h4 id="4-13显示进程"><a href="#4-13显示进程" class="headerlink" title="4.13显示进程"></a>4.13显示进程</h4><p>   命令：ps</p><p>   格式：ps [option]</p><p>   功能：显示系统中进程的信息。包括进程ID、控制进程终端、执行时间和命令。</p><p>   选项：-a 列出当前系统中所有进程的信息</p><pre><code>-l 显示一个长列表-e 显示当前运行的每一个进程信息-f 显示一个完整的列表</code></pre><p>   注释：</p><p>   例如：% ps -ef</p><h4 id="4-14显示磁盘空间"><a href="#4-14显示磁盘空间" class="headerlink" title="4.14显示磁盘空间"></a>4.14显示磁盘空间</h4><p>   命令：df (disk free)</p><p>   格式：df [option]</p><p>   功能：显示磁盘空间的使用情况，包括文件系统安装的目录名、块设备名、总</p><pre><code>字节数、已用字节数、剩余字节数占用百分比。</code></pre><p>   选项：-i 显示已用和未用的字节数</p><pre><code>-k 显示磁盘空间的使用信息</code></pre><p>   注释：</p><p>   例如：% df -k</p><h4 id="4-15显示文件盘空间"><a href="#4-15显示文件盘空间" class="headerlink" title="4.15显示文件盘空间"></a>4.15显示文件盘空间</h4><p>   命令：du (disk usage)</p><p>   格式：du [option] [filename]</p><p>   功能：显示目录或文件所占磁盘空间大小</p><p>   选项：-a 显示所有文件的大小</p><pre><code>-s 显示制定目录所占磁盘大小</code></pre><p>   注释：</p><p>   例如：% du</p><h4 id="4-16显示盘空间限制"><a href="#4-16显示盘空间限制" class="headerlink" title="4.16显示盘空间限制"></a>4.16显示盘空间限制</h4><p>   命令：quota</p><p>   格式：quota -v [username]</p><p>   功能：显示用户的磁盘空间限制和使用情况。包扩盘空间的限额和已使用数，</p><pre><code>允许建立的节点数限额和使用节点数。</code></pre><p>   选项：-v 查看用户在系统中的盘空间</p><p>   注释：只有超级用户可以显示任何用户的使用情况，用edquota命令可修改。</p><p>   例如：% quota -v</p><h4 id="4-17显示终端选项"><a href="#4-17显示终端选项" class="headerlink" title="4.17显示终端选项"></a>4.17显示终端选项</h4><p>   命令：stty</p><p>   格式：stty [option]</p><p>   功能：显示或设置终端的任选项。</p><p>   选项：-a 显示所有设置情况</p><pre><code>-g 显示当前设置</code></pre><p>   注释：</p><p>   例如：% stty -a</p><h4 id="4-18显示终端名"><a href="#4-18显示终端名" class="headerlink" title="4.18显示终端名"></a>4.18显示终端名</h4><p>   命令：tty</p><p>   格式：tty</p><p>   功能：显示终端名</p><p>   选项：</p><p>   注释：</p><p>   例如：% tty</p><h4 id="4-19回忆命令"><a href="#4-19回忆命令" class="headerlink" title="4.19回忆命令"></a>4.19回忆命令</h4><p>   命令：history</p><p>   格式：history</p><p>   功能：帮助用户回忆执行过的命令。</p><p>   选项：</p><p>   注释：</p><p>   例如：% history</p><h4 id="4-20联机帮助手册"><a href="#4-20联机帮助手册" class="headerlink" title="4.20联机帮助手册"></a>4.20联机帮助手册</h4><p>   命令：man (manual)</p><p>   格式：man command_name</p><p>   功能：显示参考手册，提供联机帮助信息。</p><p>   选项：</p><p>   注释：-k 按制定关键字查询有关命令</p><p>   例如：% man tar</p><h4 id="4-21建立别名"><a href="#4-21建立别名" class="headerlink" title="4.21建立别名"></a>4.21建立别名</h4><p>   命令：alias</p><p>   格式：alias newname name</p><p>   功能：用户可以将常用的命令用自己习惯的名称来重新命名。</p><p>   选项：</p><p>   注释：</p><p>   例如：% alias dir ‘ls -F’</p><h3 id="第五章-网络命令"><a href="#第五章-网络命令" class="headerlink" title="第五章  网络命令"></a>第五章  网络命令</h3><h4 id="5-1显示网络地址"><a href="#5-1显示网络地址" class="headerlink" title="5.1显示网络地址"></a>5.1显示网络地址</h4><p>   命令：arp</p><p>   格式：arp hostname</p><p>   功能：显示系统当前访问的远程住机名、IP地址和硬件地址。</p><p>   选项：-a</p><p>   注释：</p><p>   例如：% arp -a</p><h4 id="5-2-显示用户信息"><a href="#5-2-显示用户信息" class="headerlink" title="5.2 显示用户信息"></a>5.2 显示用户信息</h4><p>   命令：finger</p><p>   格式：finger username</p><p>   功能：显示网上用户使用机器的情况，包括用户何时登录和最后一次注册记录。</p><p>   选项：</p><p>   注释：</p><p>   例如：% finger username</p><h4 id="5-3-网上对话"><a href="#5-3-网上对话" class="headerlink" title="5.3 网上对话"></a>5.3 网上对话</h4><p>   命令：talk</p><p>   格式：talk username</p><p>   功能：在网上与另一用户进行对话。</p><p>   选项：</p><p>   注释：对话时系统把终端分为上下两部分，上半部显示自己键入信息，下半部</p><pre><code>显示对方用户键入的信息。键入delete或Ctrl+C则结束对话。</code></pre><p>   例如：% talk username</p><h4 id="5-4-允许或拒绝接受信息"><a href="#5-4-允许或拒绝接受信息" class="headerlink" title="5.4 允许或拒绝接受信息"></a>5.4 允许或拒绝接受信息</h4><p>   命令：mesg (message)</p><p>   格式：mesg [n/y]</p><p>   功能：允许或拒绝其它用户向自己所用的终端发送信息。</p><p>   选项：n 拒绝其它用户向自己所用的终端写信息</p><pre><code>y 允许其它用户向自己所用的终端写信息（缺省值）</code></pre><p>   注释：</p><p>   例如：% mesg n</p><h4 id="5-5-给其他用户写信息"><a href="#5-5-给其他用户写信息" class="headerlink" title="5.5 给其他用户写信息"></a>5.5 给其他用户写信息</h4><p>   命令：write</p><p>   格式：write username [ttyname]</p><p>   功能：给其他用户的终端写信息。</p><p>   选项：</p><p>   注释：若对方没有拒绝，两用户可进行交谈，键入EOF或Ctrl+C则结束对话。</p><p>   例如：write username</p><h4 id="5-6-测试网路"><a href="#5-6-测试网路" class="headerlink" title="5.6 测试网路"></a>5.6 测试网路</h4><p>   命令：ping</p><p>   格式：ping hostname</p><p>   功能：向网络上的主机发送ICMP ECHO REQUEST信息包，检测网络是否畅通。</p><p>   选项：</p><p>   注释：被测试的主机名可用IP地址。当丢包率为（100% packet loss)则说明</p><pre><code>当前网络不通。</code></pre><p>   例如：% ping hostsname</p><h4 id="5-7-远程shell命令"><a href="#5-7-远程shell命令" class="headerlink" title="5.7 远程shell命令"></a>5.7 远程shell命令</h4><p>   命令：rsh (remote shell)</p><p>   格式：rsh hostsname command</p><p>   功能：在本地机执行远程主机的shell命令。</p><p>   选项：</p><p>   注释：</p><p>   例如：% rsh hostname who</p><h4 id="5-8-远程考贝文件"><a href="#5-8-远程考贝文件" class="headerlink" title="5.8 远程考贝文件"></a>5.8 远程考贝文件</h4><p>   命令：rcp (remote copy)</p><p>   格式：rcp [-r] file newfile</p><p>   功能：拷贝远程主机上的文件。</p><p>   选项：-r 拷贝目录</p><p>   注释：</p><p>   例如：% rcp hostname:/tmp/file .</p><h4 id="5-9-远程注册"><a href="#5-9-远程注册" class="headerlink" title="5.9 远程注册"></a>5.9 远程注册</h4><p>   命令：rlogin (remote login)</p><p>   格式：rlogin hostname [-l username]</p><p>   功能：注册到远程主机上。</p><p>   选项：-l username 注册到另一用户</p><p>   注释：要有用户口令才能注册。</p><p>   例如：% rlogin hostname</p><h4 id="5-10-远程登录"><a href="#5-10-远程登录" class="headerlink" title="5.10 远程登录"></a>5.10 远程登录</h4><p>   命令：telnet</p><p>   格式：telnet hostname</p><p>   功能：远程登录到网上其它主机。</p><p>   选项：</p><p>   注释：支持不同的操作系统。</p><p>   例如：% telnet bbs.tsinghua.edu.cn</p><h4 id="5-11文件传输"><a href="#5-11文件传输" class="headerlink" title="5.11文件传输"></a>5.11文件传输</h4><p>   命令：ftp (file transfer program)</p><p>   格式：ftp hostname</p><p>   功能：网络文件传输及远程操作。</p><p>   选项：ftp命令：</p><pre><code>?/help        ftp的联机帮助open hostname 打开制定的远程机cd [dirname]  进入远程机的目录lcd [dirname] 设置本地机的目录dir/ls        显示远程的目录文件binary        以二进制方式进行传输get/mget      从远程机取一个或多个文件put/mput      向远程机送一个或多个文件prompt        打开或关闭多个文件传送时的交互提示close         关闭与远程机的连接quit          退出ftp</code></pre><p>   注释：</p><p>   例如：% ftp hostname</p><h4 id="5-12显示到网络主机的路经"><a href="#5-12显示到网络主机的路经" class="headerlink" title="5.12显示到网络主机的路经"></a>5.12显示到网络主机的路经</h4><p>   命令：traceroute</p><p>   格式：traceroute hostname</p><p>   功能：显示本机到达某一网络主机所经的路经和使用的时间。</p><p>   选项：</p><p>   注释：</p><p>   例如：% traceroute hostname</p><h3 id="第六章-Mail命令"><a href="#第六章-Mail命令" class="headerlink" title="第六章  Mail命令"></a>第六章  Mail命令</h3><h4 id="6-1-发送或接受电子邮件"><a href="#6-1-发送或接受电子邮件" class="headerlink" title="6.1 发送或接受电子邮件"></a>6.1 发送或接受电子邮件</h4><p>   命令：mail/Mail/mailx</p><p>   格式：mail username （发送）</p><pre><code>mail [option] （接受）</code></pre><p>   功能：向网上用户发送或接受电子邮件。</p><p>   选项：-r 邮件按先进先出顺序排序。缺省时为后进先出顺序排序</p><pre><code>-q 中断mail后不改变信箱内容-p 显示mail每份邮件，不显示提示信息-f 从邮件格式文件中读邮件</code></pre><p>   注释：mail命令：</p><pre><code>?        显示mail帮助命令h        邮件标题列表p        显示当前邮件n        显示下一邮件r [uers] 给发信人或用户回信s [file] 将邮件保存到文件中，保存标题信息w [file] 将邮件写到文件中，不保存标题信息d [n]    删除当前邮件或第n封邮件  q        将未删除的邮件存入mbox文件，并退出mailx        所有邮件不作修改，退出mail</code></pre><p>   例如：% mail -s “Subjet …” username &lt; messages</p><h4 id="6-2-显示邮件队列"><a href="#6-2-显示邮件队列" class="headerlink" title="6.2 显示邮件队列"></a>6.2 显示邮件队列</h4><p>   命令：mailq</p><p>   格式：mailq</p><p>   功能：查看正在发送或接收邮件的排队情况。</p><p>   选项：</p><p>   注释：此命令一般在系统或网络不同时使用。</p><p>   例如：% mailq</p><h4 id="6-3-邮件操作命令"><a href="#6-3-邮件操作命令" class="headerlink" title="6.3 邮件操作命令"></a>6.3 邮件操作命令</h4><p>   命令：pine</p><p>   格式：pine</p><p>   功能：对自己邮件操作的程序。</p><p>   选项：</p><p>   注释：此操作是在菜单提示下进行。</p><p>   例如：% pine</p><h3 id="第七章-运行程序命令"><a href="#第七章-运行程序命令" class="headerlink" title="第七章  运行程序命令"></a>第七章  运行程序命令</h3><h4 id="7-1-按时间执行命令"><a href="#7-1-按时间执行命令" class="headerlink" title="7.1 按时间执行命令"></a>7.1 按时间执行命令</h4><p>   命令：at/batch</p><p>   格式：at [option] [time] [data] [file]</p><p>   功能：在制定的时间执行命令或命令文件。</p><p>   选项：-r 取消以前用at命令提交的作业</p><pre><code>-l 显示用at命令提交的所有作业状态和作业号</code></pre><p>   注释：</p><p>   例如：at 0030 Jan 20 myfile</p><h4 id="7-2-参数回至标准输出"><a href="#7-2-参数回至标准输出" class="headerlink" title="7.2 参数回至标准输出"></a>7.2 参数回至标准输出</h4><p>   命令：echo</p><p>   格式：echo [-n] [arguments]</p><p>   功能：将参数即字符串至标准输出即显示器</p><p>   选项：-n 不向标准输出回送换行符</p><p>   注释：</p><p>   例如：echo *</p><h4 id="7-3-复制至文件"><a href="#7-3-复制至文件" class="headerlink" title="7.3 复制至文件"></a>7.3 复制至文件</h4><p>   命令：tee</p><p>   格式：tee [option] filename</p><p>   功能：至标准输出的同时复制至文件</p><p>   选项：-a 输出时附加到文件中</p><pre><code>-i 不理采中断</code></pre><p>   注释：</p><p>   例如：% who | tee file</p><h4 id="7-4-给程序优先级"><a href="#7-4-给程序优先级" class="headerlink" title="7.4 给程序优先级"></a>7.4 给程序优先级</h4><p>   命令：nice</p><p>   格式：nice [-n] command  </p><p>   功能：以低的优先级运行程序或命令。</p><p>   选项：-n 为优先级0-20从高到低</p><p>   注释：</p><p>   例如：nice -5 progame</p><h4 id="7-5-终止进程"><a href="#7-5-终止进程" class="headerlink" title="7.5 终止进程"></a>7.5 终止进程</h4><p>   命令：kill</p><p>   格式：kill [option] pid</p><p>   功能：向指定的进程送信号或终止进程。</p><p>   选项：-9  强行终止进程</p><pre><code>-17 将进程挂起-19 将挂起的进程激活</code></pre><p>   注释：pid标示进程号，可由ps命令得到。</p><p>   例如：% kill -9 pid</p><h4 id="7-6-进程睡眠"><a href="#7-6-进程睡眠" class="headerlink" title="7.6 进程睡眠"></a>7.6 进程睡眠</h4><p>   命令：sleep</p><p>   格式：sleep time</p><p>   功能：使当前正在执行的进程在规定的时间内处于睡眠。</p><p>   选项：</p><p>   注释：time为进程将睡眠的时间，以秒为单位。</p><p>   例如：% sleep time</p><h4 id="7-7-显示作业状态"><a href="#7-7-显示作业状态" class="headerlink" title="7.7 显示作业状态"></a>7.7 显示作业状态</h4><p>   命令：jobs</p><p>   格式：jobs [-l]</p><p>   功能：显示当前作业的状态</p><p>   选项：-l 长列表显示作业状态，包括所有者、作业号、终端和状态。</p><p>   注释：作业状态为 +表示最近被停止的作业，-表示先前的作业，exit 1表示</p><pre><code>退出的作业，job# done表示已完成的作业。</code></pre><p>   例如：% jobs</p><h4 id="7-8-前台作业"><a href="#7-8-前台作业" class="headerlink" title="7.8 前台作业"></a>7.8 前台作业</h4><p>   命令：fg</p><p>   格式：fg job#</p><p>   功能：将指定作业号的作业转入前台运行。job#表示作业号。</p><p>   选项：</p><p>   注释：</p><p>   例如：% fg job#</p><h4 id="7-9-后台作业"><a href="#7-9-后台作业" class="headerlink" title="7.9 后台作业"></a>7.9 后台作业</h4><p>   命令：bg/&amp;</p><p>   格式：bg job#</p><pre><code>command &amp;</code></pre><p>   功能：将指定作业号的作业或命令推到后台运行。</p><p>   选项：</p><p>   注释：</p><p>   例如：% bg job#</p><h4 id="7-10挂起作业"><a href="#7-10挂起作业" class="headerlink" title="7.10挂起作业"></a>7.10挂起作业</h4><p>   命令：stop</p><p>   格式：stop job#</p><p>   功能：将指定作业号的后台作业挂起.</p><p>   选项：</p><p>   注释：</p><p>   例如：% stop job#</p><h3 id="第八章-程序编译执行命令"><a href="#第八章-程序编译执行命令" class="headerlink" title="第八章  程序编译执行命令"></a>第八章  程序编译执行命令</h3><h4 id="8-1-C程序编译"><a href="#8-1-C程序编译" class="headerlink" title="8.1 C程序编译"></a>8.1 C程序编译</h4><p>   命令：cc</p><p>   格式：cc [option] filename</p><p>   功能：编译或链接指定的C文件。</p><p>   选项：-o  指定输出文件名，缺省时为a.out</p><pre><code>-c  只编译，产生.o的目标文件-g  产生用于符号测试的执行文件-lm 进行连接cc数学库-O  进行代码的一般优化-O2 二级优化</code></pre><p>   注释：C编译器参考手册可用命令man cc查看。</p><p>   例如：% cc -o test test.c</p><h4 id="8-2-C-程序编译"><a href="#8-2-C-程序编译" class="headerlink" title="8.2 C++程序编译"></a>8.2 C++程序编译</h4><p>   命令：CC</p><p>   格式：CC [option] filename</p><p>   功能：编译或链接指定的C++文件。</p><p>   选项：同C编译选项</p><p>   注释：C++编译器参考手册可用命令man CC查看。</p><p>   例如：% CC -O2 test.cc</p><h4 id="8-3-FORTRAN77程序编译"><a href="#8-3-FORTRAN77程序编译" class="headerlink" title="8.3 FORTRAN77程序编译"></a>8.3 FORTRAN77程序编译</h4><p>   命令：f77</p><p>   格式：f77 [option] filename</p><p>   功能：编译或链接指定的Fortran文件</p><p>   选项：-o  指定输出文件名，缺省时为a.out</p><pre><code>-c  只编译，产生.o的目标文件-g  产生用于符号测试的执行文件-O0 不进行代码优化-O1 尽快进行代码优化-O2 二级优化-O3 三级优化</code></pre><p>   注释：FORTRAN77编译器参考手册可用命令man f77查看</p><p>   例如：% f77 -c test.f</p><h4 id="8-4-FORTRAN90程序编译"><a href="#8-4-FORTRAN90程序编译" class="headerlink" title="8.4 FORTRAN90程序编译"></a>8.4 FORTRAN90程序编译</h4><p>   命令：f90</p><p>   格式：f90 [option] filename</p><p>   功能：编译或链接指定的Fortran90文件</p><p>   选项：同FORTRAN77编译选项</p><p>   注释：FORTRAN90编译器参考手册可用命令man f90查看</p><p>   例如：% f90 -O -o test test.f</p><h4 id="8-5-GNU程序编译"><a href="#8-5-GNU程序编译" class="headerlink" title="8.5 GNU程序编译"></a>8.5 GNU程序编译</h4><p>   命令： gcc      (GNU C)</p><pre><code>g++/c++  (GNU C++)g77      (GNU FORTRAN77)</code></pre><p>   格式：gcc [option] filename</p><pre><code>g++ [option] filenameg77 [option] filename</code></pre><p>   功能：编译或链接指定的编译文件。</p><p>   选项： -o  指定输出文件名，缺省时为a.out</p><pre><code>-c  只编译，产生.o的目标文件-O  进行代码的一般优化-O2 二级优化</code></pre><p>   注释：GNU编译器参考手册可进入emacs中info菜单下查看。</p><p>   例如：% gcc -o test test.c</p><h4 id="8-6-运行文件"><a href="#8-6-运行文件" class="headerlink" title="8.6 运行文件"></a>8.6 运行文件</h4><p>   格式：a.out</p><pre><code>filename</code></pre><p>   功能：源程序经编译后产生目标代码文件，放在a.out文件或指定输出文件名。<br><code>`</code></p>]]></content>
      
      
      <categories>
          
          <category> mac </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sublime Text mac下常用快捷键</title>
      <link href="/2017/09/sublime%20text%20mac+kuaijiejian/"/>
      <url>/2017/09/sublime%20text%20mac+kuaijiejian/</url>
      
        <content type="html"><![CDATA[<p>Sublime Text mac下常用快捷键 </p><a id="more"></a> <h2 id="符号"><a href="#符号" class="headerlink" title="符号"></a>符号</h2><p>⌘：command<br>⌃：control<br>⌥：option<br>⇧：shift<br>↩：enter<br>⌫：delete</p><h2 id="（打开-关闭-前往）快捷键-功能"><a href="#（打开-关闭-前往）快捷键-功能" class="headerlink" title="（打开/关闭/前往）快捷键 功能"></a>（打开/关闭/前往）快捷键 功能</h2><p>⌘⇧N 打开一个新的sublime窗口<br>⌘N 新建文件<br>⌘⇧W 关闭sublime，关闭所有文件<br>⌘W 关闭当前文件<br>⌘P 跳转、前往文件、前往项目、命令提示、前往method等等（Goto anything）<br>⌘⇧T 重新打开最近关闭的文件<br>⌘T 前往文件<br>⌘⌃P 前往项目<br>⌘R 前往method<br>⌘⇧P 命令提示<br>⌃G 前往行<br>⌘KB 开关侧栏<br>⌃` 打开控制台<br>⌃- 光标跳回上一个位置<br>⌃⇧- 光标恢复位置</p><h2 id="（编辑）快捷键-功能"><a href="#（编辑）快捷键-功能" class="headerlink" title="（编辑）快捷键 功能"></a>（编辑）快捷键 功能</h2><p>⌘A 全选<br>⌘L 选择行（重复按下将下一行加入选择）<br>⌘D 选择词（重复按下时多重选择相同的词进行多重编辑）<br>⌃⇧M 选择括号的内容<br>⌘⇧↩ 在当前行前插入新行<br>⌘↩ 在当前行后插入新行<br>⌃⇧K 删除行<br>⌘KK 从光标处删除至行尾<br>⌘K⌫ 从光标处删除至行首<br>⌘⇧D 复制（多）行<br>⌘J 合并（多）行<br>⌘KU 改为大写<br>⌘KL 改为小写<br>⌘C 复制<br>⌘X 剪切<br>⌘V 粘贴<br>⌘/ 注释<br>⌘⌥/ 块注释<br>⌘Z 撤销<br>⌘Y 恢复撤销<br>⌘⇧V 粘贴并自动缩进<br>⌘⌥V 从历史中选择粘贴<br>⌃M 跳转至对应的括号<br>⌘U 软撤销（可撤销光标移动）<br>⌘⇧U 软重做（可重做光标移动）<br>⌘⇧S 保存所有文件<br>⌘] 向右缩进<br>⌘[ 向左缩进<br>⌘⌥T 特殊符号集<br>⌘⇧L 将选区转换成多个单行选区</p><h2 id="（查找-替换）快捷键-功能"><a href="#（查找-替换）快捷键-功能" class="headerlink" title="（查找/替换）快捷键 功能"></a>（查找/替换）快捷键 功能</h2><p>⌘f 查找<br>⌘⌥f 查找并替换<br>⌘⌥g 查找下一个符合当前所选的内容<br>⌘⌃g 查找所有符合当前选择的内容进行多重编辑<br>⌘⇧F 在所有打开的文件中进行查找</p><h2 id="（拆分窗口-标签页）快捷键-功能"><a href="#（拆分窗口-标签页）快捷键-功能" class="headerlink" title="（拆分窗口/标签页）快捷键 功能"></a>（拆分窗口/标签页）快捷键 功能</h2><p>⌘⌥[1,2,3,4] 单列、双列、三列、四列<br>⌘⌥5 网格（4组）<br>⌃[1,2,3,4] 焦点移动到相应的组（分屏编号）<br>⌃⇧[1,2,3,4] 将当前文件移动到相应的组（分屏编号）<br>⌘[1,2,3,4] 选择相应的标签页</p><h2 id="（快捷操作）快捷键-功能"><a href="#（快捷操作）快捷键-功能" class="headerlink" title="（快捷操作）快捷键 功能"></a>（快捷操作）快捷键 功能</h2><p>⌘⌃上下键 两行交换位置<br>⌘KB 显示/隐藏侧边</p>]]></content>
      
      
      <categories>
          
          <category> sublime </category>
          
      </categories>
      
      
        <tags>
            
            <tag> sublimetext3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>tmux鼠标配置出现错误unknown option: mode-mouse</title>
      <link href="/2017/09/tmux-mouse%20option/"/>
      <url>/2017/09/tmux-mouse%20option/</url>
      
        <content type="html"><![CDATA[<p>鼠标配置出现错误unknown option: mode-mouse 解决办法， 如下<br><a id="more"></a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">setw -g mode-mouse on</span><br><span class="line">set -g mouse-select-pane on</span><br><span class="line">set -g mouse-resize-pane on</span><br><span class="line">set -g mouse-select-window off</span><br></pre></td></tr></table></figure><p>出现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unknown option: mode-mouse</span><br></pre></td></tr></table></figure></p><p>错误；</p><p>可以用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set-option -g mouse on</span><br></pre></td></tr></table></figure><p>代替以上代码就OK了！</p>]]></content>
      
      
      <categories>
          
          <category> tmux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tmux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>input标签禁止输入隐藏光标</title>
      <link href="/2017/09/input+onfocus/"/>
      <url>/2017/09/input+onfocus/</url>
      
        <content type="html"><![CDATA[<p>如题</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;INPUT class=""  value="" name= "" readonly onfocus="this.blur()" &gt;</span><br></pre></td></tr></table></figure> <a id="more"></a><p> readonly  onfocus=”this.blur()”  分别是禁止编辑和取消光标</p>]]></content>
      
      
      <categories>
          
          <category> html </category>
          
      </categories>
      
      
        <tags>
            
            <tag> input </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git总结</title>
      <link href="/2017/09/git+403/"/>
      <url>/2017/09/git+403/</url>
      
        <content type="html"><![CDATA[<h2 id="Git-403问题总结："><a href="#Git-403问题总结：" class="headerlink" title="Git 403问题总结："></a>Git 403问题总结：</h2><p>1.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ Git push origin :dev-xx</span><br><span class="line"></span><br><span class="line">remote: Permission to xxx/xxx.git denied to xxx.</span><br><span class="line"></span><br><span class="line">fatal: unable to access &apos;https://github.com/xxx/xxx.git/&apos;: The requested URL returned error: 403</span><br></pre></td></tr></table></figure></p><a id="more"></a><p>问题原因主要是电脑上有两个github账号时，每个账号对应不同的ssh，比如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">he:.ssh he$ ls</span><br><span class="line"></span><br><span class="line">config id_rsa.pubid_rsa_he.pub</span><br><span class="line"></span><br><span class="line">id_rsa id_rsa_heknown_hosts</span><br><span class="line"></span><br><span class="line">he:.ssh he$ cat config</span><br></pre></td></tr></table></figure><ol start="2"><li>Default GitHub</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line"></span><br><span class="line">  HostName github.com</span><br><span class="line"></span><br><span class="line">  User git</span><br><span class="line"></span><br><span class="line">  IdentityFile ~/.ssh/id_rsa</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Host github-he</span><br><span class="line"></span><br><span class="line">  HostName github.com</span><br><span class="line"></span><br><span class="line">  User git</span><br><span class="line"></span><br><span class="line">  IdentityFile ~/.ssh/id_rsa_he</span><br></pre></td></tr></table></figure><p>这时需要切换成对应的ssh</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git remote rm origin</span><br><span class="line">$ git remote add origin git@github-he:xxx/xxx.git</span><br></pre></td></tr></table></figure><p>然后再执行上次的命令，就会成功了，如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin :dev-xxx</span><br><span class="line">To git@github-he:xxx/xxx.git</span><br><span class="line"> - [deleted]         dev-xxx</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mac git 中文配置</title>
      <link href="/2017/09/mac+git+zh-cn/"/>
      <url>/2017/09/mac+git+zh-cn/</url>
      
        <content type="html"><![CDATA[<p>很多机器已经自带或者已经安装git，按下面的操作<br><a id="more"></a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew uninstall git</span><br><span class="line"></span><br><span class="line">brew install git --with-gettext</span><br></pre></td></tr></table></figure><p>重新加上<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--with-gettext</span><br></pre></td></tr></table></figure></p><p>  选项装了之后，就有翻译文件了。再像这样：</p><p><img src="/2017/09/mac+git+zh-cn/1.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python - 格式化(format())输出</title>
      <link href="/2017/09/python+format/"/>
      <url>/2017/09/python+format/</url>
      
        <content type="html"><![CDATA[<p>Python函数format() - 格式化输出，例如<br><a id="more"></a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">25</span>  </span><br><span class="line">name = <span class="string">'Caroline'</span>  </span><br><span class="line">  </span><br><span class="line">print(<span class="string">'&#123;0&#125; is &#123;1&#125; years old. '</span>.format(name, age)) \<span class="comment">#输出参数  </span></span><br><span class="line">print(<span class="string">'&#123;0&#125; is a girl. '</span>.format(name))  </span><br><span class="line">print(<span class="string">'&#123;0:.3&#125; is a decimal. '</span>.format(<span class="number">1</span>/<span class="number">3</span>)) \<span class="comment">#小数点后三位  </span></span><br><span class="line">print(<span class="string">'&#123;0:\_^11&#125; is a 11 length. '</span>.format(name)) \<span class="comment">#使用_补齐空位  </span></span><br><span class="line">print(<span class="string">'&#123;first&#125; is as &#123;second&#125;. '</span>.format(first=name, second=<span class="string">'Wendy'</span>)) \<span class="comment">#别名替换  </span></span><br><span class="line">print(<span class="string">'My name is &#123;0.name&#125;'</span>.format(open(<span class="string">'out.txt'</span>, <span class="string">'w'</span>))) \<span class="comment">#调用方法  </span></span><br><span class="line">print(<span class="string">'My name is &#123;0:8&#125;.'</span>.format(<span class="string">'Fred'</span>)) \<span class="comment">#指定宽度  </span></span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输出:</span><br></pre></td></tr></table></figure><p>Caroline is 25 years old.<br>Caroline is a girl.<br>0.333 is a decimal.<br>_Caroline__ is a 11 length.<br>Caroline is as Wendy.<br>My name is out.txt<br>My name is Fred.<br><code>`</code></p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> format() </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>正则表达式常用操作符</title>
      <link href="/2017/09/zhengze/"/>
      <url>/2017/09/zhengze/</url>
      
        <content type="html"><![CDATA[<h2 id="正则表达式常用操作符"><a href="#正则表达式常用操作符" class="headerlink" title="正则表达式常用操作符"></a>正则表达式常用操作符</h2><p>^    匹配字符串开头      ^abc表示abc且在一个字符串的开头</p><p>$    匹配字符串结尾    abc$表示abc且在一个字符串的结尾</p><p>( )   分组标记，内部只能使用 | 操作符    (abc)表示abc，(abc|def)表示abc、def</p><p>\d   数字，等价于[0‐9]</p><p>\w  单词字符，等价于[A‐Za‐z0‐9_]正则表达式语法由字符和操作符构成<br><a id="more"></a></p><p>.     表示任何单个字符</p><p>[ ]   字符集，对单个字符给出取值范围    [abc]表示a、b、c，[a‐z]表示a到z单个字符</p><p>[^ ]  非字符集，对单个字符给出排除范围    [^abc]表示非a或b或c的单个字符</p><ul><li>前一个字符0次或无限次扩展    abc* 表示 ab、abc、abcc、abccc等</li></ul><ul><li>前一个字符1次或无限次扩展    abc+ 表示 abc、abcc、abccc等</li></ul><p>?    前一个字符0次或1次扩展    abc? 表示 ab、abc</p><p>|     左右表达式任意一个   abc|def 表示 abc、def</p><p>{m}  扩展前一个字符m次    ab{2}c表示abbc</p><p>{m,n}   扩展前一个字符m至n次   ab{1,2}c表示abc、abbc</p><h2 id="典型事例："><a href="#典型事例：" class="headerlink" title="典型事例："></a>典型事例：</h2><p>正则表达式                   对应字符串<br>^[A‐Za‐z]+$                 由26个字母组成的字符串<br>^[A‐Za‐z0‐9]+$            由26个字母和数字组成的字符串<br>^‐?\d+$                       整数形式的字符串<br>^[0‐9]*[1‐9][0‐9]*$        正整数形式的字符串<br>[1‐9]\d{5}                    中国境内邮政编码，6位<br>[\u4e00‐\u9fa5]           匹配中文字符<br>[^\x00-\xff]              匹配双字节字符(包括汉字在内)<br>\d{3}‐\d{8}|\d{4}‐\d{7}    国内电话号码，010‐68913536</p><p>re.search() 在一个字符串中搜索匹配正则表达式的第一个位置，返回match对象</p><p>re.match() 从一个字符串的开始位置起匹配正则表达式，返回match对象</p><p>re.findall() 搜索字符串，以列表类型返回全部能匹配的子串</p><p>re.split() 将一个字符串按照正则表达式匹配结果进行分割，返回列表类型</p><p>re.finditer() 搜索字符串，返回一个匹配结果的迭代类型，每个迭代元素是match对象</p><p>re.sub() 在一个字符串中替换所有匹配正则表达式的子串，返回替换后的字符串</p><p>regex.search() 在一个字符串中搜索匹配正则表达式的第一个位置，返回match对象</p><p>regex.match() 从一个字符串的开始位置起匹配正则表达式，返回match对象</p><p>regex.findall() 搜索字符串，以列表类型返回全部能匹配的子串</p><p>regex.split() 将一个字符串按照正则表达式匹配结果进行分割，返回列表类型</p><p>regex.finditer() 搜索字符串，返回一个匹配结果的迭代类型，每个迭代元素是match对象</p><p>regex.sub() 在一个字符串中替换所有匹配正则表达式的子串，返回替换后的字符串</p><p>Match对象是一次匹配的结果，包含匹配的很多信息</p><p>.string 待匹配的文本</p><p>.re 匹配时使用的patter对象（正则表达式）</p><p>.pos 正则表达式搜索文本的开始位置</p><p>.endpos 正则表达式搜索文本的结束位置</p><p>.group(0) 获得匹配后的字符串</p><p>.start() 匹配字符串在原始字符串的开始位置</p><p>.end() 匹配字符串在原始字符串的结束位置</p><p>.span() 返回(.start(),  .end())</p><p>*? 前一个字符0次或无限次扩展，最小匹配</p><p>+? 前一个字符1次或无限次扩展，最小匹配</p><p>?? 前一个字符0次或1次扩展，最小匹配</p><p>{m,n}? 扩展前一个字符m至n次（含n），最小匹配</p><p>只要长度输出可能不同的，都可以通过在操作符后增加?变成最小匹配</p><p>re.search()                                                                  regex.search()<br>re.match()                                                                  regex.match()<br>re.findall()                   =   regex=re.compile() +              regex.findall()<br>re.split()                                                                      regex.split()<br>re.finditer()                                                                  regex.finditer()<br>re.sub()                                                                       regex.sub()</p>]]></content>
      
      
      <categories>
          
          <category> 正则 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 正则表达式常用操作符 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mac下 iterm+Zsh+Oh My Zsh+tmux 配置方案</title>
      <link href="/2017/09/iterm+Zsh+Oh%20myzsh+tmux/"/>
      <url>/2017/09/iterm+Zsh+Oh%20myzsh+tmux/</url>
      
        <content type="html"><![CDATA[<h2 id="iterm的一些优点："><a href="#iterm的一些优点：" class="headerlink" title="iterm的一些优点："></a>iterm的一些优点：</h2><p>兼容性好，远程服务器 vi 什么的低版本能很好兼容，Terminal 则会出问题 <a id="more"></a>（我是长时间在服务器上混的人，但其实并没有这种感觉～～）<br>支持 xterm-256 色，方便在终端中配置 vim/emacs 代码配色 （其实Terminal现在已经支持256色了）<br>快捷键丰富，自带/自己定义都很方便 （这个是关键，快捷键都我非常重要）<br>分屏简单方便，可以根据自己需要同时搭配上 tmux，大屏用起来爽到爆 （分屏只需要 command ＋（shift）＋ d）<br>个人常用的快捷键和功能：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">⌘ + 数字 ： 各 tab 标签切换</span><br><span class="line">⌘ + f ： 查找 ，所查找的内容会被自动复制 ,输入查找的部分字符，找到匹配的值按tab，即可复制</span><br><span class="line">⌘ + d ： 横着分屏</span><br><span class="line">⌘ + shift + d ： 竖着分屏</span><br><span class="line">⌘ + r = clear ： 换到新一屏，而不是 类似clear ，会创建一个空屏</span><br><span class="line">ctrl + u ：清空当前行，无论光标在什么位置</span><br><span class="line">() + ⌘ + ; ： [() 输入的命令开头字符],会自动列出输入过的命令</span><br><span class="line">⌘ + shift + h ： 会列出剪切板历史</span><br><span class="line">⌘← / ⌘→ : 到一行命令最左边/最右边</span><br><span class="line">⌘ + enter : 全屏</span><br></pre></td></tr></table></figure><h2 id="Zsh"><a href="#Zsh" class="headerlink" title="Zsh"></a>Zsh</h2><p>Mac 系统自带了 Zsh, 一般不是最新版，如果需要最新版可通过 Homebrew 来安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install zsh</span><br></pre></td></tr></table></figure><p>可通过 <code>zsh –version</code> 命令查看 Zsh 的版本<br>使用 <code>echo $ZSH_VERSION</code> 命令查看当前使用的 Zsh 版本</p><p>修改默认 Shell</p><p>在 /etc/shells 文件中加入如下一行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/bin/zsh</span><br></pre></td></tr></table></figure></p><p>然后运行命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chsh -s /usr/local/bin/zsh</span><br></pre></td></tr></table></figure></p><h3 id="Zsh配色设置："><a href="#Zsh配色设置：" class="headerlink" title="Zsh配色设置："></a>Zsh配色设置：</h3><ol><li>首先在wiki 里找到你中意的皮肤 名称.</li></ol><p>然后去 修改 zsh配置文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">➜  /Users/zhangzhi  &gt;nano .zshrc</span><br></pre></td></tr></table></figure><p>然后在配置内容中找到 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># time that oh-my-zsh is loaded.</span><br><span class="line">ZSH_THEME=&quot;robbyrussell&quot;</span><br></pre></td></tr></table></figure><p>ZSH_THEME 就是指定皮肤的名称.然后把你 wiki 里看中的皮肤名称替换进来就OK了</p><ol start="2"><li><p>也可以去用户目录 .oh-my-zsh 目录下找到 themes 目录<br>琳琅满目的皮肤.你可以调一款,可惜不能直接预览出效果….</p><p>然后把你挑中的皮肤名称配置在 .zshrc 文件中的 ZSH_THEME 配置项中.</p></li></ol><h2 id="Oh-My-Zsh"><a href="#Oh-My-Zsh" class="headerlink" title="Oh My Zsh"></a>Oh My Zsh</h2><p>Oh My Zsh 用来管理 Zsh 配置的，自带了好用的基本配置，基本都是 Zsh 的标配了，你不用再一步步重新配置 Zsh ，节约你的宝贵时间</p><p>项目主页：<a href="https://github.com/robbyrussell/oh-my-zsh" target="_blank" rel="noopener">https://github.com/robbyrussell/oh-my-zsh</a></p><p>安装方法见主页，很简单就不说了，下面说说一些常用的好用的功能：<br>配置文件在<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~/.zshrc</span><br></pre></td></tr></table></figure></p><p>连续按 tab, 能直接选择文件及文件夹，还可以使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">⌃ + n/p/f/b 来选择</span><br></pre></td></tr></table></figure></p><p>直接输入文件名打开文件，可指定不同的后缀名用不同的程序打开<br>在配置文件中写入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias -s md=mvim</span><br></pre></td></tr></table></figure></p><p>, 表明在命令行中输入 md 后缀的文件名，会用 mvim 打开<br>又例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias -s gz=&quot;tar -xzvf&quot;</span><br></pre></td></tr></table></figure></p><p>, 自动解压后缀为 gz 的压缩包<br>一些常用的压缩方式如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">alias -s tar=&quot;tar -xvf&quot;</span><br><span class="line">alias -s gz=&quot;tar -xzvf&quot;</span><br><span class="line">alias -s tgz=&quot;tar -xzvf&quot;</span><br><span class="line">alias -s bz2=&quot;tar -xjvf&quot;</span><br><span class="line">alias -s zip=&quot;unzip&quot;</span><br><span class="line">kill &lt;tab&gt; 会自动列出进程，或者 kill nginx</span><br></pre></td></tr></table></figure><p>支持递归，例如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls **/*</span><br></pre></td></tr></table></figure></p><p> 列出当前目录下所有文件及目录，并递归目录</p><p>使 man 结果高亮显示，在配置文件中写入如下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># man page highlight</span><br><span class="line">export LESS_TERMCAP_mb=$&apos;\E[01;31m&apos;       # begin blinking</span><br><span class="line">export LESS_TERMCAP_md=$&apos;\E[01;38;5;74m&apos;  # begin bold</span><br><span class="line">export LESS_TERMCAP_me=$&apos;\E[0m&apos;           # end mode</span><br><span class="line">export LESS_TERMCAP_se=$&apos;\E[0m&apos;           # end standout-mode</span><br><span class="line">export LESS_TERMCAP_so=$&apos;\E[38;5;246m&apos;    # begin standout-mode - info box</span><br><span class="line">export LESS_TERMCAP_ue=$&apos;\E[0m&apos;           # end underline</span><br><span class="line">export LESS_TERMCAP_us=$&apos;\E[04;38;5;146m&apos; # begin underline</span><br></pre></td></tr></table></figure><p>Oh My Zsh 本身自带了很多插件，不过基本都没有启用，插件目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~/.oh-my-zsh/plugins</span><br></pre></td></tr></table></figure></p><p>例如启用插件 git, autojump osx, 需要在配置文件中加入如下内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plugins=(git autojump osx)</span><br></pre></td></tr></table></figure><h3 id="osx-插件"><a href="#osx-插件" class="headerlink" title="osx 插件"></a>osx 插件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">man-preview 通过 preview 程序查看一个命令的手册</span><br><span class="line">quick-look 快速预览文件</span><br><span class="line">pfd 返回当前 Finder 打开的文件夹的路径</span><br><span class="line">cdf 切换到当前 Finder 所在的目录</span><br></pre></td></tr></table></figure><h3 id="autojump-插件"><a href="#autojump-插件" class="headerlink" title="autojump 插件"></a>autojump 插件</h3><h4 id="需要先安装-autojump"><a href="#需要先安装-autojump" class="headerlink" title="需要先安装 autojump"></a>需要先安装 autojump</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install autojump</span><br></pre></td></tr></table></figure><h4 id="使用方法："><a href="#使用方法：" class="headerlink" title="使用方法："></a>使用方法：</h4><p>j 目录名或目录名的一部分<br>跳转到最多访问的目录</p><h3 id="zsh-autosuggestions-插件：https-github-com-zsh-users-zsh-autosuggestions"><a href="#zsh-autosuggestions-插件：https-github-com-zsh-users-zsh-autosuggestions" class="headerlink" title="zsh-autosuggestions 插件：https://github.com/zsh-users/zsh-autosuggestions"></a>zsh-autosuggestions 插件：<a href="https://github.com/zsh-users/zsh-autosuggestions" target="_blank" rel="noopener">https://github.com/zsh-users/zsh-autosuggestions</a></h3><p>Fish 类的自动建议插件</p><p>自动建议的字体颜色可能和你终端的颜色相近，你可以将其改成其它的，比如设置为 blue<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE=&apos;fg=blue&apos;</span><br></pre></td></tr></table></figure></p><h2 id="tmux"><a href="#tmux" class="headerlink" title="tmux"></a>tmux</h2><p>官网：<a href="http://tmux.github.io/" target="_blank" rel="noopener">http://tmux.github.io/</a></p><p>一个终端复用软件，可将终端方案化</p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install tmux</span><br></pre></td></tr></table></figure><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvim ~/.tmux.conf</span><br></pre></td></tr></table></figure><p>并不喜欢反人类的全键盘式操作，而且也没有特别吸引我的点，所以基本不使用</p><p>经常连接服务器的人用起来应该挺好用的<br>比如，在一个窗口中分隔成多个终端同时运行不同的命令<br>使用 SSH 的时候，在网络不稳定的情况下，可保存工作环境</p>]]></content>
      
      
      <categories>
          
          <category> iterm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iterm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sublime text3 炫酷主题</title>
      <link href="/2017/09/sublime+theme+boxy/"/>
      <url>/2017/09/sublime+theme+boxy/</url>
      
        <content type="html"><![CDATA[<p>sublime text3 炫酷主题 Boxy 安装，如题</p><p>Boxy <a href="https://link.zhihu.com/?target=https%3A//github.com/ihodev/sublime-boxy" target="_blank" rel="noopener">ihodev/sublime-boxy</a><br>Boxy（The most hackable theme for Sublime Text 3）；自带多种主题风格，可以融合<a href="https://link.zhihu.com/?target=https%3A//github.com/ihodev/sublime-file-icons" target="_blank" rel="noopener">ihodev/sublime-file-icons</a>；切换主题风格不必改配置；还用废那心思自己改主题去？简单够用就好！<br><a id="more"></a><br>安装方法：Ctrl(Mac下Cmd)+Shift+P</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. `install package` -&gt; Boxy Theme</span><br><span class="line"></span><br><span class="line">2. `install package` -&gt; A File Icon</span><br></pre></td></tr></table></figure><p><img src="/2017/09/sublime+theme+boxy/1.png" alt></p><p><img src="/2017/09/sublime+theme+boxy/2.png" alt></p><p><img src="/2017/09/sublime+theme+boxy/3.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> sublime </category>
          
      </categories>
      
      
        <tags>
            
            <tag> sublimetext3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mac上Python版本不同时给指定的版本安装库</title>
      <link href="/2017/09/python3+scrapy/"/>
      <url>/2017/09/python3+scrapy/</url>
      
        <content type="html"><![CDATA[<p>例如给Python3安装scrapy库<br><a id="more"></a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo python3 -m pip install scrapy</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>为zsh和VIM配置一个状态提示栏</title>
      <link href="/2017/09/zsh+vim/"/>
      <url>/2017/09/zsh+vim/</url>
      
        <content type="html"><![CDATA[<p><code>本文将详细介绍在Mac环境下安装powerline的方式</code></p><h2 id="什么是powerline"><a href="#什么是powerline" class="headerlink" title="什么是powerline"></a>什么是powerline</h2><p>如果你不是通过搜索引擎搜到这篇文章的话，也许你还没有听说过powerline。而你又恰巧是个*UNIX党，或者VIM党的话，那么强烈建议你了解并使用powerline。powerline是一个stateless status line，即一个全局状态/提示栏。如果你成功为你的bash,Terminal,iTerm2,VIM配置上powerline的话，那么效果将会是这样的：<br><a id="more"></a><br>Bash的提示符将会是这样的：<br><img src="/2017/09/zsh+vim/bash.png" alt><br>VIM的状态栏将会是这样的：<br><img src="/2017/09/zsh+vim/vim.png" alt></p><p>VIM的整体效果图：<br><img src="/2017/09/zsh+vim/whole.png" alt></p><p>相信看了以上几个截图后，powerline的功能也就不言而喻了。他提供了各个app各个环境下的状态提示，极大的提高了工作效率</p><h2 id="开始Mac上安装powerline"><a href="#开始Mac上安装powerline" class="headerlink" title="开始Mac上安装powerline"></a>开始Mac上安装powerline</h2><p>首先我们需要下载安装powerline。在正式安装之前先啰嗦几句powerline的代码结构，github上的powerline项目下涵盖了用于适配各种APP(bash，vim等)的代码。因此，你完全可以在Mac任何一个地方下载该代码包，然后将不同的APP配置使用这个路径，以Plugin形式加载。为了方便读者选择性安装，本文对于不同的程序将分开给出安装路径和配置。</p><p>先确定本机环境有一套版本大于等于2.7的Python的环境。如果没有合适环境的话，可以通过homebrew安装，这里不多做赘述。</p><p><code>shell&gt; python -v</code></p><p>Python 2.7.9</p><p>然后通过pip安装powerline：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell&gt; pip install powerline-status</span><br></pre></td></tr></table></figure><p>安装完成后通过pip show powerline-status查看powerline所处的具体路径。注意：这个路径很重要，会用在之后的配置环节</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">shell&gt; pip show powerline-status</span><br><span class="line">Name: powerline-status</span><br><span class="line">Version: 2.0</span><br><span class="line">Location: /Library/Python/2.7/site-packages</span><br><span class="line">Requires:</span><br></pre></td></tr></table></figure><h2 id="配置Bash使用powerline"><a href="#配置Bash使用powerline" class="headerlink" title="配置Bash使用powerline"></a>配置Bash使用powerline</h2><p>配置方法很简单，只需要在Bash配置文件(例如：/etc/bashrc，~/.bashrc，~/.bash_profile)中增加一行调用安装路径下的bindings/bash/powerline.sh即可。这样每次调用生成新的Bash窗口时，都会自动执行powerline.sh文件中的内容。下面以~/.bash_profile为例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">shell&gt; echo &lt;&lt; EOF &gt;&gt; ~/.bash_profile </span><br><span class="line">. /Library/Python/2.7/site-packages/powerline/bindings/bash/powerline.sh</span><br><span class="line">EOF</span><br><span class="line">shell&gt; . /Library/Python/2.7/site-packages/powerline/bindings/bash/powerline.sh</span><br></pre></td></tr></table></figure><h2 id="配置zsh使用powerline"><a href="#配置zsh使用powerline" class="headerlink" title="配置zsh使用powerline"></a>配置zsh使用powerline</h2><p>. /Users/[用户名]/Library/Python/2.7/lib/python/site-packages/powerline/bindings/zsh/powerline.zsh</p><p>注意：根据python安装方式的不同，你的powerline所在路径也可能不同。如果你是通过python官网或者apple store通过安装工具安装的python，那么你的powerline安装路径就是/Library/Python/2.7/site-packages/powerline/。如果你是通过brew install python的话，那么你的powerline路径可能会有不同。请根据实际情况修改上面的命令。</p><h2 id="Teriminal字体配置"><a href="#Teriminal字体配置" class="headerlink" title="Teriminal字体配置"></a>Teriminal字体配置</h2><p>执行完上面两步后，不出意外powerline就已经开始工作了。但是你会发现Bash提示符会和下图一样是一些非常恶心的符号。<br><img src="/2017/09/zsh+vim/moji.png" alt></p><p>现这样情况的原因是powerline为了美观自己造了一些符号，而这些符号不在Unicode字库内（如果你不知道Unicode字库是什么的话可以看下博主以前的相关介绍）。所以想要powerline正常显示的话，需要安装特殊处理过的字体。好在有一位热心人的帮助，他把大部分的程序猿常用的等宽字体都打上了powerline patch使得我们的这部配置将异常简单。首先我们从github上下载并安装字体：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shell&gt; git clone https://github.com/powerline/fonts.git</span><br><span class="line">shell&gt; cd fonts</span><br><span class="line">shell&gt; ./install.sh</span><br></pre></td></tr></table></figure><p>安装完成后我们就可以在iTerm2或者Terminal的字体选项里看到并选择多个xxx for powerline的字体了。*注意：对于ASCII fonts和non-ASCII fonts都需要选择for powerline的字体。如下图：<br>!<a href="为zsh和VIM配置一个状态提示栏/fonts.png"></a></p><h2 id="VIM相关配置"><a href="#VIM相关配置" class="headerlink" title="VIM相关配置"></a>VIM相关配置</h2><p>这部分我们将介绍如何为VIM配置powerline。首先你需要确保你的vim编译时开启了python支持。如果通过<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python --version|grep +python</span><br></pre></td></tr></table></figure></p><p>没有结果的话，那么你需要通过</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install vim --<span class="keyword">with</span>-python --<span class="keyword">with</span>-ruby --<span class="keyword">with</span>-perl</span><br></pre></td></tr></table></figure><p>重新编译安装vim，或者使用</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install macvim --env-std --override-system-vim</span><br></pre></td></tr></table></figure><p>安装macvim。</p><p>然后，你只需要在~/.vimrc中加上以下部分，VIM就能够正常加载powerline功能了： 注意：其中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set rtp+=/Library/Python/2.7/site-packages/powerline/bindings/vim</span><br></pre></td></tr></table></figure></p><p>和上文一样需要按照自己的实际情况调整。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set rtp+=/Library/Python/2.7/site-packages/powerline/bindings/vim</span><br><span class="line">&quot; These lines setup the environment to show graphics and colors correctly.</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">set nocompatible</span><br><span class="line">set t_Co=256 </span><br><span class="line">let g:minBufExplForceSyntaxEnable = 1</span><br><span class="line">python from powerline.vim import setup as powerline_setup</span><br><span class="line">python powerline_setup()</span><br><span class="line">python del powerline_setup</span><br><span class="line">if ! has(&apos;gui_running&apos;)</span><br><span class="line">   set ttimeoutlen=10</span><br><span class="line">   augroup FastEscape</span><br><span class="line">      autocmd!</span><br><span class="line">      au InsertEnter * set timeoutlen=0</span><br><span class="line">      au InsertLeave * set timeoutlen=1000</span><br><span class="line">   augroup END</span><br><span class="line">endif </span><br><span class="line">set laststatus=2 &quot; Always display the statusline in all windows</span><br><span class="line">set guifont=Inconsolata\ for\ Powerline:h14</span><br><span class="line">set noshowmode &quot; Hide the default mode text (e.g. -- INSERT -- below the statusline</span><br></pre></td></tr></table></figure><p>#####或者添加：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set rtp+=/usr/local/lib/python3.5/site-packages/powerline/bindings/vim</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">set guifont=Inconsolata\ for\ Powerline:h15</span><br><span class="line">let g:Powerline_symbols = &apos;fancy&apos;</span><br><span class="line">set laststatus=2</span><br><span class="line">set encoding=utf-8</span><br><span class="line">set t_Co=256</span><br><span class="line">set number</span><br><span class="line">set fillchars+=stl:\ ,stlnc:\</span><br><span class="line">set term=xterm-256color</span><br><span class="line">set termencoding=utf-8</span><br><span class="line">set background=light</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> mac </category>
          
      </categories>
      
      
        <tags>
            
            <tag> zsh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+GitHub Pages搭建的个人博客</title>
      <link href="/2017/09/hexo+github+pages/"/>
      <url>/2017/09/hexo+github+pages/</url>
      
        <content type="html"><![CDATA[<ol><li><p>什么是 Hexo，什么是 NexT 主题？</p><a id="more"></a><p>Hexo 是一个基于 Node.js 的静态站点生成框架，快速、简洁且高效。Hexo 主要使用 Markdown 解析文章，在几秒内，即可利用靓丽的主题生成静态网页。NexT 是其一个非常简洁优雅的主题。</p></li><li><p>什么是 Markdown？<br>Markdown 用过一些简单的标记，让你的文字实现精致的排版，实现易读易写，无需考虑美化，专注文字本身。</p></li><li><p>什么是 GitHub ?<br>GitHub 是基于 Git 技术的社交编程及代码托管网站。你可以用它对你的项目进行版本控制，也可以浏览学习、参与开发别人的开源项目，甚至可以交友。</p></li><li><p>如何把这些名词串联起来？</p></li></ol><p>安装必要的软件后，使用 Hexo 创建你的本地博客，生成静态页面；<br>将静态页面托管到 GitHub 上，这样别人就可以通过公开网址访问你的博客了；<br>下载 NexT 主题美化你的博客样式。</p><h2 id="安装-Git-基本使用教程自己寻找"><a href="#安装-Git-基本使用教程自己寻找" class="headerlink" title="安装 Git(基本使用教程自己寻找)"></a>安装 Git(基本使用教程自己寻找)</h2><pre><code>Windows：下载后一路安装 git-for-windows（国内下载点）Mac：使用 Homebrew, MacPorts ：        <pre><code>$ brew install git</code></pre>或下载 安装程序 安装。Linux (Ubuntu, Debian)：        <pre><code>$ sudo apt-get install git-core</code></pre>Linux (Fedora, Red Hat, CentOS)：<pre><code>$ sudo yum install git-core</code></pre>Hexo安装与配置这篇教程是针对与Windows的。</code></pre><h3 id="1-安装-Node-js"><a href="#1-安装-Node-js" class="headerlink" title="1.安装 Node.js"></a>1.安装 Node.js</h3><pre><code>Mac / Linux：使用 curl 或 wget 下载安装<pre><code>$ curl https://raw.github.com/creationix/nvm/master/install.sh | sh</code></pre><pre><code>$ wget -qO- https://raw.github.com/creationix/nvm/master/install.sh | sh</code></pre>重启终端并执行下列命令： $ nvm install stableWindows：下载后一路安装 Node.js</code></pre>### 2.安装hexo<pre><code>进入Git Bash,使用以下命令安装hexo($是提示符)<pre><code>$ npm install hexo-cli -g</code></pre><pre><code>$ npm install hexo-deployer-git --save</code></pre><pre><code>$ hexo g</code></pre><pre><code>$ hexo d</code></pre>如果网络很慢，可以执行以下命令npm install -g cnpm --registry=https://registry.npm.taobao.orgccnpm install hexo-cli -g</code></pre>### 3.创建博客目录<pre><code>接下来创建放置博客文件的文件夹：yangql881012.github.io文件夹。我hexo文件夹的位置为E:\学习资料\97_github\yangql881012.github.io，名字和地方可以自由选择。之后进入文件夹，即E:\学习资料\97_github\yangql881012.github.io内，点击鼠标右键，选择Git Bash，执行以下命令，Hexo会自动在该文件夹下下载搭建网站所需的所有文件。<pre><code>$ hexo init</code></pre><pre><code>$ npm install</code></pre>注：npm install 安装依赖包执行以下命令，相看相应效果<pre><code>$ hexo g</code></pre><pre><code>$ hexo s</code></pre>然后用浏览器访问http://localhost:4000/，此时，你应该看到了一个漂亮的博客了。</code></pre><h3 id="4-部署本地文件到github"><a href="#4-部署本地文件到github" class="headerlink" title="4.部署本地文件到github"></a>4.部署本地文件到github</h3><p>既然Repository已经创建了，当然是先把博客放到Github上去看看效果。编辑E:\学习资料\97_github\yangql881012.github.io下的_config.yml文件，建议使用Notepad++。<br>在_config.yml最下方，添加如下配置(命令中的第一个yangql881012为Github的用户名,第二个yangql881012.github.io为之前New的Repository的名字,记得改成自己的。另外记得一点，hexo的配置文件中任何’:’后面都是带一个空格的),如果配置以下命令出现ERROR Deployer not found : github，则参考上文的解决方法。</p><pre><code>deploy:  type: git  repository: http://github.com/yangql881012/yangql881012.github.io.git  branch: master</code></pre>配置好_config.yml并保存后，执行以下命令部署到Github上。<pre><code>$ hexo g</code></pre><pre><code>$ hexo d</code></pre>此时，我们的博客已经搭建起来，并发布到Github上了，在浏览器访问yangql881012.github.io就能看到自己的博客了。### 5.hexo的配置文件hexo里面有两个常用到的配置文件，分别是整个博客的配置文件E:\学习资料\97_github\yangql881012.github.io\\\_config.yml和主题的配置文件E:\学习资料\97_github\yangql881012.github.io\themes\next\\\_config.yml，此地址是对于我来说，hexo3.0使用的默认主题是landscape，因此你们的地址应该是E:\学习资料\97_github\yangql881012.github.io\themes\landscape\\\_config.yml，可在这两个文件里修改相应的配置信息。博客配置文件 \_config.yml主题配置文件 \_config.yml### 6.发布一篇文章在Git Bash执行命令：<pre><code>$ hexo new "my new post"</code></pre>在E:\yangql881012.github.io\source_post中打开my-new-post.md，打开方式使用记事本或notepad++。title: my new post #文章标题date: 2016-11-12 22:56:29 #发表日期，一般不改动categories: blog #文章文类<p>  </p><p>tags: [博客，文章] #文章标签，多于一项时用这种格式，只有一项时使用tags: blog\---\#这里是正文，用markdown写，你可以选择写一段显示在首页的简介后，加上  </p><p><\!--more-->#在<\!--more-->之前的内容会显示在首页，之后的内容会被隐藏，当游客点击Read more才能看到。  </\!--more--></\!--more--></p><p></p>写完文章后，你可以使用以下命令：$ hexo g生成静态文件。$ hexo s在本地预览效果。hexo d同步到github使用你的地址进行访问。hexo部署后，CNAME会被自动删除，怎么办？自己的独立域名需要用CNAME连接到github pages把’README.MD’文件的后缀名改成”MDOWN”然后扔到blog/source文件夹下即可，这样hexo不会解析，github也会将其作为MD文件解析只需要将将需要上传至github的内容放在source文件夹，例如CNAME、favicon.ico、images等。## 第3章 安装nexT<pre><code>Hexo 安装主题的方式非常简单，只需要将主题文件拷贝至站点目录的 themes 目录下， 然后修改下配置文件即可。具体到 NexT 来说，安装步骤如下。###1.下载主题打开 Git Bash<pre><code>cd E:\学习资料\97_github\yangql881012.github.io</code></pre><pre><code>git clone https://github.com/iissnan/hexo-theme-next themes/next</code></pre><h3 id="2-启用主题"><a href="#2-启用主题" class="headerlink" title="2.启用主题"></a>2.启用主题</h3><p>与所有 Hexo 主题启用的模式一样。 当 克隆/下载 完成后，打开 站点配置文件， 找到 theme 字段，并将其值更改为 next。</p><pre><code>theme: next</code></pre>到此，NexT 主题安装完成。下一步我们将验证主题是否正确启用。在切换主题之后、验证之前， 我们最好使用 hexo clean 来清除 Hexo 的缓存。### 3.验证主题首先启动 Hexo 本地站点，并开启调试模式（即加上 --debug），整个命令是 hexo s --debug。 在服务启动的过程，注意观察命令行输出是否有任何异常信息，如果你碰到问题，这些信息将帮助他人更好的定位错误。 当命令行输出中提示出：INFO Hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop.此时即可使用浏览器访问 http://localhost:4000，检查站点是否正确运行。### 4.主题设定Scheme 是 NexT 提供的一种特性，借助于 Scheme，NexT 为你提供多种不同的外观。同时，几乎所有的配置都可以 在 Scheme 之间共用。目前 NexT 支持三种 Scheme，他们是：Muse - 默认 Scheme，这是 NexT 最初的版本，黑白主调，大量留白Mist - Muse 的紧凑版本，整洁有序的单栏外观Pisces - 双栏 Scheme，小家碧玉似的清新Scheme 的切换通过更改 主题配置文件，搜索 scheme 关键字。 你会看到有三行 scheme 的配置，将你需用启用的 scheme 前面注释 # 即可。<pre><code><p>#scheme: Muse#scheme: Mist</p>scheme: Pisces</code></pre>更多信息请见nexT官方文档</code></pre><h2 id="第四章-图片使用"><a href="#第四章-图片使用" class="headerlink" title="第四章 图片使用"></a>第四章 图片使用</h2><pre><code>###1.首先确认_config.yml中有:###<pre><code>post_asset_folder: true</code></pre><h4 id="2-然后在yangql881012-github-io-下执行"><a href="#2-然后在yangql881012-github-io-下执行" class="headerlink" title="2.然后在yangql881012.github.io/下执行"></a>2.然后在yangql881012.github.io/下执行</h4><pre><code>npm install https://github.com/CodeFalling/hexo-asset-image --save</code></pre><h4 id="3-确保在yangql881012-github-io-source-posts下创建和md文件同名的目录，在里面放该md需要的图片，然后在md中插入"><a href="#3-确保在yangql881012-github-io-source-posts下创建和md文件同名的目录，在里面放该md需要的图片，然后在md中插入" class="headerlink" title="3.确保在yangql881012.github.io/source/_posts下创建和md文件同名的目录，在里面放该md需要的图片，然后在md中插入"></a>3.确保在yangql881012.github.io/source/_posts下创建和md文件同名的目录，在里面放该md需要的图片，然后在md中插入</h4><p></p><p>!<a href="目录名/文件名.png"></a></p><p>即可在hexo generate时正确生成插入图片。比如：</p><pre><code>|- post1.md|_ post1    |- pic1.png</code></pre><p>在md文件中插入图片时只需写</p><p>!<a href="post1/pic1.png"></a></p><p>首次配置完了需要执行一次清除操作，再生成页面：</p><pre><code>$ hexo clean </code></pre>   <pre><code>$ hexo generate  </code></pre>   <pre><code>$ hexo server</code></pre><p></p></code></pre><h2 id="【源代码托管】"><a href="#【源代码托管】" class="headerlink" title="【源代码托管】"></a>【源代码托管】</h2><p>源代码用于生成静态页面，一直放在本地的话，用其他电脑就不方便修改了。所以可以源代码托管到 GitHub 上。网上将源代码托管到博客的 Repository 的新建分支中会出现主题文件夹无法同步的问题。这里采用新建 Repository 的方法实现源代码托管。</p><p>上传源代码到 GitHub</p><p>确认源代码下 .gitignore 内容：</p><pre><code>.DS_StoreThumbs.dbdb.json*.lognode_modules/public/.deploy*/GitHub 上新建 hexo_blog 仓库，复制 Clone or download 下的在线地址。git initgit remote add origin <server>  # hexo_blog 仓库的在线地址git add . #添加 blog 目录下所有文件，注意有个'.' ( .gitignore 里面声明的文件不在此内)git commit -m "hexo source first add"  # 添加更新说明git push -u origin master  # 推送更新到 git 上</server></code></pre>这里有个坑需要注意一下，就是创建远程仓库的时候，如果你勾选了Initialize this repository with a README（就是创建仓库的时候自动给你创建一个README文件），那么到了第五个你将本地仓库内容推送到远程仓库的时候就会报一个failed to push some refs to https://github.com/guyibang/TEST2.git的错。 这是由于你新创建的那个仓库里面的README文件不在本地仓库目录中，这时我们可以通过以下命令先将内容合并以下：<pre><code>$ git pull --rebase origin master</code></pre><p>这时你再push就能成功了。</p><p>下载源代码到另一台电脑</p><p>配置好 Git，SSH，初始化 Hexo 环境后，新建博客的本地文件夹：</p><pre><code>git init  # 将目录添加到版本控制系统中git remote add origin <server>  # 同上git fetch --all  # 将 git 上所有文件拉取到本地git reset --hard origin/master  # 强制将本地内容指向刚刚同步 git 云端内容reset 对所拉取的文件不做任何处理，此处不用 pull 是因为本地尚有许多文件，使用 pull 会有一些版本冲突，解决起来也麻烦，而本地的文件都是初始化生成的文件，较拉取的库里面的文件而言基本无用，所以直接丢弃。从 GitHub 仓库中更新源代码git pull  # 更新源代码</server></code></pre><p>#####由于主题文件也是第三方git库，提交后第三方主题文件夹为空，我们通过 git submodule 来同步第三方主题<br></p><h2 id="【域名绑定】"><a href="#【域名绑定】" class="headerlink" title="【域名绑定】"></a>【域名绑定】</h2><pre><code>购买域名万网或其他平台。域名解析进入工作台，点击域名，然后解析。第一次可能需要填写个人信息，填完了，点击上面的域名解析 -> 解析设置 -> 添加解析，记录类型选 A 或 CNAME， A 记录的记录值就是 ip 地址， GitHub 提供了两个 IP 地址， 192.30.252.153 和 192.30.252.154，随便填一个就行，解析记录设置两个 www 和不填，线路就默认就行了，CNAME 记录值填你的 Coding 的博客网址。如果选择 A 记录，就要在网站根目录新建 CNAME 文件，里面填写注册的域名，之后修改站点配置文件，把站点地址更新成新的绑定的域名即可。</code></pre><h2 id="【主题美化】"><a href="#【主题美化】" class="headerlink" title="【主题美化】"></a>【主题美化】</h2><pre><code><p>把侧边栏头像变成圆形，并且鼠标停留在上面发生旋转效果修改 themes\next\source\css\_common\components\sidebar\sidebar-author.styl：.site-author-image {  display: block;  margin: 0 auto;  padding: $site-author-image-padding;  max-width: $site-author-image-width;  height: $site-author-image-height;  border: site-author-image-border-color;  /* start*/  border-radius: 50%  webkit-transition: 1.4s all;  moz-transition: 1.4s all;  ms-transition: 1.4s all;  transition: 1.4s all;  /* end */}/* start */.site-author-image:hover {  background-color: #55DAE1;  webkit-transform: rotate(360deg) scale(1.1);  moz-transform: rotate(360deg) scale(1.1);  ms-transform: rotate(360deg) scale(1.1);  transform: rotate(360deg) scale(1.1);}/* end */为 NexT 主题的主页文章添加阴影效果打开 themes/next/source/css/_custom/custom.styl 文件添加：.post {  margin-top: 60px;  margin-bottom: 60px;  padding: 25px;  -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);  -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5); }为 NexT 主题添加 canvas_nest 背景特效打开 /next/_config.yml，修改 canvas_nest 参数：# Canvas-nestcanvas_nest: true# three_wavesthree_waves: false# canvas_linescanvas_lines: false# canvas_spherecanvas_sphere: false# Only fit scheme Pisces# Canvas-ribboncanvas_ribbon: false设置网站的图标Favicon在 EasyIcon 中找一张（32*32）的 ico 图标,或者去别的网站下载或者制作，并将图标名称改为 favicon.ico，然后把图标放在 /themes/next/source/images 里，并且修改【主题配置文件】hexo_blog\themes\next\_config.yml：# Put your favicon.ico into `hexo-site/source/` directory.favicon: /favicon.ico修改字体大小打开 \themes\next\source\css\ _variables\base.styl 文件，将 $font-size-base 改成 16px，如下所示：$font-size-base =16px为NexT主题添加文章阅读量统计功能为NexT主题添加文章阅读量统计功能</p></code></pre><p>hexo文档<br><a href="https://hexo.io/zh-cn/index.html" target="_blank" rel="noopener">https://hexo.io/zh-cn/index.html</a><br>next文档<br><a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener">http://theme-next.iissnan.com/getting-started.html</a></p><p>转自：<br>作者：戴戴Day<br>链接：<a href="http://www.jianshu.com/p/d34e9531cfce" target="_blank" rel="noopener">http://www.jianshu.com/p/d34e9531cfce</a><br>作者：不圆的石头<br>链接：<a href="http://www.jianshu.com/p/c07ccdfba068" target="_blank" rel="noopener">http://www.jianshu.com/p/c07ccdfba068</a></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
